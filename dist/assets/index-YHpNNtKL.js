var eT=Object.defineProperty;var tT=(e,t,r)=>t in e?eT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var $m=(e,t,r)=>tT(e,typeof t!="symbol"?t+"":t,r);function rT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var UN={exports:{}},of={},qN={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=Symbol.for("react.element"),aT=Symbol.for("react.portal"),sT=Symbol.for("react.fragment"),iT=Symbol.for("react.strict_mode"),oT=Symbol.for("react.profiler"),lT=Symbol.for("react.provider"),cT=Symbol.for("react.context"),uT=Symbol.for("react.forward_ref"),dT=Symbol.for("react.suspense"),fT=Symbol.for("react.memo"),mT=Symbol.for("react.lazy"),Wy=Symbol.iterator;function hT(e){return e===null||typeof e!="object"?null:(e=Wy&&e[Wy]||e["@@iterator"],typeof e=="function"?e:null)}var WN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VN=Object.assign,KN={};function Xi(e,t,r){this.props=e,this.context=t,this.refs=KN,this.updater=r||WN}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GN(){}GN.prototype=Xi.prototype;function h0(e,t,r){this.props=e,this.context=t,this.refs=KN,this.updater=r||WN}var p0=h0.prototype=new GN;p0.constructor=h0;VN(p0,Xi.prototype);p0.isPureReactComponent=!0;var Vy=Array.isArray,HN=Object.prototype.hasOwnProperty,g0={current:null},YN={key:!0,ref:!0,__self:!0,__source:!0};function XN(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)HN.call(t,n)&&!YN.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Bl,type:e,key:i,ref:o,props:a,_owner:g0.current}}function pT(e,t){return{$$typeof:Bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function v0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bl}function gT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ky=/\/+/g;function Lm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gT(""+e.key):t.toString(36)}function du(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bl:case aT:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Lm(o,0):n,Vy(a)?(r="",e!=null&&(r=e.replace(Ky,"$&/")+"/"),du(a,t,r,"",function(u){return u})):a!=null&&(v0(a)&&(a=pT(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Ky,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Vy(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Lm(i,l);o+=du(i,t,r,c,a)}else if(c=hT(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Lm(i,l++),o+=du(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Nc(e,t,r){if(e==null)return e;var n=[],a=0;return du(e,n,"","",function(i){return t.call(r,i,a++)}),n}function vT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},fu={transition:null},xT={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:fu,ReactCurrentOwner:g0};function QN(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Nc,forEach:function(e,t,r){Nc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Nc(e,function(){t++}),t},toArray:function(e){return Nc(e,function(t){return t})||[]},only:function(e){if(!v0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Xi;ue.Fragment=sT;ue.Profiler=oT;ue.PureComponent=h0;ue.StrictMode=iT;ue.Suspense=dT;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xT;ue.act=QN;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=VN({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=g0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)HN.call(t,c)&&!YN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Bl,type:e.type,key:a,ref:i,props:n,_owner:o}};ue.createContext=function(e){return e={$$typeof:cT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lT,_context:e},e.Consumer=e};ue.createElement=XN;ue.createFactory=function(e){var t=XN.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:uT,render:e}};ue.isValidElement=v0;ue.lazy=function(e){return{$$typeof:mT,_payload:{_status:-1,_result:e},_init:vT}};ue.memo=function(e,t){return{$$typeof:fT,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=fu.transition;fu.transition={};try{e()}finally{fu.transition=t}};ue.unstable_act=QN;ue.useCallback=function(e,t){return zt.current.useCallback(e,t)};ue.useContext=function(e){return zt.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};ue.useEffect=function(e,t){return zt.current.useEffect(e,t)};ue.useId=function(){return zt.current.useId()};ue.useImperativeHandle=function(e,t,r){return zt.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return zt.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return zt.current.useReducer(e,t,r)};ue.useRef=function(e){return zt.current.useRef(e)};ue.useState=function(e){return zt.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return zt.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return zt.current.useTransition()};ue.version="18.3.1";qN.exports=ue;var p=qN.exports;const yn=Gn(p),lf=rT({__proto__:null,default:yn},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT=p,bT=Symbol.for("react.element"),wT=Symbol.for("react.fragment"),jT=Object.prototype.hasOwnProperty,NT=yT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_T={key:!0,ref:!0,__self:!0,__source:!0};function JN(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)jT.call(t,n)&&!_T.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:bT,type:e,key:i,ref:o,props:a,_owner:NT.current}}of.Fragment=wT;of.jsx=JN;of.jsxs=JN;UN.exports=of;var s=UN.exports,tp={},ZN={exports:{}},dr={},e_={exports:{}},t_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,z){var W=L.length;L.push(z);e:for(;0<W;){var G=W-1>>>1,Y=L[G];if(0<a(Y,z))L[G]=z,L[W]=Y,W=G;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var z=L[0],W=L.pop();if(W!==z){L[0]=W;e:for(var G=0,Y=L.length,rt=Y>>>1;G<rt;){var ve=2*(G+1)-1,ke=L[ve],Xe=ve+1,$=L[Xe];if(0>a(ke,W))Xe<Y&&0>a($,ke)?(L[G]=$,L[Xe]=W,G=Xe):(L[G]=ke,L[ve]=W,G=ve);else if(Xe<Y&&0>a($,W))L[G]=$,L[Xe]=W,G=Xe;else break e}}return z}function a(L,z){var W=L.sortIndex-z.sortIndex;return W!==0?W:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=L)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function j(L){if(v=!1,x(L),!g)if(r(c)!==null)g=!0,E(N);else{var z=r(u);z!==null&&F(j,z.startTime-L)}}function N(L,z){g=!1,v&&(v=!1,w(C),C=-1),h=!0;var W=m;try{for(x(z),f=r(c);f!==null&&(!(f.expirationTime>z)||L&&!O());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var Y=G(f.expirationTime<=z);z=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(c)&&n(c),x(z)}else n(c);f=r(c)}if(f!==null)var rt=!0;else{var ve=r(u);ve!==null&&F(j,ve.startTime-z),rt=!1}return rt}finally{f=null,m=W,h=!1}}var _=!1,S=null,C=-1,A=5,P=-1;function O(){return!(e.unstable_now()-P<A)}function T(){if(S!==null){var L=e.unstable_now();P=L;var z=!0;try{z=S(!0,L)}finally{z?U():(_=!1,S=null)}}else _=!1}var U;if(typeof b=="function")U=function(){b(T)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,K=q.port2;q.port1.onmessage=T,U=function(){K.postMessage(null)}}else U=function(){y(T,0)};function E(L){S=L,_||(_=!0,U())}function F(L,z){C=y(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,E(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var W=m;m=z;try{return L()}finally{m=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=m;m=L;try{return z()}finally{m=W}},e.unstable_scheduleCallback=function(L,z,W){var G=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,L={id:d++,callback:z,priorityLevel:L,startTime:W,expirationTime:Y,sortIndex:-1},W>G?(L.sortIndex=W,t(u,L),r(c)===null&&L===r(u)&&(v?(w(C),C=-1):v=!0,F(j,W-G))):(L.sortIndex=Y,t(c,L),g||h||(g=!0,E(N))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var z=m;return function(){var W=m;m=z;try{return L.apply(this,arguments)}finally{m=W}}}})(t_);e_.exports=t_;var ST=e_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CT=p,cr=ST;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r_=new Set,il={};function Ts(e,t){_i(e,t),_i(e+"Capture",t)}function _i(e,t){for(il[e]=t,e=0;e<t.length;e++)r_.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rp=Object.prototype.hasOwnProperty,kT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gy={},Hy={};function ET(e){return rp.call(Hy,e)?!0:rp.call(Gy,e)?!1:kT.test(e)?Hy[e]=!0:(Gy[e]=!0,!1)}function PT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AT(e,t,r,n){if(t===null||typeof t>"u"||PT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ut(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var x0=/[\-:]([a-z])/g;function y0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x0,y0);Ct[t]=new Ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x0,y0);Ct[t]=new Ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x0,y0);Ct[t]=new Ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function b0(e,t,r,n){var a=Ct.hasOwnProperty(t)?Ct[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AT(t,r,a,n)&&(r=null),n||a===null?ET(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Hn=CT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_c=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),w0=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),n_=Symbol.for("react.provider"),a_=Symbol.for("react.context"),j0=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),sp=Symbol.for("react.suspense_list"),N0=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),s_=Symbol.for("react.offscreen"),Yy=Symbol.iterator;function go(e){return e===null||typeof e!="object"?null:(e=Yy&&e[Yy]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Fm;function Ro(e){if(Fm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fm=t&&t[1]||""}return`
`+Fm+e}var Bm=!1;function zm(e,t){if(!e||Bm)return"";Bm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ro(e):""}function OT(e){switch(e.tag){case 5:return Ro(e.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 2:case 15:return e=zm(e.type,!1),e;case 11:return e=zm(e.type.render,!1),e;case 1:return e=zm(e.type,!0),e;default:return""}}function ip(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zs:return"Fragment";case Js:return"Portal";case np:return"Profiler";case w0:return"StrictMode";case ap:return"Suspense";case sp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case a_:return(e.displayName||"Context")+".Consumer";case n_:return(e._context.displayName||"Context")+".Provider";case j0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N0:return t=e.displayName||null,t!==null?t:ip(e.type)||"Memo";case ca:t=e._payload,e=e._init;try{return ip(e(t))}catch{}}return null}function TT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ip(t);case 8:return t===w0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ta(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function i_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IT(e){var t=i_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sc(e){e._valueTracker||(e._valueTracker=IT(e))}function o_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=i_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $u(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function op(e,t){var r=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ta(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l_(e,t){t=t.checked,t!=null&&b0(e,"checked",t,!1)}function lp(e,t){l_(e,t);var r=Ta(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cp(e,t.type,r):t.hasOwnProperty("defaultValue")&&cp(e,t.type,Ta(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cp(e,t,r){(t!=="number"||$u(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Do=Array.isArray;function di(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ta(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function up(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(Do(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ta(r)}}function c_(e,t){var r=Ta(t.value),n=Ta(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function u_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?u_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cc,d_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ol(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MT=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(e){MT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qo[t]=qo[e]})});function f_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qo.hasOwnProperty(e)&&qo[e]?(""+t).trim():t+"px"}function m_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=f_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var RT=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fp(e,t){if(t){if(RT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function mp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=null;function _0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pp=null,fi=null,mi=null;function eb(e){if(e=ql(e)){if(typeof pp!="function")throw Error(V(280));var t=e.stateNode;t&&(t=mf(t),pp(e.stateNode,e.type,t))}}function h_(e){fi?mi?mi.push(e):mi=[e]:fi=e}function p_(){if(fi){var e=fi,t=mi;if(mi=fi=null,eb(e),t)for(e=0;e<t.length;e++)eb(t[e])}}function g_(e,t){return e(t)}function v_(){}var Um=!1;function x_(e,t,r){if(Um)return e(t,r);Um=!0;try{return g_(e,t,r)}finally{Um=!1,(fi!==null||mi!==null)&&(v_(),p_())}}function ll(e,t){var r=e.stateNode;if(r===null)return null;var n=mf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var gp=!1;if(Dn)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){gp=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{gp=!1}function DT(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Wo=!1,Lu=null,Fu=!1,vp=null,$T={onError:function(e){Wo=!0,Lu=e}};function LT(e,t,r,n,a,i,o,l,c){Wo=!1,Lu=null,DT.apply($T,arguments)}function FT(e,t,r,n,a,i,o,l,c){if(LT.apply(this,arguments),Wo){if(Wo){var u=Lu;Wo=!1,Lu=null}else throw Error(V(198));Fu||(Fu=!0,vp=u)}}function Is(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function y_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tb(e){if(Is(e)!==e)throw Error(V(188))}function BT(e){var t=e.alternate;if(!t){if(t=Is(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return tb(a),e;if(i===n)return tb(a),t;i=i.sibling}throw Error(V(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function b_(e){return e=BT(e),e!==null?w_(e):null}function w_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=w_(e);if(t!==null)return t;e=e.sibling}return null}var j_=cr.unstable_scheduleCallback,rb=cr.unstable_cancelCallback,zT=cr.unstable_shouldYield,UT=cr.unstable_requestPaint,Ze=cr.unstable_now,qT=cr.unstable_getCurrentPriorityLevel,S0=cr.unstable_ImmediatePriority,N_=cr.unstable_UserBlockingPriority,Bu=cr.unstable_NormalPriority,WT=cr.unstable_LowPriority,__=cr.unstable_IdlePriority,cf=null,an=null;function VT(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(cf,e,void 0,(e.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:HT,KT=Math.log,GT=Math.LN2;function HT(e){return e>>>=0,e===0?32:31-(KT(e)/GT|0)|0}var kc=64,Ec=4194304;function $o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=$o(l):(i&=o,i!==0&&(n=$o(i)))}else o=r&~a,o!==0?n=$o(o):i!==0&&(n=$o(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gr(t),a=1<<r,n|=e[r],t&=~a;return n}function YT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Gr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=YT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function xp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function S_(){var e=kc;return kc<<=1,!(kc&4194240)&&(kc=64),e}function qm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gr(t),e[t]=r}function QT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Gr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function C0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var be=0;function C_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k_,k0,E_,P_,A_,yp=!1,Pc=[],wa=null,ja=null,Na=null,cl=new Map,ul=new Map,ma=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nb(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(t.pointerId)}}function xo(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ql(t),t!==null&&k0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ZT(e,t,r,n,a){switch(t){case"focusin":return wa=xo(wa,e,t,r,n,a),!0;case"dragenter":return ja=xo(ja,e,t,r,n,a),!0;case"mouseover":return Na=xo(Na,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return cl.set(i,xo(cl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ul.set(i,xo(ul.get(i)||null,e,t,r,n,a)),!0}return!1}function O_(e){var t=ss(e.target);if(t!==null){var r=Is(t);if(r!==null){if(t=r.tag,t===13){if(t=y_(r),t!==null){e.blockedOn=t,A_(e.priority,function(){E_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);hp=n,r.target.dispatchEvent(n),hp=null}else return t=ql(r),t!==null&&k0(t),e.blockedOn=r,!1;t.shift()}return!0}function ab(e,t,r){mu(e)&&r.delete(t)}function e4(){yp=!1,wa!==null&&mu(wa)&&(wa=null),ja!==null&&mu(ja)&&(ja=null),Na!==null&&mu(Na)&&(Na=null),cl.forEach(ab),ul.forEach(ab)}function yo(e,t){e.blockedOn===t&&(e.blockedOn=null,yp||(yp=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,e4)))}function dl(e){function t(a){return yo(a,e)}if(0<Pc.length){yo(Pc[0],e);for(var r=1;r<Pc.length;r++){var n=Pc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wa!==null&&yo(wa,e),ja!==null&&yo(ja,e),Na!==null&&yo(Na,e),cl.forEach(t),ul.forEach(t),r=0;r<ma.length;r++)n=ma[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ma.length&&(r=ma[0],r.blockedOn===null);)O_(r),r.blockedOn===null&&ma.shift()}var hi=Hn.ReactCurrentBatchConfig,Uu=!0;function t4(e,t,r,n){var a=be,i=hi.transition;hi.transition=null;try{be=1,E0(e,t,r,n)}finally{be=a,hi.transition=i}}function r4(e,t,r,n){var a=be,i=hi.transition;hi.transition=null;try{be=4,E0(e,t,r,n)}finally{be=a,hi.transition=i}}function E0(e,t,r,n){if(Uu){var a=bp(e,t,r,n);if(a===null)Zm(e,t,n,qu,r),nb(e,n);else if(ZT(a,e,t,r,n))n.stopPropagation();else if(nb(e,n),t&4&&-1<JT.indexOf(e)){for(;a!==null;){var i=ql(a);if(i!==null&&k_(i),i=bp(e,t,r,n),i===null&&Zm(e,t,n,qu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Zm(e,t,n,null,r)}}var qu=null;function bp(e,t,r,n){if(qu=null,e=_0(n),e=ss(e),e!==null)if(t=Is(e),t===null)e=null;else if(r=t.tag,r===13){if(e=y_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qu=e,null}function T_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qT()){case S0:return 1;case N_:return 4;case Bu:case WT:return 16;case __:return 536870912;default:return 16}default:return 16}}var va=null,P0=null,hu=null;function I_(){if(hu)return hu;var e,t=P0,r=t.length,n,a="value"in va?va.value:va.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return hu=a.slice(e,1<n?1-n:void 0)}function pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ac(){return!0}function sb(){return!1}function fr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ac:sb,this.isPropagationStopped=sb,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),t}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A0=fr(Qi),Ul=Ve({},Qi,{view:0,detail:0}),n4=fr(Ul),Wm,Vm,bo,uf=Ve({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bo&&(bo&&e.type==="mousemove"?(Wm=e.screenX-bo.screenX,Vm=e.screenY-bo.screenY):Vm=Wm=0,bo=e),Wm)},movementY:function(e){return"movementY"in e?e.movementY:Vm}}),ib=fr(uf),a4=Ve({},uf,{dataTransfer:0}),s4=fr(a4),i4=Ve({},Ul,{relatedTarget:0}),Km=fr(i4),o4=Ve({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),l4=fr(o4),c4=Ve({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u4=fr(c4),d4=Ve({},Qi,{data:0}),ob=fr(d4),f4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=h4[e])?!!t[e]:!1}function O0(){return p4}var g4=Ve({},Ul,{key:function(e){if(e.key){var t=f4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O0,charCode:function(e){return e.type==="keypress"?pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v4=fr(g4),x4=Ve({},uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lb=fr(x4),y4=Ve({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O0}),b4=fr(y4),w4=Ve({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),j4=fr(w4),N4=Ve({},uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_4=fr(N4),S4=[9,13,27,32],T0=Dn&&"CompositionEvent"in window,Vo=null;Dn&&"documentMode"in document&&(Vo=document.documentMode);var C4=Dn&&"TextEvent"in window&&!Vo,M_=Dn&&(!T0||Vo&&8<Vo&&11>=Vo),cb=" ",ub=!1;function R_(e,t){switch(e){case"keyup":return S4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ei=!1;function k4(e,t){switch(e){case"compositionend":return D_(t);case"keypress":return t.which!==32?null:(ub=!0,cb);case"textInput":return e=t.data,e===cb&&ub?null:e;default:return null}}function E4(e,t){if(ei)return e==="compositionend"||!T0&&R_(e,t)?(e=I_(),hu=P0=va=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M_&&t.locale!=="ko"?null:t.data;default:return null}}var P4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function db(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P4[e.type]:t==="textarea"}function $_(e,t,r,n){h_(n),t=Wu(t,"onChange"),0<t.length&&(r=new A0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ko=null,fl=null;function A4(e){H_(e,0)}function df(e){var t=ni(e);if(o_(t))return e}function O4(e,t){if(e==="change")return t}var L_=!1;if(Dn){var Gm;if(Dn){var Hm="oninput"in document;if(!Hm){var fb=document.createElement("div");fb.setAttribute("oninput","return;"),Hm=typeof fb.oninput=="function"}Gm=Hm}else Gm=!1;L_=Gm&&(!document.documentMode||9<document.documentMode)}function mb(){Ko&&(Ko.detachEvent("onpropertychange",F_),fl=Ko=null)}function F_(e){if(e.propertyName==="value"&&df(fl)){var t=[];$_(t,fl,e,_0(e)),x_(A4,t)}}function T4(e,t,r){e==="focusin"?(mb(),Ko=t,fl=r,Ko.attachEvent("onpropertychange",F_)):e==="focusout"&&mb()}function I4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return df(fl)}function M4(e,t){if(e==="click")return df(t)}function R4(e,t){if(e==="input"||e==="change")return df(t)}function D4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xr=typeof Object.is=="function"?Object.is:D4;function ml(e,t){if(Xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!rp.call(t,a)||!Xr(e[a],t[a]))return!1}return!0}function hb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pb(e,t){var r=hb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hb(r)}}function B_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?B_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function z_(){for(var e=window,t=$u();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$u(e.document)}return t}function I0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $4(e){var t=z_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&B_(r.ownerDocument.documentElement,r)){if(n!==null&&I0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=pb(r,i);var o=pb(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L4=Dn&&"documentMode"in document&&11>=document.documentMode,ti=null,wp=null,Go=null,jp=!1;function gb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jp||ti==null||ti!==$u(n)||(n=ti,"selectionStart"in n&&I0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Go&&ml(Go,n)||(Go=n,n=Wu(wp,"onSelect"),0<n.length&&(t=new A0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ti)))}function Oc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ri={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},Ym={},U_={};Dn&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function ff(e){if(Ym[e])return Ym[e];if(!ri[e])return e;var t=ri[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in U_)return Ym[e]=t[r];return e}var q_=ff("animationend"),W_=ff("animationiteration"),V_=ff("animationstart"),K_=ff("transitionend"),G_=new Map,vb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(e,t){G_.set(e,t),Ts(t,[e])}for(var Xm=0;Xm<vb.length;Xm++){var Qm=vb[Xm],F4=Qm.toLowerCase(),B4=Qm[0].toUpperCase()+Qm.slice(1);Fa(F4,"on"+B4)}Fa(q_,"onAnimationEnd");Fa(W_,"onAnimationIteration");Fa(V_,"onAnimationStart");Fa("dblclick","onDoubleClick");Fa("focusin","onFocus");Fa("focusout","onBlur");Fa(K_,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function xb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,FT(n,t,void 0,e),e.currentTarget=null}function H_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;xb(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;xb(a,l,u),i=c}}}if(Fu)throw e=vp,Fu=!1,vp=null,e}function Ie(e,t){var r=t[kp];r===void 0&&(r=t[kp]=new Set);var n=e+"__bubble";r.has(n)||(Y_(t,e,2,!1),r.add(n))}function Jm(e,t,r){var n=0;t&&(n|=4),Y_(r,e,n,t)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function hl(e){if(!e[Tc]){e[Tc]=!0,r_.forEach(function(r){r!=="selectionchange"&&(z4.has(r)||Jm(r,!1,e),Jm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tc]||(t[Tc]=!0,Jm("selectionchange",!1,t))}}function Y_(e,t,r,n){switch(T_(t)){case 1:var a=t4;break;case 4:a=r4;break;default:a=E0}r=a.bind(null,t,r,e),a=void 0,!gp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Zm(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ss(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}x_(function(){var u=i,d=_0(r),f=[];e:{var m=G_.get(e);if(m!==void 0){var h=A0,g=e;switch(e){case"keypress":if(pu(r)===0)break e;case"keydown":case"keyup":h=v4;break;case"focusin":g="focus",h=Km;break;case"focusout":g="blur",h=Km;break;case"beforeblur":case"afterblur":h=Km;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ib;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=s4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=b4;break;case q_:case W_:case V_:h=l4;break;case K_:h=j4;break;case"scroll":h=n4;break;case"wheel":h=_4;break;case"copy":case"cut":case"paste":h=u4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=lb}var v=(t&4)!==0,y=!v&&e==="scroll",w=v?m!==null?m+"Capture":null:m;v=[];for(var b=u,x;b!==null;){x=b;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,w!==null&&(j=ll(b,w),j!=null&&v.push(pl(b,j,x)))),y)break;b=b.return}0<v.length&&(m=new h(m,g,null,r,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==hp&&(g=r.relatedTarget||r.fromElement)&&(ss(g)||g[$n]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=u,g=g?ss(g):null,g!==null&&(y=Is(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(v=ib,j="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=lb,j="onPointerLeave",w="onPointerEnter",b="pointer"),y=h==null?m:ni(h),x=g==null?m:ni(g),m=new v(j,b+"leave",h,r,d),m.target=y,m.relatedTarget=x,j=null,ss(d)===u&&(v=new v(w,b+"enter",g,r,d),v.target=x,v.relatedTarget=y,j=v),y=j,h&&g)t:{for(v=h,w=g,b=0,x=v;x;x=qs(x))b++;for(x=0,j=w;j;j=qs(j))x++;for(;0<b-x;)v=qs(v),b--;for(;0<x-b;)w=qs(w),x--;for(;b--;){if(v===w||w!==null&&v===w.alternate)break t;v=qs(v),w=qs(w)}v=null}else v=null;h!==null&&yb(f,m,h,v,!1),g!==null&&y!==null&&yb(f,y,g,v,!0)}}e:{if(m=u?ni(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=O4;else if(db(m))if(L_)N=R4;else{N=I4;var _=T4}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=M4);if(N&&(N=N(e,u))){$_(f,N,r,d);break e}_&&_(e,m,u),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&cp(m,"number",m.value)}switch(_=u?ni(u):window,e){case"focusin":(db(_)||_.contentEditable==="true")&&(ti=_,wp=u,Go=null);break;case"focusout":Go=wp=ti=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,gb(f,r,d);break;case"selectionchange":if(L4)break;case"keydown":case"keyup":gb(f,r,d)}var S;if(T0)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ei?R_(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(M_&&r.locale!=="ko"&&(ei||C!=="onCompositionStart"?C==="onCompositionEnd"&&ei&&(S=I_()):(va=d,P0="value"in va?va.value:va.textContent,ei=!0)),_=Wu(u,C),0<_.length&&(C=new ob(C,e,null,r,d),f.push({event:C,listeners:_}),S?C.data=S:(S=D_(r),S!==null&&(C.data=S)))),(S=C4?k4(e,r):E4(e,r))&&(u=Wu(u,"onBeforeInput"),0<u.length&&(d=new ob("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}H_(f,t)})}function pl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ll(e,r),i!=null&&n.unshift(pl(e,i,a)),i=ll(e,t),i!=null&&n.push(pl(e,i,a))),e=e.return}return n}function qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yb(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=ll(r,i),c!=null&&o.unshift(pl(r,c,l))):a||(c=ll(r,i),c!=null&&o.push(pl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var U4=/\r\n?/g,q4=/\u0000|\uFFFD/g;function bb(e){return(typeof e=="string"?e:""+e).replace(U4,`
`).replace(q4,"")}function Ic(e,t,r){if(t=bb(t),bb(e)!==t&&r)throw Error(V(425))}function Vu(){}var Np=null,_p=null;function Sp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cp=typeof setTimeout=="function"?setTimeout:void 0,W4=typeof clearTimeout=="function"?clearTimeout:void 0,wb=typeof Promise=="function"?Promise:void 0,V4=typeof queueMicrotask=="function"?queueMicrotask:typeof wb<"u"?function(e){return wb.resolve(null).then(e).catch(K4)}:Cp;function K4(e){setTimeout(function(){throw e})}function eh(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),dl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);dl(t)}function _a(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ji,gl="__reactProps$"+Ji,$n="__reactContainer$"+Ji,kp="__reactEvents$"+Ji,G4="__reactListeners$"+Ji,H4="__reactHandles$"+Ji;function ss(e){var t=e[rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$n]||r[rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jb(e);e!==null;){if(r=e[rn])return r;e=jb(e)}return t}e=r,r=e.parentNode}return null}function ql(e){return e=e[rn]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function mf(e){return e[gl]||null}var Ep=[],ai=-1;function Ba(e){return{current:e}}function Re(e){0>ai||(e.current=Ep[ai],Ep[ai]=null,ai--)}function Oe(e,t){ai++,Ep[ai]=e.current,e.current=t}var Ia={},Mt=Ba(Ia),Xt=Ba(!1),ys=Ia;function Si(e,t){var r=e.type.contextTypes;if(!r)return Ia;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qt(e){return e=e.childContextTypes,e!=null}function Ku(){Re(Xt),Re(Mt)}function Nb(e,t,r){if(Mt.current!==Ia)throw Error(V(168));Oe(Mt,t),Oe(Xt,r)}function X_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(V(108,TT(e)||"Unknown",a));return Ve({},r,n)}function Gu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,ys=Mt.current,Oe(Mt,e),Oe(Xt,Xt.current),!0}function _b(e,t,r){var n=e.stateNode;if(!n)throw Error(V(169));r?(e=X_(e,t,ys),n.__reactInternalMemoizedMergedChildContext=e,Re(Xt),Re(Mt),Oe(Mt,e)):Re(Xt),Oe(Xt,r)}var jn=null,hf=!1,th=!1;function Q_(e){jn===null?jn=[e]:jn.push(e)}function Y4(e){hf=!0,Q_(e)}function za(){if(!th&&jn!==null){th=!0;var e=0,t=be;try{var r=jn;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jn=null,hf=!1}catch(a){throw jn!==null&&(jn=jn.slice(e+1)),j_(S0,za),a}finally{be=t,th=!1}}return null}var si=[],ii=0,Hu=null,Yu=0,yr=[],br=0,bs=null,Sn=1,Cn="";function Ja(e,t){si[ii++]=Yu,si[ii++]=Hu,Hu=e,Yu=t}function J_(e,t,r){yr[br++]=Sn,yr[br++]=Cn,yr[br++]=bs,bs=e;var n=Sn;e=Cn;var a=32-Gr(n)-1;n&=~(1<<a),r+=1;var i=32-Gr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Sn=1<<32-Gr(t)+a|r<<a|n,Cn=i+e}else Sn=1<<i|r<<a|n,Cn=e}function M0(e){e.return!==null&&(Ja(e,1),J_(e,1,0))}function R0(e){for(;e===Hu;)Hu=si[--ii],si[ii]=null,Yu=si[--ii],si[ii]=null;for(;e===bs;)bs=yr[--br],yr[br]=null,Cn=yr[--br],yr[br]=null,Sn=yr[--br],yr[br]=null}var or=null,ir=null,Be=!1,Wr=null;function Z_(e,t){var r=jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Sb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ir=_a(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bs!==null?{id:Sn,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,ir=null,!0):!1;default:return!1}}function Pp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ap(e){if(Be){var t=ir;if(t){var r=t;if(!Sb(e,t)){if(Pp(e))throw Error(V(418));t=_a(r.nextSibling);var n=or;t&&Sb(e,t)?Z_(n,r):(e.flags=e.flags&-4097|2,Be=!1,or=e)}}else{if(Pp(e))throw Error(V(418));e.flags=e.flags&-4097|2,Be=!1,or=e}}}function Cb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function Mc(e){if(e!==or)return!1;if(!Be)return Cb(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sp(e.type,e.memoizedProps)),t&&(t=ir)){if(Pp(e))throw e2(),Error(V(418));for(;t;)Z_(e,t),t=_a(t.nextSibling)}if(Cb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ir=_a(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=or?_a(e.stateNode.nextSibling):null;return!0}function e2(){for(var e=ir;e;)e=_a(e.nextSibling)}function Ci(){ir=or=null,Be=!1}function D0(e){Wr===null?Wr=[e]:Wr.push(e)}var X4=Hn.ReactCurrentBatchConfig;function wo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function Rc(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kb(e){var t=e._init;return t(e._payload)}function t2(e){function t(w,b){if(e){var x=w.deletions;x===null?(w.deletions=[b],w.flags|=16):x.push(b)}}function r(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function a(w,b){return w=Ea(w,b),w.index=0,w.sibling=null,w}function i(w,b,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<b?(w.flags|=2,b):x):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,b,x,j){return b===null||b.tag!==6?(b=lh(x,w.mode,j),b.return=w,b):(b=a(b,x),b.return=w,b)}function c(w,b,x,j){var N=x.type;return N===Zs?d(w,b,x.props.children,j,x.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ca&&kb(N)===b.type)?(j=a(b,x.props),j.ref=wo(w,b,x),j.return=w,j):(j=ju(x.type,x.key,x.props,null,w.mode,j),j.ref=wo(w,b,x),j.return=w,j)}function u(w,b,x,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=ch(x,w.mode,j),b.return=w,b):(b=a(b,x.children||[]),b.return=w,b)}function d(w,b,x,j,N){return b===null||b.tag!==7?(b=ms(x,w.mode,j,N),b.return=w,b):(b=a(b,x),b.return=w,b)}function f(w,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=lh(""+b,w.mode,x),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _c:return x=ju(b.type,b.key,b.props,null,w.mode,x),x.ref=wo(w,null,b),x.return=w,x;case Js:return b=ch(b,w.mode,x),b.return=w,b;case ca:var j=b._init;return f(w,j(b._payload),x)}if(Do(b)||go(b))return b=ms(b,w.mode,x,null),b.return=w,b;Rc(w,b)}return null}function m(w,b,x,j){var N=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(w,b,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _c:return x.key===N?c(w,b,x,j):null;case Js:return x.key===N?u(w,b,x,j):null;case ca:return N=x._init,m(w,b,N(x._payload),j)}if(Do(x)||go(x))return N!==null?null:d(w,b,x,j,null);Rc(w,x)}return null}function h(w,b,x,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(x)||null,l(b,w,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _c:return w=w.get(j.key===null?x:j.key)||null,c(b,w,j,N);case Js:return w=w.get(j.key===null?x:j.key)||null,u(b,w,j,N);case ca:var _=j._init;return h(w,b,x,_(j._payload),N)}if(Do(j)||go(j))return w=w.get(x)||null,d(b,w,j,N,null);Rc(b,j)}return null}function g(w,b,x,j){for(var N=null,_=null,S=b,C=b=0,A=null;S!==null&&C<x.length;C++){S.index>C?(A=S,S=null):A=S.sibling;var P=m(w,S,x[C],j);if(P===null){S===null&&(S=A);break}e&&S&&P.alternate===null&&t(w,S),b=i(P,b,C),_===null?N=P:_.sibling=P,_=P,S=A}if(C===x.length)return r(w,S),Be&&Ja(w,C),N;if(S===null){for(;C<x.length;C++)S=f(w,x[C],j),S!==null&&(b=i(S,b,C),_===null?N=S:_.sibling=S,_=S);return Be&&Ja(w,C),N}for(S=n(w,S);C<x.length;C++)A=h(S,w,C,x[C],j),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?C:A.key),b=i(A,b,C),_===null?N=A:_.sibling=A,_=A);return e&&S.forEach(function(O){return t(w,O)}),Be&&Ja(w,C),N}function v(w,b,x,j){var N=go(x);if(typeof N!="function")throw Error(V(150));if(x=N.call(x),x==null)throw Error(V(151));for(var _=N=null,S=b,C=b=0,A=null,P=x.next();S!==null&&!P.done;C++,P=x.next()){S.index>C?(A=S,S=null):A=S.sibling;var O=m(w,S,P.value,j);if(O===null){S===null&&(S=A);break}e&&S&&O.alternate===null&&t(w,S),b=i(O,b,C),_===null?N=O:_.sibling=O,_=O,S=A}if(P.done)return r(w,S),Be&&Ja(w,C),N;if(S===null){for(;!P.done;C++,P=x.next())P=f(w,P.value,j),P!==null&&(b=i(P,b,C),_===null?N=P:_.sibling=P,_=P);return Be&&Ja(w,C),N}for(S=n(w,S);!P.done;C++,P=x.next())P=h(S,w,C,P.value,j),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?C:P.key),b=i(P,b,C),_===null?N=P:_.sibling=P,_=P);return e&&S.forEach(function(T){return t(w,T)}),Be&&Ja(w,C),N}function y(w,b,x,j){if(typeof x=="object"&&x!==null&&x.type===Zs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _c:e:{for(var N=x.key,_=b;_!==null;){if(_.key===N){if(N=x.type,N===Zs){if(_.tag===7){r(w,_.sibling),b=a(_,x.props.children),b.return=w,w=b;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ca&&kb(N)===_.type){r(w,_.sibling),b=a(_,x.props),b.ref=wo(w,_,x),b.return=w,w=b;break e}r(w,_);break}else t(w,_);_=_.sibling}x.type===Zs?(b=ms(x.props.children,w.mode,j,x.key),b.return=w,w=b):(j=ju(x.type,x.key,x.props,null,w.mode,j),j.ref=wo(w,b,x),j.return=w,w=j)}return o(w);case Js:e:{for(_=x.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(w,b.sibling),b=a(b,x.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else t(w,b);b=b.sibling}b=ch(x,w.mode,j),b.return=w,w=b}return o(w);case ca:return _=x._init,y(w,b,_(x._payload),j)}if(Do(x))return g(w,b,x,j);if(go(x))return v(w,b,x,j);Rc(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(w,b.sibling),b=a(b,x),b.return=w,w=b):(r(w,b),b=lh(x,w.mode,j),b.return=w,w=b),o(w)):r(w,b)}return y}var ki=t2(!0),r2=t2(!1),Xu=Ba(null),Qu=null,oi=null,$0=null;function L0(){$0=oi=Qu=null}function F0(e){var t=Xu.current;Re(Xu),e._currentValue=t}function Op(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function pi(e,t){Qu=e,$0=oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ht=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if($0!==e)if(e={context:e,memoizedValue:t,next:null},oi===null){if(Qu===null)throw Error(V(308));oi=e,Qu.dependencies={lanes:0,firstContext:e}}else oi=oi.next=e;return t}var is=null;function B0(e){is===null?is=[e]:is.push(e)}function n2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,B0(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ln(e,n)}function Ln(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ua=!1;function z0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ln(e,r)}return a=n.interleaved,a===null?(t.next=t,B0(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ln(e,r)}function gu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,C0(e,r)}}function Eb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ju(e,t,r,n){var a=e.updateQueue;ua=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(m=t,h=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(h,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g=="function"?g.call(h,f,m):g,m==null)break e;f=Ve({},f,m);break e;case 2:ua=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Pb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(V(191,a));a.call(n)}}}var Wl={},sn=Ba(Wl),vl=Ba(Wl),xl=Ba(Wl);function os(e){if(e===Wl)throw Error(V(174));return e}function U0(e,t){switch(Oe(xl,t),Oe(vl,e),Oe(sn,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dp(t,e)}Re(sn),Oe(sn,t)}function Ei(){Re(sn),Re(vl),Re(xl)}function s2(e){os(xl.current);var t=os(sn.current),r=dp(t,e.type);t!==r&&(Oe(vl,e),Oe(sn,r))}function q0(e){vl.current===e&&(Re(sn),Re(vl))}var qe=Ba(0);function Zu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rh=[];function W0(){for(var e=0;e<rh.length;e++)rh[e]._workInProgressVersionPrimary=null;rh.length=0}var vu=Hn.ReactCurrentDispatcher,nh=Hn.ReactCurrentBatchConfig,ws=0,We=null,ct=null,vt=null,ed=!1,Ho=!1,yl=0,Q4=0;function Et(){throw Error(V(321))}function V0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xr(e[r],t[r]))return!1;return!0}function K0(e,t,r,n,a,i){if(ws=i,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vu.current=e===null||e.memoizedState===null?tI:rI,e=r(n,a),Ho){i=0;do{if(Ho=!1,yl=0,25<=i)throw Error(V(301));i+=1,vt=ct=null,t.updateQueue=null,vu.current=nI,e=r(n,a)}while(Ho)}if(vu.current=td,t=ct!==null&&ct.next!==null,ws=0,vt=ct=We=null,ed=!1,t)throw Error(V(300));return e}function G0(){var e=yl!==0;return yl=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?We.memoizedState=vt=e:vt=vt.next=e,vt}function Pr(){if(ct===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=vt===null?We.memoizedState:vt.next;if(t!==null)vt=t,ct=e;else{if(e===null)throw Error(V(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},vt===null?We.memoizedState=vt=e:vt=vt.next=e}return vt}function bl(e,t){return typeof t=="function"?t(e):t}function ah(e){var t=Pr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=ct,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ws&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,We.lanes|=d,js|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Xr(n,t.memoizedState)||(Ht=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,We.lanes|=i,js|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sh(e){var t=Pr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Xr(i,t.memoizedState)||(Ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function i2(){}function o2(e,t){var r=We,n=Pr(),a=t(),i=!Xr(n.memoizedState,a);if(i&&(n.memoizedState=a,Ht=!0),n=n.queue,H0(u2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,wl(9,c2.bind(null,r,n,a,t),void 0,null),yt===null)throw Error(V(349));ws&30||l2(r,t,a)}return a}function l2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function c2(e,t,r,n){t.value=r,t.getSnapshot=n,d2(t)&&f2(e)}function u2(e,t,r){return r(function(){d2(t)&&f2(e)})}function d2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xr(e,r)}catch{return!0}}function f2(e){var t=Ln(e,1);t!==null&&Hr(t,e,1,-1)}function Ab(e){var t=Zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t.queue=e,e=e.dispatch=eI.bind(null,We,e),[t.memoizedState,e]}function wl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function m2(){return Pr().memoizedState}function xu(e,t,r,n){var a=Zr();We.flags|=e,a.memoizedState=wl(1|t,r,void 0,n===void 0?null:n)}function pf(e,t,r,n){var a=Pr();n=n===void 0?null:n;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,n!==null&&V0(n,o.deps)){a.memoizedState=wl(t,r,i,n);return}}We.flags|=e,a.memoizedState=wl(1|t,r,i,n)}function Ob(e,t){return xu(8390656,8,e,t)}function H0(e,t){return pf(2048,8,e,t)}function h2(e,t){return pf(4,2,e,t)}function p2(e,t){return pf(4,4,e,t)}function g2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function v2(e,t,r){return r=r!=null?r.concat([e]):null,pf(4,4,g2.bind(null,t,e),r)}function Y0(){}function x2(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function y2(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function b2(e,t,r){return ws&21?(Xr(r,t)||(r=S_(),We.lanes|=r,js|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=r)}function J4(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=nh.transition;nh.transition={};try{e(!1),t()}finally{be=r,nh.transition=n}}function w2(){return Pr().memoizedState}function Z4(e,t,r){var n=ka(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j2(e))N2(t,r);else if(r=n2(e,t,r,n),r!==null){var a=Bt();Hr(r,e,n,a),_2(r,t,n)}}function eI(e,t,r){var n=ka(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j2(e))N2(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Xr(l,o)){var c=t.interleaved;c===null?(a.next=a,B0(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=n2(e,t,a,n),r!==null&&(a=Bt(),Hr(r,e,n,a),_2(r,t,n))}}function j2(e){var t=e.alternate;return e===We||t!==null&&t===We}function N2(e,t){Ho=ed=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,C0(e,r)}}var td={readContext:Er,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},tI={readContext:Er,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:Er,useEffect:Ob,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xu(4194308,4,g2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xu(4194308,4,e,t)},useInsertionEffect:function(e,t){return xu(4,2,e,t)},useMemo:function(e,t){var r=Zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Z4.bind(null,We,e),[n.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:Ab,useDebugValue:Y0,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=Ab(!1),t=e[0];return e=J4.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=We,a=Zr();if(Be){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),yt===null)throw Error(V(349));ws&30||l2(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ob(u2.bind(null,n,i,e),[e]),n.flags|=2048,wl(9,c2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Zr(),t=yt.identifierPrefix;if(Be){var r=Cn,n=Sn;r=(n&~(1<<32-Gr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Q4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rI={readContext:Er,useCallback:x2,useContext:Er,useEffect:H0,useImperativeHandle:v2,useInsertionEffect:h2,useLayoutEffect:p2,useMemo:y2,useReducer:ah,useRef:m2,useState:function(){return ah(bl)},useDebugValue:Y0,useDeferredValue:function(e){var t=Pr();return b2(t,ct.memoizedState,e)},useTransition:function(){var e=ah(bl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:i2,useSyncExternalStore:o2,useId:w2,unstable_isNewReconciler:!1},nI={readContext:Er,useCallback:x2,useContext:Er,useEffect:H0,useImperativeHandle:v2,useInsertionEffect:h2,useLayoutEffect:p2,useMemo:y2,useReducer:sh,useRef:m2,useState:function(){return sh(bl)},useDebugValue:Y0,useDeferredValue:function(e){var t=Pr();return ct===null?t.memoizedState=e:b2(t,ct.memoizedState,e)},useTransition:function(){var e=sh(bl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:i2,useSyncExternalStore:o2,useId:w2,unstable_isNewReconciler:!1};function zr(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Tp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gf={isMounted:function(e){return(e=e._reactInternals)?Is(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Bt(),a=ka(e),i=An(n,a);i.payload=t,r!=null&&(i.callback=r),t=Sa(e,i,a),t!==null&&(Hr(t,e,a,n),gu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Bt(),a=ka(e),i=An(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Sa(e,i,a),t!==null&&(Hr(t,e,a,n),gu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Bt(),n=ka(e),a=An(r,n);a.tag=2,t!=null&&(a.callback=t),t=Sa(e,a,n),t!==null&&(Hr(t,e,n,r),gu(t,e,n))}};function Tb(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ml(r,n)||!ml(a,i):!0}function S2(e,t,r){var n=!1,a=Ia,i=t.contextType;return typeof i=="object"&&i!==null?i=Er(i):(a=Qt(t)?ys:Mt.current,n=t.contextTypes,i=(n=n!=null)?Si(e,a):Ia),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ib(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function Ip(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},z0(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Er(i):(i=Qt(t)?ys:Mt.current,a.context=Si(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Tp(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&gf.enqueueReplaceState(a,a.state,null),Ju(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Pi(e,t){try{var r="",n=t;do r+=OT(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ih(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Mp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var aI=typeof WeakMap=="function"?WeakMap:Map;function C2(e,t,r){r=An(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){nd||(nd=!0,Wp=n),Mp(e,t)},r}function k2(e,t,r){r=An(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Mp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Mp(e,t),typeof n!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Mb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new aI;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=xI.bind(null,e,t,r),t.then(e,e))}function Rb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Db(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=An(-1,1),t.tag=2,Sa(r,t,1))),r.lanes|=1),e)}var sI=Hn.ReactCurrentOwner,Ht=!1;function $t(e,t,r,n){t.child=e===null?r2(t,null,r,n):ki(t,e.child,r,n)}function $b(e,t,r,n,a){r=r.render;var i=t.ref;return pi(t,a),n=K0(e,t,r,n,i,a),r=G0(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Fn(e,t,a)):(Be&&r&&M0(t),t.flags|=1,$t(e,t,n,a),t.child)}function Lb(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!nv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,E2(e,t,i,n,a)):(e=ju(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ml,r(o,n)&&e.ref===t.ref)return Fn(e,t,a)}return t.flags|=1,e=Ea(i,n),e.ref=t.ref,e.return=t,t.child=e}function E2(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ml(i,n)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ht=!0);else return t.lanes=e.lanes,Fn(e,t,a)}return Rp(e,t,r,n,a)}function P2(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ci,rr),rr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(ci,rr),rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Oe(ci,rr),rr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Oe(ci,rr),rr|=n;return $t(e,t,a,r),t.child}function A2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rp(e,t,r,n,a){var i=Qt(r)?ys:Mt.current;return i=Si(t,i),pi(t,a),r=K0(e,t,r,n,i,a),n=G0(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Fn(e,t,a)):(Be&&n&&M0(t),t.flags|=1,$t(e,t,r,a),t.child)}function Fb(e,t,r,n,a){if(Qt(r)){var i=!0;Gu(t)}else i=!1;if(pi(t,a),t.stateNode===null)yu(e,t),S2(t,r,n),Ip(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=Qt(r)?ys:Mt.current,u=Si(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Ib(t,o,n,u),ua=!1;var m=t.memoizedState;o.state=m,Ju(t,n,o,a),c=t.memoizedState,l!==n||m!==c||Xt.current||ua?(typeof d=="function"&&(Tp(t,r,d,n),c=t.memoizedState),(l=ua||Tb(t,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,a2(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:zr(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=Qt(r)?ys:Mt.current,c=Si(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Ib(t,o,n,c),ua=!1,m=t.memoizedState,o.state=m,Ju(t,n,o,a);var g=t.memoizedState;l!==f||m!==g||Xt.current||ua?(typeof h=="function"&&(Tp(t,r,h,n),g=t.memoizedState),(u=ua||Tb(t,r,u,n,m,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Dp(e,t,r,n,i,a)}function Dp(e,t,r,n,a,i){A2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&_b(t,r,!1),Fn(e,t,i);n=t.stateNode,sI.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,l,i)):$t(e,t,l,i),t.memoizedState=n.state,a&&_b(t,r,!0),t.child}function O2(e){var t=e.stateNode;t.pendingContext?Nb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nb(e,t.context,!1),U0(e,t.containerInfo)}function Bb(e,t,r,n,a){return Ci(),D0(a),t.flags|=256,$t(e,t,r,n),t.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function Lp(e){return{baseLanes:e,cachePool:null,transitions:null}}function T2(e,t,r){var n=t.pendingProps,a=qe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Oe(qe,a&1),e===null)return Ap(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yf(o,n,0,null),e=ms(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Lp(r),t.memoizedState=$p,e):X0(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return iI(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ea(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ea(l,i):(i=ms(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Lp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=$p,n}return i=e.child,e=i.sibling,n=Ea(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function X0(e,t){return t=yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dc(e,t,r,n){return n!==null&&D0(n),ki(t,e.child,null,r),e=X0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iI(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=ih(Error(V(422))),Dc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=yf({mode:"visible",children:n.children},a,0,null),i=ms(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ki(t,e.child,null,o),t.child.memoizedState=Lp(o),t.memoizedState=$p,i);if(!(t.mode&1))return Dc(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(V(419)),n=ih(i,n,void 0),Dc(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ht||l){if(n=yt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ln(e,a),Hr(n,e,a,-1))}return rv(),n=ih(Error(V(421))),Dc(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=yI.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ir=_a(a.nextSibling),or=t,Be=!0,Wr=null,e!==null&&(yr[br++]=Sn,yr[br++]=Cn,yr[br++]=bs,Sn=e.id,Cn=e.overflow,bs=t),t=X0(t,n.children),t.flags|=4096,t)}function zb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Op(e.return,t,r)}function oh(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function I2(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if($t(e,t,n.children,r),n=qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zb(e,r,t);else if(e.tag===19)zb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(qe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Zu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),oh(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Zu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}oh(t,!0,r,null,i);break;case"together":oh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=Ea(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ea(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function oI(e,t,r){switch(t.tag){case 3:O2(t),Ci();break;case 5:s2(t);break;case 1:Qt(t.type)&&Gu(t);break;case 4:U0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Oe(Xu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(qe,qe.current&1),t.flags|=128,null):r&t.child.childLanes?T2(e,t,r):(Oe(qe,qe.current&1),e=Fn(e,t,r),e!==null?e.sibling:null);Oe(qe,qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return I2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oe(qe,qe.current),n)break;return null;case 22:case 23:return t.lanes=0,P2(e,t,r)}return Fn(e,t,r)}var M2,Fp,R2,D2;M2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fp=function(){};R2=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,os(sn.current);var i=null;switch(r){case"input":a=op(e,a),n=op(e,n),i=[];break;case"select":a=Ve({},a,{value:void 0}),n=Ve({},n,{value:void 0}),i=[];break;case"textarea":a=up(e,a),n=up(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vu)}fp(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(il.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(il.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};D2=function(e,t,r,n){r!==n&&(t.flags|=4)};function jo(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lI(e,t,r){var n=t.pendingProps;switch(R0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Qt(t.type)&&Ku(),Pt(t),null;case 3:return n=t.stateNode,Ei(),Re(Xt),Re(Mt),W0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(Gp(Wr),Wr=null))),Fp(e,t),Pt(t),null;case 5:q0(t);var a=os(xl.current);if(r=t.type,e!==null&&t.stateNode!=null)R2(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return Pt(t),null}if(e=os(sn.current),Mc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[rn]=t,n[gl]=i,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<Lo.length;a++)Ie(Lo[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Xy(n,i),Ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",n);break;case"textarea":Jy(n,i),Ie("invalid",n)}fp(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ic(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ic(n.textContent,l,e),a=["children",""+l]):il.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ie("scroll",n)}switch(r){case"input":Sc(n),Qy(n,i,!0);break;case"textarea":Sc(n),Zy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Vu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=u_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[rn]=t,e[gl]=n,M2(e,t,!1,!1),t.stateNode=e;e:{switch(o=mp(r,n),r){case"dialog":Ie("cancel",e),Ie("close",e),a=n;break;case"iframe":case"object":case"embed":Ie("load",e),a=n;break;case"video":case"audio":for(a=0;a<Lo.length;a++)Ie(Lo[a],e);a=n;break;case"source":Ie("error",e),a=n;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),a=n;break;case"details":Ie("toggle",e),a=n;break;case"input":Xy(e,n),a=op(e,n),Ie("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ve({},n,{value:void 0}),Ie("invalid",e);break;case"textarea":Jy(e,n),a=up(e,n),Ie("invalid",e);break;default:a=n}fp(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?m_(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d_(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ol(e,c):typeof c=="number"&&ol(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(il.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",e):c!=null&&b0(e,i,c,o))}switch(r){case"input":Sc(e),Qy(e,n,!1);break;case"textarea":Sc(e),Zy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ta(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?di(e,!!n.multiple,i,!1):n.defaultValue!=null&&di(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Vu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)D2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(r=os(xl.current),os(sn.current),Mc(t)){if(n=t.stateNode,r=t.memoizedProps,n[rn]=t,(i=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:Ic(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ic(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rn]=t,t.stateNode=n}return Pt(t),null;case 13:if(Re(qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&ir!==null&&t.mode&1&&!(t.flags&128))e2(),Ci(),t.flags|=98560,i=!1;else if(i=Mc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[rn]=t}else Ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),i=!1}else Wr!==null&&(Gp(Wr),Wr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?dt===0&&(dt=3):rv())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return Ei(),Fp(e,t),e===null&&hl(t.stateNode.containerInfo),Pt(t),null;case 10:return F0(t.type._context),Pt(t),null;case 17:return Qt(t.type)&&Ku(),Pt(t),null;case 19:if(Re(qe),i=t.memoizedState,i===null)return Pt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)jo(i,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zu(e),o!==null){for(t.flags|=128,jo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(qe,qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ze()>Ai&&(t.flags|=128,n=!0,jo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Zu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return Pt(t),null}else 2*Ze()-i.renderingStartTime>Ai&&r!==1073741824&&(t.flags|=128,n=!0,jo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,r=qe.current,Oe(qe,n?r&1|2:r&1),t):(Pt(t),null);case 22:case 23:return tv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rr&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function cI(e,t){switch(R0(t),t.tag){case 1:return Qt(t.type)&&Ku(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ei(),Re(Xt),Re(Mt),W0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return q0(t),null;case 13:if(Re(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(qe),null;case 4:return Ei(),null;case 10:return F0(t.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var $c=!1,Ot=!1,uI=typeof WeakSet=="function"?WeakSet:Set,J=null;function li(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){He(e,t,n)}else r.current=null}function Bp(e,t,r){try{r()}catch(n){He(e,t,n)}}var Ub=!1;function dI(e,t){if(Np=Uu,e=z_(),I0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===a&&(l=o),m===i&&++d===n&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_p={focusedElem:e,selectionRange:r},Uu=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:zr(t.type,v),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(j){He(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return g=Ub,Ub=!1,g}function Yo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Bp(t,r,i)}a=a.next}while(a!==n)}}function vf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function zp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $2(e){var t=e.alternate;t!==null&&(e.alternate=null,$2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[gl],delete t[kp],delete t[G4],delete t[H4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function L2(e){return e.tag===5||e.tag===3||e.tag===4}function qb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Up(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vu));else if(n!==4&&(e=e.child,e!==null))for(Up(e,t,r),e=e.sibling;e!==null;)Up(e,t,r),e=e.sibling}function qp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qp(e,t,r),e=e.sibling;e!==null;)qp(e,t,r),e=e.sibling}var Nt=null,Ur=!1;function aa(e,t,r){for(r=r.child;r!==null;)F2(e,t,r),r=r.sibling}function F2(e,t,r){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(cf,r)}catch{}switch(r.tag){case 5:Ot||li(r,t);case 6:var n=Nt,a=Ur;Nt=null,aa(e,t,r),Nt=n,Ur=a,Nt!==null&&(Ur?(e=Nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(Ur?(e=Nt,r=r.stateNode,e.nodeType===8?eh(e.parentNode,r):e.nodeType===1&&eh(e,r),dl(e)):eh(Nt,r.stateNode));break;case 4:n=Nt,a=Ur,Nt=r.stateNode.containerInfo,Ur=!0,aa(e,t,r),Nt=n,Ur=a;break;case 0:case 11:case 14:case 15:if(!Ot&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Bp(r,t,o),a=a.next}while(a!==n)}aa(e,t,r);break;case 1:if(!Ot&&(li(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){He(r,t,l)}aa(e,t,r);break;case 21:aa(e,t,r);break;case 22:r.mode&1?(Ot=(n=Ot)||r.memoizedState!==null,aa(e,t,r),Ot=n):aa(e,t,r);break;default:aa(e,t,r)}}function Wb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uI),t.forEach(function(n){var a=bI.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Fr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Ur=!1;break e;case 3:Nt=l.stateNode.containerInfo,Ur=!0;break e;case 4:Nt=l.stateNode.containerInfo,Ur=!0;break e}l=l.return}if(Nt===null)throw Error(V(160));F2(i,o,a),Nt=null,Ur=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){He(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)B2(t,e),t=t.sibling}function B2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fr(t,e),Jr(e),n&4){try{Yo(3,e,e.return),vf(3,e)}catch(v){He(e,e.return,v)}try{Yo(5,e,e.return)}catch(v){He(e,e.return,v)}}break;case 1:Fr(t,e),Jr(e),n&512&&r!==null&&li(r,r.return);break;case 5:if(Fr(t,e),Jr(e),n&512&&r!==null&&li(r,r.return),e.flags&32){var a=e.stateNode;try{ol(a,"")}catch(v){He(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&l_(a,i),mp(l,o);var u=mp(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?m_(a,f):d==="dangerouslySetInnerHTML"?d_(a,f):d==="children"?ol(a,f):b0(a,d,f,u)}switch(l){case"input":lp(a,i);break;case"textarea":c_(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?di(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?di(a,!!i.multiple,i.defaultValue,!0):di(a,!!i.multiple,i.multiple?[]:"",!1))}a[gl]=i}catch(v){He(e,e.return,v)}}break;case 6:if(Fr(t,e),Jr(e),n&4){if(e.stateNode===null)throw Error(V(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){He(e,e.return,v)}}break;case 3:if(Fr(t,e),Jr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dl(t.containerInfo)}catch(v){He(e,e.return,v)}break;case 4:Fr(t,e),Jr(e);break;case 13:Fr(t,e),Jr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Z0=Ze())),n&4&&Wb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ot=(u=Ot)||d,Fr(t,e),Ot=u):Fr(t,e),Jr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(f=J=d;J!==null;){switch(m=J,h=m.child,m.tag){case 0:case 11:case 14:case 15:Yo(4,m,m.return);break;case 1:li(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){He(n,r,v)}}break;case 5:li(m,m.return);break;case 22:if(m.memoizedState!==null){Kb(f);continue}}h!==null?(h.return=m,J=h):Kb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=f_("display",o))}catch(v){He(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){He(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fr(t,e),Jr(e),n&4&&Wb(e);break;case 21:break;default:Fr(t,e),Jr(e)}}function Jr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(L2(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ol(a,""),n.flags&=-33);var i=qb(e);qp(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=qb(e);Up(e,l,o);break;default:throw Error(V(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fI(e,t,r){J=e,z2(e)}function z2(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var a=J,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||$c;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ot;l=$c;var u=Ot;if($c=o,(Ot=c)&&!u)for(J=a;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?Gb(a):c!==null?(c.return=o,J=c):Gb(a);for(;i!==null;)J=i,z2(i),i=i.sibling;J=a,$c=l,Ot=u}Vb(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,J=i):Vb(e)}}function Vb(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ot||vf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ot)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:zr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&dl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ot||t.flags&512&&zp(t)}catch(m){He(t,t.return,m)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function Kb(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function Gb(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vf(4,t)}catch(c){He(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){He(t,a,c)}}var i=t.return;try{zp(t)}catch(c){He(t,i,c)}break;case 5:var o=t.return;try{zp(t)}catch(c){He(t,o,c)}}}catch(c){He(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var mI=Math.ceil,rd=Hn.ReactCurrentDispatcher,Q0=Hn.ReactCurrentOwner,Sr=Hn.ReactCurrentBatchConfig,he=0,yt=null,at=null,St=0,rr=0,ci=Ba(0),dt=0,jl=null,js=0,xf=0,J0=0,Xo=null,Vt=null,Z0=0,Ai=1/0,bn=null,nd=!1,Wp=null,Ca=null,Lc=!1,xa=null,ad=0,Qo=0,Vp=null,bu=-1,wu=0;function Bt(){return he&6?Ze():bu!==-1?bu:bu=Ze()}function ka(e){return e.mode&1?he&2&&St!==0?St&-St:X4.transition!==null?(wu===0&&(wu=S_()),wu):(e=be,e!==0||(e=window.event,e=e===void 0?16:T_(e.type)),e):1}function Hr(e,t,r,n){if(50<Qo)throw Qo=0,Vp=null,Error(V(185));zl(e,r,n),(!(he&2)||e!==yt)&&(e===yt&&(!(he&2)&&(xf|=r),dt===4&&ha(e,St)),Jt(e,n),r===1&&he===0&&!(t.mode&1)&&(Ai=Ze()+500,hf&&za()))}function Jt(e,t){var r=e.callbackNode;XT(e,t);var n=zu(e,e===yt?St:0);if(n===0)r!==null&&rb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rb(r),t===1)e.tag===0?Y4(Hb.bind(null,e)):Q_(Hb.bind(null,e)),V4(function(){!(he&6)&&za()}),r=null;else{switch(C_(n)){case 1:r=S0;break;case 4:r=N_;break;case 16:r=Bu;break;case 536870912:r=__;break;default:r=Bu}r=Y2(r,U2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function U2(e,t){if(bu=-1,wu=0,he&6)throw Error(V(327));var r=e.callbackNode;if(gi()&&e.callbackNode!==r)return null;var n=zu(e,e===yt?St:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sd(e,n);else{t=n;var a=he;he|=2;var i=W2();(yt!==e||St!==t)&&(bn=null,Ai=Ze()+500,fs(e,t));do try{gI();break}catch(l){q2(e,l)}while(!0);L0(),rd.current=i,he=a,at!==null?t=0:(yt=null,St=0,t=dt)}if(t!==0){if(t===2&&(a=xp(e),a!==0&&(n=a,t=Kp(e,a))),t===1)throw r=jl,fs(e,0),ha(e,n),Jt(e,Ze()),r;if(t===6)ha(e,n);else{if(a=e.current.alternate,!(n&30)&&!hI(a)&&(t=sd(e,n),t===2&&(i=xp(e),i!==0&&(n=i,t=Kp(e,i))),t===1))throw r=jl,fs(e,0),ha(e,n),Jt(e,Ze()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:Za(e,Vt,bn);break;case 3:if(ha(e,n),(n&130023424)===n&&(t=Z0+500-Ze(),10<t)){if(zu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Bt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Cp(Za.bind(null,e,Vt,bn),t);break}Za(e,Vt,bn);break;case 4:if(ha(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Gr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Ze()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mI(n/1960))-n,10<n){e.timeoutHandle=Cp(Za.bind(null,e,Vt,bn),n);break}Za(e,Vt,bn);break;case 5:Za(e,Vt,bn);break;default:throw Error(V(329))}}}return Jt(e,Ze()),e.callbackNode===r?U2.bind(null,e):null}function Kp(e,t){var r=Xo;return e.current.memoizedState.isDehydrated&&(fs(e,t).flags|=256),e=sd(e,t),e!==2&&(t=Vt,Vt=r,t!==null&&Gp(t)),e}function Gp(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function hI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Xr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ha(e,t){for(t&=~J0,t&=~xf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gr(t),n=1<<r;e[r]=-1,t&=~n}}function Hb(e){if(he&6)throw Error(V(327));gi();var t=zu(e,0);if(!(t&1))return Jt(e,Ze()),null;var r=sd(e,t);if(e.tag!==0&&r===2){var n=xp(e);n!==0&&(t=n,r=Kp(e,n))}if(r===1)throw r=jl,fs(e,0),ha(e,t),Jt(e,Ze()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Za(e,Vt,bn),Jt(e,Ze()),null}function ev(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(Ai=Ze()+500,hf&&za())}}function Ns(e){xa!==null&&xa.tag===0&&!(he&6)&&gi();var t=he;he|=1;var r=Sr.transition,n=be;try{if(Sr.transition=null,be=1,e)return e()}finally{be=n,Sr.transition=r,he=t,!(he&6)&&za()}}function tv(){rr=ci.current,Re(ci)}function fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,W4(r)),at!==null)for(r=at.return;r!==null;){var n=r;switch(R0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ku();break;case 3:Ei(),Re(Xt),Re(Mt),W0();break;case 5:q0(n);break;case 4:Ei();break;case 13:Re(qe);break;case 19:Re(qe);break;case 10:F0(n.type._context);break;case 22:case 23:tv()}r=r.return}if(yt=e,at=e=Ea(e.current,null),St=rr=t,dt=0,jl=null,J0=xf=js=0,Vt=Xo=null,is!==null){for(t=0;t<is.length;t++)if(r=is[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}is=null}return e}function q2(e,t){do{var r=at;try{if(L0(),vu.current=td,ed){for(var n=We.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ed=!1}if(ws=0,vt=ct=We=null,Ho=!1,yl=0,Q0.current=null,r===null||r.return===null){dt=1,jl=t,at=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=St,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Rb(o);if(h!==null){h.flags&=-257,Db(h,o,l,i,t),h.mode&1&&Mb(i,u,t),t=h,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Mb(i,u,t),rv();break e}c=Error(V(426))}}else if(Be&&l.mode&1){var y=Rb(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Db(y,o,l,i,t),D0(Pi(c,l));break e}}i=c=Pi(c,l),dt!==4&&(dt=2),Xo===null?Xo=[i]:Xo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=C2(i,c,t);Eb(i,w);break e;case 1:l=c;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ca===null||!Ca.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=k2(i,l,t);Eb(i,j);break e}}i=i.return}while(i!==null)}K2(r)}catch(N){t=N,at===r&&r!==null&&(at=r=r.return);continue}break}while(!0)}function W2(){var e=rd.current;return rd.current=td,e===null?td:e}function rv(){(dt===0||dt===3||dt===2)&&(dt=4),yt===null||!(js&268435455)&&!(xf&268435455)||ha(yt,St)}function sd(e,t){var r=he;he|=2;var n=W2();(yt!==e||St!==t)&&(bn=null,fs(e,t));do try{pI();break}catch(a){q2(e,a)}while(!0);if(L0(),he=r,rd.current=n,at!==null)throw Error(V(261));return yt=null,St=0,dt}function pI(){for(;at!==null;)V2(at)}function gI(){for(;at!==null&&!zT();)V2(at)}function V2(e){var t=H2(e.alternate,e,rr);e.memoizedProps=e.pendingProps,t===null?K2(e):at=t,Q0.current=null}function K2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cI(r,t),r!==null){r.flags&=32767,at=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,at=null;return}}else if(r=lI(r,t,rr),r!==null){at=r;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);dt===0&&(dt=5)}function Za(e,t,r){var n=be,a=Sr.transition;try{Sr.transition=null,be=1,vI(e,t,r,n)}finally{Sr.transition=a,be=n}return null}function vI(e,t,r,n){do gi();while(xa!==null);if(he&6)throw Error(V(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(QT(e,i),e===yt&&(at=yt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lc||(Lc=!0,Y2(Bu,function(){return gi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sr.transition,Sr.transition=null;var o=be;be=1;var l=he;he|=4,Q0.current=null,dI(e,r),B2(r,e),$4(_p),Uu=!!Np,_p=Np=null,e.current=r,fI(r),UT(),he=l,be=o,Sr.transition=i}else e.current=r;if(Lc&&(Lc=!1,xa=e,ad=a),i=e.pendingLanes,i===0&&(Ca=null),VT(r.stateNode),Jt(e,Ze()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(nd)throw nd=!1,e=Wp,Wp=null,e;return ad&1&&e.tag!==0&&gi(),i=e.pendingLanes,i&1?e===Vp?Qo++:(Qo=0,Vp=e):Qo=0,za(),null}function gi(){if(xa!==null){var e=C_(ad),t=Sr.transition,r=be;try{if(Sr.transition=null,be=16>e?16:e,xa===null)var n=!1;else{if(e=xa,xa=null,ad=0,he&6)throw Error(V(331));var a=he;for(he|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:Yo(8,d,i)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var m=d.sibling,h=d.return;if($2(d),d===u){J=null;break}if(m!==null){m.return=h,J=m;break}J=h}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yo(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,J=w;break e}J=i.return}}var b=e.current;for(J=b;J!==null;){o=J;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,J=x;else e:for(o=b;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vf(9,l)}}catch(N){He(l,l.return,N)}if(l===o){J=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,J=j;break e}J=l.return}}if(he=a,za(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(cf,e)}catch{}n=!0}return n}finally{be=r,Sr.transition=t}}return!1}function Yb(e,t,r){t=Pi(r,t),t=C2(e,t,1),e=Sa(e,t,1),t=Bt(),e!==null&&(zl(e,1,t),Jt(e,t))}function He(e,t,r){if(e.tag===3)Yb(e,e,r);else for(;t!==null;){if(t.tag===3){Yb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ca===null||!Ca.has(n))){e=Pi(r,e),e=k2(t,e,1),t=Sa(t,e,1),e=Bt(),t!==null&&(zl(t,1,e),Jt(t,e));break}}t=t.return}}function xI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Bt(),e.pingedLanes|=e.suspendedLanes&r,yt===e&&(St&r)===r&&(dt===4||dt===3&&(St&130023424)===St&&500>Ze()-Z0?fs(e,0):J0|=r),Jt(e,t)}function G2(e,t){t===0&&(e.mode&1?(t=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):t=1);var r=Bt();e=Ln(e,t),e!==null&&(zl(e,t,r),Jt(e,r))}function yI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),G2(e,r)}function bI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),G2(e,r)}var H2;H2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Ht=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ht=!1,oI(e,t,r);Ht=!!(e.flags&131072)}else Ht=!1,Be&&t.flags&1048576&&J_(t,Yu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;yu(e,t),e=t.pendingProps;var a=Si(t,Mt.current);pi(t,r),a=K0(null,t,n,e,a,r);var i=G0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qt(n)?(i=!0,Gu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,z0(t),a.updater=gf,t.stateNode=a,a._reactInternals=t,Ip(t,n,e,r),t=Dp(null,t,n,!0,i,r)):(t.tag=0,Be&&i&&M0(t),$t(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(yu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=jI(n),e=zr(n,e),a){case 0:t=Rp(null,t,n,e,r);break e;case 1:t=Fb(null,t,n,e,r);break e;case 11:t=$b(null,t,n,e,r);break e;case 14:t=Lb(null,t,n,zr(n.type,e),r);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zr(n,a),Rp(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zr(n,a),Fb(e,t,n,a,r);case 3:e:{if(O2(t),e===null)throw Error(V(387));n=t.pendingProps,i=t.memoizedState,a=i.element,a2(e,t),Ju(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Pi(Error(V(423)),t),t=Bb(e,t,n,r,a);break e}else if(n!==a){a=Pi(Error(V(424)),t),t=Bb(e,t,n,r,a);break e}else for(ir=_a(t.stateNode.containerInfo.firstChild),or=t,Be=!0,Wr=null,r=r2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ci(),n===a){t=Fn(e,t,r);break e}$t(e,t,n,r)}t=t.child}return t;case 5:return s2(t),e===null&&Ap(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Sp(n,a)?o=null:i!==null&&Sp(n,i)&&(t.flags|=32),A2(e,t),$t(e,t,o,r),t.child;case 6:return e===null&&Ap(t),null;case 13:return T2(e,t,r);case 4:return U0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ki(t,null,n,r):$t(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zr(n,a),$b(e,t,n,a,r);case 7:return $t(e,t,t.pendingProps,r),t.child;case 8:return $t(e,t,t.pendingProps.children,r),t.child;case 12:return $t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Oe(Xu,n._currentValue),n._currentValue=o,i!==null)if(Xr(i.value,o)){if(i.children===a.children&&!Xt.current){t=Fn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=An(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Op(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Op(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,pi(t,r),a=Er(a),n=n(a),t.flags|=1,$t(e,t,n,r),t.child;case 14:return n=t.type,a=zr(n,t.pendingProps),a=zr(n.type,a),Lb(e,t,n,a,r);case 15:return E2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zr(n,a),yu(e,t),t.tag=1,Qt(n)?(e=!0,Gu(t)):e=!1,pi(t,r),S2(t,n,a),Ip(t,n,a,r),Dp(null,t,n,!0,e,r);case 19:return I2(e,t,r);case 22:return P2(e,t,r)}throw Error(V(156,t.tag))};function Y2(e,t){return j_(e,t)}function wI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,r,n){return new wI(e,t,r,n)}function nv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jI(e){if(typeof e=="function")return nv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j0)return 11;if(e===N0)return 14}return 2}function Ea(e,t){var r=e.alternate;return r===null?(r=jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ju(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")nv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Zs:return ms(r.children,a,i,t);case w0:o=8,a|=8;break;case np:return e=jr(12,r,t,a|2),e.elementType=np,e.lanes=i,e;case ap:return e=jr(13,r,t,a),e.elementType=ap,e.lanes=i,e;case sp:return e=jr(19,r,t,a),e.elementType=sp,e.lanes=i,e;case s_:return yf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case n_:o=10;break e;case a_:o=9;break e;case j0:o=11;break e;case N0:o=14;break e;case ca:o=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=jr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ms(e,t,r,n){return e=jr(7,e,n,t),e.lanes=r,e}function yf(e,t,r,n){return e=jr(22,e,n,t),e.elementType=s_,e.lanes=r,e.stateNode={isHidden:!1},e}function lh(e,t,r){return e=jr(6,e,null,t),e.lanes=r,e}function ch(e,t,r){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NI(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qm(0),this.expirationTimes=qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function av(e,t,r,n,a,i,o,l,c){return e=new NI(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=jr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z0(i),e}function _I(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function X2(e){if(!e)return Ia;e=e._reactInternals;e:{if(Is(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(Qt(r))return X_(e,r,t)}return t}function Q2(e,t,r,n,a,i,o,l,c){return e=av(r,n,!0,e,a,i,o,l,c),e.context=X2(null),r=e.current,n=Bt(),a=ka(r),i=An(n,a),i.callback=t??null,Sa(r,i,a),e.current.lanes=a,zl(e,a,n),Jt(e,n),e}function bf(e,t,r,n){var a=t.current,i=Bt(),o=ka(a);return r=X2(r),t.context===null?t.context=r:t.pendingContext=r,t=An(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Sa(a,t,o),e!==null&&(Hr(e,a,o,i),gu(e,a,o)),o}function id(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sv(e,t){Xb(e,t),(e=e.alternate)&&Xb(e,t)}function SI(){return null}var J2=typeof reportError=="function"?reportError:function(e){console.error(e)};function iv(e){this._internalRoot=e}wf.prototype.render=iv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));bf(e,t,null,null)};wf.prototype.unmount=iv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ns(function(){bf(null,e,null,null)}),t[$n]=null}};function wf(e){this._internalRoot=e}wf.prototype.unstable_scheduleHydration=function(e){if(e){var t=P_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ma.length&&t!==0&&t<ma[r].priority;r++);ma.splice(r,0,e),r===0&&O_(e)}};function ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qb(){}function CI(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=id(o);i.call(u)}}var o=Q2(t,n,e,0,null,!1,!1,"",Qb);return e._reactRootContainer=o,e[$n]=o.current,hl(e.nodeType===8?e.parentNode:e),Ns(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=id(c);l.call(u)}}var c=av(e,0,!1,null,null,!1,!1,"",Qb);return e._reactRootContainer=c,e[$n]=c.current,hl(e.nodeType===8?e.parentNode:e),Ns(function(){bf(t,c,r,n)}),c}function Nf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=id(o);l.call(c)}}bf(t,o,e,a)}else o=CI(r,t,e,a,n);return id(o)}k_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$o(t.pendingLanes);r!==0&&(C0(t,r|1),Jt(t,Ze()),!(he&6)&&(Ai=Ze()+500,za()))}break;case 13:Ns(function(){var n=Ln(e,1);if(n!==null){var a=Bt();Hr(n,e,1,a)}}),sv(e,1)}};k0=function(e){if(e.tag===13){var t=Ln(e,134217728);if(t!==null){var r=Bt();Hr(t,e,134217728,r)}sv(e,134217728)}};E_=function(e){if(e.tag===13){var t=ka(e),r=Ln(e,t);if(r!==null){var n=Bt();Hr(r,e,t,n)}sv(e,t)}};P_=function(){return be};A_=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};pp=function(e,t,r){switch(t){case"input":if(lp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=mf(n);if(!a)throw Error(V(90));o_(n),lp(n,a)}}}break;case"textarea":c_(e,r);break;case"select":t=r.value,t!=null&&di(e,!!r.multiple,t,!1)}};g_=ev;v_=Ns;var kI={usingClientEntryPoint:!1,Events:[ql,ni,mf,h_,p_,ev]},No={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EI={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b_(e),e===null?null:e.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||SI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{cf=Fc.inject(EI),an=Fc}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kI;dr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ov(t))throw Error(V(200));return _I(e,t,null,r)};dr.createRoot=function(e,t){if(!ov(e))throw Error(V(299));var r=!1,n="",a=J2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=av(e,1,!1,null,null,r,!1,n,a),e[$n]=t.current,hl(e.nodeType===8?e.parentNode:e),new iv(t)};dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=b_(t),e=e===null?null:e.stateNode,e};dr.flushSync=function(e){return Ns(e)};dr.hydrate=function(e,t,r){if(!jf(t))throw Error(V(200));return Nf(null,e,t,!0,r)};dr.hydrateRoot=function(e,t,r){if(!ov(e))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=J2;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Q2(t,null,e,1,r??null,a,!1,i,o),e[$n]=t.current,hl(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new wf(t)};dr.render=function(e,t,r){if(!jf(t))throw Error(V(200));return Nf(null,e,t,!1,r)};dr.unmountComponentAtNode=function(e){if(!jf(e))throw Error(V(40));return e._reactRootContainer?(Ns(function(){Nf(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1};dr.unstable_batchedUpdates=ev;dr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jf(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Nf(e,t,r,!1,n)};dr.version="18.3.1-next-f1338f8080-20240426";function Z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z2)}catch(e){console.error(e)}}Z2(),ZN.exports=dr;var lv=ZN.exports,Jb=lv;tp.createRoot=Jb.createRoot,tp.hydrateRoot=Jb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}var ya;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ya||(ya={}));const Zb="popstate";function PI(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Hp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:od(a)}return OI(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AI(){return Math.random().toString(36).substr(2,8)}function ew(e,t){return{usr:e.state,key:e.key,idx:t}}function Hp(e,t,r,n){return r===void 0&&(r=null),Nl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zi(t):t,{state:r,key:t&&t.key||n||AI()})}function od(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function OI(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ya.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Nl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ya.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:w})}function m(y,w){l=ya.Push;let b=Hp(v.location,y,w);u=d()+1;let x=ew(b,u),j=v.createHref(b);try{o.pushState(x,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function h(y,w){l=ya.Replace;let b=Hp(v.location,y,w);u=d();let x=ew(b,u),j=v.createHref(b);o.replaceState(x,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function g(y){let w=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof y=="string"?y:od(y);return b=b.replace(/ $/,"%20"),et(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let v={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Zb,f),c=y,()=>{a.removeEventListener(Zb,f),c=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:h,go(y){return o.go(y)}};return v}var tw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tw||(tw={}));function TI(e,t,r){return r===void 0&&(r="/"),II(e,t,r)}function II(e,t,r,n){let a=typeof t=="string"?Zi(t):t,i=cv(a.pathname||"/",r);if(i==null)return null;let o=tS(e);MI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=KI(i);l=qI(o[c],u)}return l}function tS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Pa([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tS(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:zI(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of rS(i.path))a(i,o,c)}),t}function rS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=rS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function MI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:UI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const RI=/^:[\w-]+$/,DI=3,$I=2,LI=1,FI=10,BI=-2,rw=e=>e==="*";function zI(e,t){let r=e.split("/"),n=r.length;return r.some(rw)&&(n+=BI),t&&(n+=$I),r.filter(a=>!rw(a)).reduce((a,i)=>a+(RI.test(i)?DI:i===""?LI:FI),n)}function UI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function qI(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=WI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Pa([i,f.pathname]),pathnameBase:XI(Pa([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Pa([i,f.pathnameBase]))}return o}function WI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=VI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[f];return h&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function VI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),eS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function KI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function GI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Zi(e):e;return{pathname:r?r.startsWith("/")?r:HI(r,t):t,search:QI(n),hash:JI(a)}}function HI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function uh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function uv(e,t){let r=YI(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function dv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Zi(e):(a=Nl({},e),et(!a.pathname||!a.pathname.includes("?"),uh("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),uh("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),uh("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=GI(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Pa=e=>e.join("/").replace(/\/\/+/g,"/"),XI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nS=["post","put","patch","delete"];new Set(nS);const e5=["get",...nS];new Set(e5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}const fv=p.createContext(null),t5=p.createContext(null),Ua=p.createContext(null),_f=p.createContext(null),Yn=p.createContext({outlet:null,matches:[],isDataRoute:!1}),aS=p.createContext(null);function r5(e,t){let{relative:r}=t===void 0?{}:t;eo()||et(!1);let{basename:n,navigator:a}=p.useContext(Ua),{hash:i,pathname:o,search:l}=iS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Pa([n,o])),a.createHref({pathname:c,search:l,hash:i})}function eo(){return p.useContext(_f)!=null}function Ms(){return eo()||et(!1),p.useContext(_f).location}function sS(e){p.useContext(Ua).static||p.useLayoutEffect(e)}function Mr(){let{isDataRoute:e}=p.useContext(Yn);return e?g5():n5()}function n5(){eo()||et(!1);let e=p.useContext(fv),{basename:t,future:r,navigator:n}=p.useContext(Ua),{matches:a}=p.useContext(Yn),{pathname:i}=Ms(),o=JSON.stringify(uv(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return sS(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=dv(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Pa([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function a5(){let{matches:e}=p.useContext(Yn),t=e[e.length-1];return t?t.params:{}}function iS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(Ua),{matches:a}=p.useContext(Yn),{pathname:i}=Ms(),o=JSON.stringify(uv(a,n.v7_relativeSplatPath));return p.useMemo(()=>dv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function s5(e,t){return i5(e,t)}function i5(e,t,r,n){eo()||et(!1);let{navigator:a}=p.useContext(Ua),{matches:i}=p.useContext(Yn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ms(),d;if(t){var f;let y=typeof t=="string"?Zi(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||et(!1),d=y}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=TI(e,{pathname:h}),v=d5(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Pa([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Pa([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&v?p.createElement(_f.Provider,{value:{location:_l({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ya.Pop}},v):v}function o5(){let e=p5(),t=ZI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const l5=p.createElement(o5,null);class c5 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Yn.Provider,{value:this.props.routeContext},p.createElement(aS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u5(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(fv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Yn.Provider,{value:t},n)}function d5(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,g=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let h,g=!1,v=null,y=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||l5,c&&(u<0&&m===0?(v5("route-fallback"),g=!0,y=null):u===m&&(g=!0,y=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,m+1)),b=()=>{let x;return h?x=v:g?x=y:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,p.createElement(u5,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(c5,{location:r.location,revalidation:r.revalidation,component:v,error:h,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var oS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oS||{}),lS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lS||{});function f5(e){let t=p.useContext(fv);return t||et(!1),t}function m5(e){let t=p.useContext(t5);return t||et(!1),t}function h5(e){let t=p.useContext(Yn);return t||et(!1),t}function cS(e){let t=h5(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function p5(){var e;let t=p.useContext(aS),r=m5(),n=cS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function g5(){let{router:e}=f5(oS.UseNavigateStable),t=cS(lS.UseNavigateStable),r=p.useRef(!1);return sS(()=>{r.current=!0}),p.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,_l({fromRouteId:t},i)))},[e,t])}const nw={};function v5(e,t,r){nw[e]||(nw[e]=!0)}function x5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function aw(e){let{to:t,replace:r,state:n,relative:a}=e;eo()||et(!1);let{future:i,static:o}=p.useContext(Ua),{matches:l}=p.useContext(Yn),{pathname:c}=Ms(),u=Mr(),d=dv(t,uv(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ge(e){et(!1)}function y5(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ya.Pop,navigator:i,static:o=!1,future:l}=e;eo()&&et(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:_l({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Zi(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:g="default"}=n,v=p.useMemo(()=>{let y=cv(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:h,key:g},navigationType:a}},[c,d,f,m,h,g,a]);return v==null?null:p.createElement(Ua.Provider,{value:u},p.createElement(_f.Provider,{children:r,value:v}))}function b5(e){let{children:t,location:r}=e;return s5(Yp(t),r)}new Promise(()=>{});function Yp(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let i=[...t,a];if(n.type===p.Fragment){r.push.apply(r,Yp(n.props.children,i));return}n.type!==ge&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Yp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xp.apply(this,arguments)}function w5(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function j5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function N5(e,t){return e.button===0&&(!t||t==="_self")&&!j5(e)}function Qp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function _5(e,t){let r=Qp(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const S5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C5="6";try{window.__reactRouterVersion=C5}catch{}const k5="startTransition",sw=lf[k5];function E5(e){let{basename:t,children:r,future:n,window:a}=e,i=p.useRef();i.current==null&&(i.current=PI({window:a,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&sw?sw(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>x5(n),[n]),p.createElement(y5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const P5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ae=p.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=w5(t,S5),{basename:h}=p.useContext(Ua),g,v=!1;if(typeof u=="string"&&A5.test(u)&&(g=u,P5))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),N=cv(j.pathname,h);j.origin===x.origin&&N!=null?u=N+j.search+j.hash:v=!0}catch{}let y=r5(u,{relative:a}),w=O5(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(x){n&&n(x),x.defaultPrevented||w(x)}return p.createElement("a",Xp({},m,{href:g||y,onClick:v||i?n:b,ref:r,target:c}))});var iw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iw||(iw={}));var ow;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ow||(ow={}));function O5(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Mr(),u=Ms(),d=iS(e,{relative:o});return p.useCallback(f=>{if(N5(f,r)){f.preventDefault();let m=n!==void 0?n:od(u)===od(d);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function T5(e){let t=p.useRef(Qp(e)),r=p.useRef(!1),n=Ms(),a=p.useMemo(()=>_5(n.search,r.current?null:t.current),[n.search]),i=Mr(),o=p.useCallback((l,c)=>{const u=Qp(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const I5="modulepreload",M5=function(e){return"/"+e},lw={},Vl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=M5(c),c in lw)return;lw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":I5,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},R5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vl(async()=>{const{default:n}=await Promise.resolve().then(()=>to);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class mv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class D5 extends mv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cw extends mv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uw extends mv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jp||(Jp={}));var $5=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class L5{constructor(t,{headers:r={},customFetch:n,region:a=Jp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=R5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return $5(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(v=>{throw new D5(v)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new cw(f);if(!f.ok)throw new uw(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield f.json():h==="application/octet-stream"?g=yield f.blob():h==="text/event-stream"?g=f:h==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof uw||a instanceof cw?a.context:void 0}}})}}var Kt={},hv={},Sf={},Kl={},Cf={},kf={},F5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Oi=F5();const B5=Oi.fetch,uS=Oi.fetch.bind(Oi),dS=Oi.Headers,z5=Oi.Request,U5=Oi.Response,to=Object.freeze(Object.defineProperty({__proto__:null,Headers:dS,Request:z5,Response:U5,default:uS,fetch:B5},Symbol.toStringTag,{value:"Module"})),q5=nT(to);var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});let W5=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ef.default=W5;var fS=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kf,"__esModule",{value:!0});const V5=fS(q5),K5=fS(Ef);let G5=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=V5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,m=null,h=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),w=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&w&&w.length>1&&(m=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,h=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await i.text();try{d=JSON.parse(y),Array.isArray(d)&&i.status===404&&(f=[],d=null,h=200,g="OK")}catch{i.status===404&&y===""?(h=204,g="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,h=200,g="OK"),d&&this.shouldThrowOnError)throw new K5.default(d)}return{error:d,data:f,count:m,status:h,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};kf.default=G5;var H5=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cf,"__esModule",{value:!0});const Y5=H5(kf);let X5=class extends Y5.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Cf.default=X5;var Q5=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kl,"__esModule",{value:!0});const J5=Q5(Cf);let Z5=class extends J5.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Kl.default=Z5;var e3=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sf,"__esModule",{value:!0});const _o=e3(Kl);let t3=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new _o.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new _o.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _o.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new _o.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new _o.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Sf.default=t3;var mS=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hv,"__esModule",{value:!0});const r3=mS(Sf),n3=mS(Kl);let a3=class hS{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new r3.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new hS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new n3.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};hv.default=a3;var ro=kr&&kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const pS=ro(hv);Kt.PostgrestClient=pS.default;const gS=ro(Sf);Kt.PostgrestQueryBuilder=gS.default;const vS=ro(Kl);Kt.PostgrestFilterBuilder=vS.default;const xS=ro(Cf);Kt.PostgrestTransformBuilder=xS.default;const yS=ro(kf);Kt.PostgrestBuilder=yS.default;const bS=ro(Ef);Kt.PostgrestError=bS.default;var s3=Kt.default={PostgrestClient:pS.default,PostgrestQueryBuilder:gS.default,PostgrestFilterBuilder:vS.default,PostgrestTransformBuilder:xS.default,PostgrestBuilder:yS.default,PostgrestError:bS.default};const{PostgrestClient:i3,PostgrestQueryBuilder:WJ,PostgrestFilterBuilder:VJ,PostgrestTransformBuilder:KJ,PostgrestBuilder:GJ,PostgrestError:HJ}=s3;class o3{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const l3="2.15.5",c3=`realtime-js/${l3}`,u3="1.0.0",Zp=1e4,d3=1e3,f3=100;var Jo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Jo||(Jo={}));var ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ot||(ot={}));var qr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qr||(qr={}));var eg;(function(e){e.websocket="websocket"})(eg||(eg={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class m3{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class wS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pe||(Pe={}));const dw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=h3(o,e,t,a),i),{})},h3=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?jS(i,o):tg(o)},jS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return x3(t,r)}switch(e){case Pe.bool:return p3(t);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return g3(t);case Pe.json:case Pe.jsonb:return v3(t);case Pe.timestamp:return y3(t);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return tg(t);default:return tg(t)}},tg=e=>e,p3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},g3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},v3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},x3=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>jS(t,l))}return e},y3=e=>typeof e=="string"?e.replace(" ","T"):e,NS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class dh{constructor(t,r,n={},a=Zp){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fw||(fw={}));class Zo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zo.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Zo.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Zo.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(y=>y.presence_ref),h=f.map(y=>y.presence_ref),g=d.filter(y=>h.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mw||(mw={}));var el;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(el||(el={}));var wn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class pv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dh(this,qr.join,this.params,this.timeout),this.rejoinTimer=new wS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Zo(this),this.broadcastEndpointURL=NS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[el.PRESENCE]&&this.bindings[el.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(wn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(wn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){t==null||t(wn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,w=[];for(let b=0;b<y;b++){const x=v[b],{filter:{event:j,schema:N,table:_,filter:S}}=x,C=h&&h[b];if(C&&C.event===j&&C.schema===N&&C.table===_&&C.filter===S)w.push(Object.assign(Object.assign({},x),{id:C.id}));else{this.unsubscribe(),this.state=ot.errored,t==null||t(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(wn.SUBSCRIBED);return}}).receive("error",h=>{this.state=ot.errored,t==null||t(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ot.joined&&t===el.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ot.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new dh(this,qr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dh(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>f3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=qr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var g,v,y;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(v=h.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(h=>h.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var g,v,y,w,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const j=h.id,N=(g=h.filter)===null||g===void 0?void 0:g.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(b=(w=h==null?void 0:h.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:v,table:y,commit_timestamp:w,type:b,errors:x}=g;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:w,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(g))}h.callback(m,n)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pv.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qr.close,{},t)}_onError(t){this._on(qr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=dw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=dw(t.columns,t.old_record)),r}}const fh=()=>{},Bc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},b3=[1e3,2e3,5e3,1e4],w3=1e4,j3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N3{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zp,this.transport=null,this.heartbeatIntervalMs=Bc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fh,this.ref=0,this.reconnectTimer=null,this.logger=fh,this.conn=null,this.sendBuffer=[],this.serializer=new m3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Vl(async()=>{const{default:l}=await Promise.resolve().then(()=>to);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${eg.websocket}`,this.httpEndpoint=NS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=o3.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:u3}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jo.connecting:return as.Connecting;case Jo.open:return as.Open;case Jo.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new pv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(d3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([j3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:c3};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(qr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Zp,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Bc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:fh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>b3[f-1]||w3,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class gv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _3 extends gv{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rg extends gv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var S3=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _S=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vl(async()=>{const{default:n}=await Promise.resolve().then(()=>to);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},C3=()=>S3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vl(()=>Promise.resolve().then(()=>to),void 0)).Response:Response}),ng=e=>{if(Array.isArray(e))return e.map(r=>ng(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=ng(n)}),t},k3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Rs=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const mh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),E3=(e,t,r)=>Rs(void 0,void 0,void 0,function*(){const n=yield C3();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new _3(mh(a),i,o))}).catch(a=>{t(new rg(mh(a),a))}):t(new rg(mh(e),e))}),P3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(k3(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Gl(e,t,r,n,a,i){return Rs(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,P3(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>E3(c,l,n))})})}function ld(e,t,r,n){return Rs(this,void 0,void 0,function*(){return Gl(e,"GET",t,r,n)})}function en(e,t,r,n,a){return Rs(this,void 0,void 0,function*(){return Gl(e,"POST",t,n,a,r)})}function ag(e,t,r,n,a){return Rs(this,void 0,void 0,function*(){return Gl(e,"PUT",t,n,a,r)})}function A3(e,t,r,n){return Rs(this,void 0,void 0,function*(){return Gl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function SS(e,t,r,n,a){return Rs(this,void 0,void 0,function*(){return Gl(e,"DELETE",t,n,a,r)})}var Dt=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const O3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T3{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=_S(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Dt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},hw),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ag:en)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Dt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:hw.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ag(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Dt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield en(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new gv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Dt(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Dt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield en(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Dt(this,void 0,void 0,function*(){try{const a=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}download(t,r){return Dt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ld(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}info(t){return Dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ld(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ng(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}exists(t){return Dt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield A3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n)&&n instanceof rg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Dt(this,void 0,void 0,function*(){try{return{data:yield SS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Dt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},O3),r),{prefix:t||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Dt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const I3="2.12.1",M3={"X-Client-Info":`storage-js/${I3}`};var Ws=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class R3{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},M3),r),this.fetch=_S(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ws(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ws(this,void 0,void 0,function*(){try{return{data:yield ld(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ws(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ws(this,void 0,void 0,function*(){try{return{data:yield ag(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ws(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ws(this,void 0,void 0,function*(){try{return{data:yield SS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}class D3 extends R3{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new T3(this.url,this.headers,t,this.fetch)}}const $3="2.57.4";let Fo="";typeof Deno<"u"?Fo="deno":typeof document<"u"?Fo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fo="react-native":Fo="node";const L3={"X-Client-Info":`supabase-js-${Fo}/${$3}`},F3={headers:L3},B3={schema:"public"},z3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U3={};var q3=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const W3=e=>{let t;return e?t=e:typeof fetch>"u"?t=uS:t=fetch,(...r)=>t(...r)},V3=()=>typeof Headers>"u"?dS:Headers,K3=(e,t,r)=>{const n=W3(r),a=V3();return(i,o)=>q3(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var G3=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function H3(e){return e.endsWith("/")?e:e+"/"}function Y3(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>G3(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function X3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(H3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const CS="2.71.1",Xs=30*1e3,sg=3,hh=sg*Xs,Q3="http://localhost:9999",J3="supabase.auth.token",Z3={"X-Client-Info":`gotrue-js/${CS}`},ig="X-Supabase-Api-Version",kS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,t6=10*60*1e3;class vv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class r6 extends vv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function n6(e){return oe(e)&&e.name==="AuthApiError"}class ES extends vv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qa extends vv{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class la extends qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function a6(e){return oe(e)&&e.name==="AuthSessionMissingError"}class zc extends qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uc extends qa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qc extends qa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s6(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class pw extends qa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class og extends qa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ph(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class gw extends qa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class lg extends qa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vw=` 	
\r=`.split(""),i6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vw.length;t+=1)e[vw[t].charCodeAt(0)]=-2;for(let t=0;t<cd.length;t+=1)e[cd[t].charCodeAt(0)]=t;return e})();function xw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(cd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(cd[n]),t.queuedBits-=6}}function PS(e,t,r){const n=i6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{c6(o,n,r)};for(let o=0;o<e.length;o+=1)PS(e.charCodeAt(o),a,i);return t.join("")}function o6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function l6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}o6(n,t)}}function c6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function u6(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)PS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function d6(e){const t=[];return l6(e,r=>t.push(r)),new Uint8Array(t)}function f6(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>xw(a,r,n)),xw(null,r,n),t.join("")}function m6(e){return Math.round(Date.now()/1e3)+e}function h6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Br=()=>typeof window<"u"&&typeof document<"u",Ya={tested:!1,writable:!1},AS=()=>{if(!Br())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ya.tested)return Ya.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ya.tested=!0,Ya.writable=!0}catch{Ya.tested=!0,Ya.writable=!1}return Ya.writable};function p6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const OS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vl(async()=>{const{default:n}=await Promise.resolve().then(()=>to);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},g6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Xa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sa=async(e,t)=>{await e.removeItem(t)};class Pf{constructor(){this.promise=new Pf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pf.promiseConstructor=Promise;function gh(e){const t=e.split(".");if(t.length!==3)throw new lg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!e6.test(t[n]))throw new lg("JWT not in base64url format");return{header:JSON.parse(yw(t[0])),payload:JSON.parse(yw(t[1])),signature:u6(t[2]),raw:{header:t[0],payload:t[1]}}}async function v6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function x6(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function y6(e){return("0"+e.toString(16)).substr(-2)}function b6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,y6).join("")}async function w6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function j6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await w6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vs(e,t,r=!1){const n=b6();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Qs(e,`${t}-code-verifier`,a);const i=await j6(n);return[i,n===i?"plain":"s256"]}const N6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _6(e){const t=e.headers.get(ig);if(!t||!t.match(N6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function S6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function C6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const k6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(e){if(!k6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vh(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bw(e){return JSON.parse(JSON.stringify(e))}var E6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),P6=[502,503,504];async function ww(e){var t;if(!g6(e))throw new og(es(e),0);if(P6.includes(e.status))throw new og(es(e),e.status);let r;try{r=await e.json()}catch(i){throw new ES(es(i),i)}let n;const a=_6(e);if(a&&a.getTime()>=kS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new gw(es(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new la}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gw(es(r),e.status,r.weak_password.reasons);throw new r6(es(r),e.status||500,n)}const A6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ce(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[ig]||(i[ig]=kS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await O6(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function O6(e,t,r,n,a,i){const o=A6(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new og(es(c),0)}if(l.ok||await ww(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ww(c)}}function xn(e){var t;let r=null;R6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=m6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jw(e){const t=xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function T6(e){return{data:e,error:null}}function I6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=E6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function M6(e){return e}function R6(e){return e.access_token&&e.refresh_token&&e.expires_in}const xh=["global","local","others"];var D6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class $6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=OS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=xh[0]){if(xh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xh.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pa})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=D6(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:I6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pa})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:M6});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ks(t);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pa})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ks(t);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pa})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ks(t);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pa})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ks(t.userId);try{const{data:r,error:n}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ks(t.userId),Ks(t.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}}function Nw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function L6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gs={debug:!!(globalThis&&AS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class F6 extends TS{}async function B6(e,t,r){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new F6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}L6();const z6={url:Q3,storageKey:J3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _w(e,t,r){return await r()}const Hs={};class Sl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sl.nextInstanceID,Sl.nextInstanceID+=1,this.instanceID>0&&Br()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},z6),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new $6({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=OS(a.fetch),this.lock=a.lock||_w,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Br()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=B6:this.lock=_w,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:AS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Nw(this.memoryStorage)),Br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Hs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Hs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hs[this.storageKey]=Object.assign(Object.assign({},Hs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${CS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=p6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Br()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),s6(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?{error:r}:{error:new ES("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:xn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Vs(this.storage,this.storageKey)),i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:g},xform:xn})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:xn})}else throw new Uc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jw})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:jw})}else throw new Uc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,m,h;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:y,wallet:w,statement:b,options:x}=t;let j;if(Br())if(typeof w=="object")j=w;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=w}const N=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:y,error:w}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:f6(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xn});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new zc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(oe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Xa(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xn});if(await sa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(oe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new zc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vs(this.storage,this.storageKey));const{error:f}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Uc("You must provide either an email or phone number.")}catch(l){if(oe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:xn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Vs(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:T6})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new la;const{error:a}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Uc("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Xa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=vh()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pa}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new la}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:pa})})}catch(r){if(oe(r))return a6(r)&&(await this._removeSession(),await sa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new la;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Vs(this.storage,this.storageKey));const{data:u,error:d}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:pa});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new la;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=gh(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new la;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Br())throw new qc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pw("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new qc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const h=m-d;h*1e3<=Xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const g=m-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,d);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(oe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Xa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(n6(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await sa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=h6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Vs(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Br()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(oe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await x6(async a=>(a>0&&await v6(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&ph(i)&&Date.now()+o-n<Xs})}catch(n){if(this._debug(r,"error",n),oe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Br()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Xa(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Qs(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:vh()}else if(a&&!a.user&&!a.user){const o=await Xa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await sa(this.storage,this.storageKey+"-user"),await Qs(this.storage,this.storageKey,a)):a.user=vh()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${hh}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),ph(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new la;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Pf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new la;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),oe(i)){const o={session:null,error:i};return ph(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qs(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=bw(a);await Qs(this.storage,this.storageKey,i)}else{const a=bw(r);await Qs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await sa(this.storage,this.storageKey),await sa(this.storage,this.storageKey+"-code-verifier"),await sa(this.storage,this.storageKey+"-user"),this.userStorage&&await sa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Br()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Xs}ms, refresh threshold is ${sg} ticks`),a<=sg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof TS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Br()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gh(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+t6>a)return n;const{data:i,error:o}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:g}=await this.getSession();if(g||!h.session)return{data:null,error:g};n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=gh(n);r!=null&&r.allowExpired||S6(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const d=C6(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,d6(`${l}.${c}`)))throw new lg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}}Sl.nextInstanceID=0;const U6=Sl;class q6 extends U6{constructor(t){super(t)}}var W6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class V6{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=X3(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:B3,realtime:U3,auth:Object.assign(Object.assign({},z3),{storageKey:c}),global:F3},d=Y3(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=K3(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new i3(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new D3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new L5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return W6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q6({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new N3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const K6=(e,t,r)=>new V6(e,t,r);function G6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}G6()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const H6="https://dbwbxzbtydeauczfleqx.supabase.co",Y6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRid2J4emJ0eWRlYXVjemZsZXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyODgxMDcsImV4cCI6MjA3Mjg2NDEwN30.t-SDdi41bhb8piYz9GyyEJWGE3H_BdTtAC8VZgxhW1E",xe=K6(H6,Y6,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Af=()=>{const[e,t]=p.useState([]);return{toast:n=>{const a=Math.random().toString(36).substr(2,9),i={...n,id:a};t(o=>[...o,i]),alert(`${n.title}: ${n.description}`),setTimeout(()=>{t(o=>o.filter(l=>l.id!==a))},5e3)},toasts:e}},IS=p.createContext({user:null,profile:null,loading:!0,signOut:async()=>{},signUp:async()=>{},signIn:async()=>{},resetPassword:async()=>{},updateProfile:async()=>{},checkSubscription:async()=>{},updatePerfil:async()=>{},upgradeUser:async()=>{},perfilConfeitaria:null});function X6({children:e}){const[t,r]=p.useState(null),[n,a]=p.useState(null),[i,o]=p.useState(!0),l=Mr(),{toast:c}=Af(),u=async x=>{try{const j=[{nome:"Bolos",cor_hex:"#FF6B6B",icone:"🎂",ordem:1},{nome:"Doces",cor_hex:"#4ECDC4",icone:"🍬",ordem:2},{nome:"Salgados",cor_hex:"#45B7D1",icone:"🥧",ordem:3},{nome:"Tortas",cor_hex:"#96CEB4",icone:"🥧",ordem:4},{nome:"Sobremesas",cor_hex:"#FFEAA7",icone:"🍰",ordem:5}];for(const N of j)await xe.from("categorias").insert({user_id:x,...N});await xe.from("configuracoes_usuario").insert({user_id:x,moeda:"BRL",fuso_horario:"America/Sao_Paulo",margem_padrao:30,custo_hora_trabalho:25,notificacoes_email:!0,notificacoes_whatsapp:!0})}catch(j){console.error("Erro ao inicializar dados do usuário:",j)}},d=async x=>{try{const{data:j,error:N}=await xe.from("profiles").select("*").eq("id",x).single();if(N&&N.code!=="PGRST116")throw N;if(j){const _={id:j.id,nome:j.nome,email:j.email,plano:j.plano||"free",nome_negocio:j.nome_negocio||void 0,whatsapp:j.whatsapp||void 0,instagram:j.instagram||void 0,endereco:j.endereco||void 0,cidade:j.cidade||void 0,estado:j.estado||void 0,bio:j.bio||void 0,foto_perfil:j.foto_perfil||void 0};a(_)}}catch(j){console.error("Erro ao buscar perfil:",j)}};p.useEffect(()=>{xe.auth.getSession().then(({data:{session:j}})=>{r((j==null?void 0:j.user)??null),j!=null&&j.user&&d(j.user.id),o(!1)});const{data:{subscription:x}}=xe.auth.onAuthStateChange((j,N)=>{r((N==null?void 0:N.user)??null),o(!1),N!=null&&N.user?setTimeout(()=>{d(N.user.id),j==="SIGNED_IN"&&(b(),l("/dashboard",{replace:!0}))},0):a(null)});return()=>x.unsubscribe()},[]);const f=async(x,j,N,_)=>{try{o(!0);const{data:S,error:C}=await xe.auth.signUp({email:x,password:j,options:{emailRedirectTo:`${window.location.origin}/dashboard`,data:{nome:N,nome_negocio:_}}});if(C)throw C;if(S.user){const{error:A}=await xe.from("profiles").insert({id:S.user.id,email:x,nome:N,nome_negocio:_||"",plano:"free",password:"supabase_managed"});if(A)throw A;await u(S.user.id),c({title:"Conta criada com sucesso!",description:"Bem-vinda ao DoceCalc. Sua conta já está pronta para uso."})}}catch(S){throw c({title:"Erro ao criar conta",description:S.message,variant:"destructive"}),o(!1),S}},m=async(x,j)=>{try{o(!0);const{error:N}=await xe.auth.signInWithPassword({email:x,password:j});if(N)throw N;c({title:"Login realizado!",description:"Bem-vindo de volta!"});return}catch(N){throw c({title:"Erro no login",description:N.message,variant:"destructive"}),o(!1),N}},h=async()=>{try{const{error:x}=await xe.auth.signOut();if(x)throw x;r(null),a(null),l("/"),c({title:"Logout realizado",description:"Até logo!"})}catch(x){c({title:"Erro no logout",description:x.message,variant:"destructive"})}},g=async x=>{try{const{error:j}=await xe.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(j)throw j;c({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir a senha."})}catch(j){throw c({title:"Erro ao enviar email",description:j.message,variant:"destructive"}),j}},v=async x=>{if(!(!t||!n))try{const{error:j}=await xe.from("profiles").update(x).eq("id",t.id);if(j)throw j;a({...n,...x}),c({title:"Perfil atualizado!",description:"Suas informações foram salvas."})}catch(j){throw c({title:"Erro ao atualizar perfil",description:j.message,variant:"destructive"}),j}},y=v,w=async x=>{await v({plano:x})},b=async()=>{if(t)try{const{data:x,error:j}=await xe.functions.invoke("check-subscription",{body:{userEmail:t.email}});if(j)throw j;x!=null&&x.subscribed&&(n==null?void 0:n.plano)!=="professional"?await v({plano:"professional"}):!(x!=null&&x.subscribed)&&(n==null?void 0:n.plano)!=="free"&&await v({plano:"free"})}catch(x){console.error("Erro ao verificar assinatura:",x)}};return s.jsx(IS.Provider,{value:{user:t,profile:n,loading:i,signOut:h,signUp:f,signIn:m,resetPassword:g,updateProfile:v,checkSubscription:b,updatePerfil:y,upgradeUser:w,perfilConfeitaria:n},children:e})}const Ke=()=>{const e=p.useContext(IS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};var Q6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const J6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>p.createElement("svg",{ref:u,...Q6,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${J6(e)}`,...c},[...t.map(([d,f])=>p.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r},Of=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Nu=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Le=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),cg=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Z6=H("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Ti=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),xv=H("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),eM=H("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),_u=H("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Su=H("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),tM=H("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),rM=H("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),yh=H("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]),cn=H("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),yv=H("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ii=H("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),nM=H("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),we=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),hs=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),aM=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),sM=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ds=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),iM=H("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Hl=H("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ar=H("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Ma=H("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),$s=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),MS=H("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Sw=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ug=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Gt=H("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),oM=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),lM=H("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),cM=H("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),uM=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),dM=H("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),RS=H("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),bv=H("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Cl=H("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Cu=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),fM=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ud=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),mM=H("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),hM=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),On=H("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),dd=H("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),DS=H("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Yl=H("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),pM=H("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Aa=H("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),$S=H("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),wv=H("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),LS=H("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Or=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),on=H("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),ku=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),gM=H("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),jv=H("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),vM=H("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Bn=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),vi=H("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),FS=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fd=H("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),dg=H("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),kl=H("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),fg=H("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),BS=H("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),zn=H("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),md=H("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Cw=H("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),xM=H("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),mg=H("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),kw=H("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Un=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),bh=H("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Cr=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ra=H("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Nr=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_s=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Yr=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mi=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Ee({children:e,requiresPro:t=!1}){const{user:r,profile:n,loading:a}=Ke(),i=Ms();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(bv,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):r?t&&(n==null?void 0:n.plano)!=="professional"?s.jsx(aw,{to:"/upgrade",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(aw,{to:"/login",state:{from:i},replace:!0})}function yM(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[a,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),m=Mr(),{toast:h}=Af();p.useEffect(()=>{xe.auth.getSession().then(({data:{session:v}})=>{v&&v.user.aud==="authenticated"?f(!0):m("/login")})},[m]);const g=async v=>{if(v.preventDefault(),e!==r){h({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});return}if(e.length<6){h({title:"Erro",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}u(!0);try{const{error:y}=await xe.auth.updateUser({password:e});if(y)throw y;h({title:"Senha alterada!",description:"Sua senha foi alterada com sucesso."}),m("/dashboard")}catch(y){h({title:"Erro ao alterar senha",description:y.message,variant:"destructive"})}finally{u(!1)}};return d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-100 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 relative",children:[s.jsx(ae,{to:"/login",className:"absolute top-6 left-6 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Le,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full",children:s.jsx(Cu,{className:"h-8 w-8 text-white"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Nova Senha"}),s.jsx("p",{className:"text-gray-600",children:"Digite sua nova senha"})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:a?"text":"password",value:e,onChange:v=>t(v.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Digite sua nova senha",required:!0,minLength:6}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?s.jsx(Sw,{className:"h-5 w-5"}):s.jsx(ug,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nova Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:o?"text":"password",value:r,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Confirme sua nova senha",required:!0,minLength:6}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?s.jsx(Sw,{className:"h-5 w-5"}):s.jsx(ug,{className:"h-5 w-5"})})]})]}),s.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-lg hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all duration-200",children:c?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Alterando..."})]}):"Alterar Senha"})]})]})}):null}const Ri=[{id:"free",nome:"Gratuito",preco_mensal:0,limite_receitas:5,limite_orcamentos:3,descricao:"Ideal para começar",funcionalidades:["Até 5 receitas cadastradas","Calculadora básica de custos","3 orçamentos por mês","Biblioteca com 20 ingredientes padrão","Acesso web básico"]},{id:"professional",nome:"Profissional",preco_mensal:39.9,limite_receitas:null,limite_orcamentos:null,descricao:"Acesso completo a todas as funcionalidades",popular:!0,funcionalidades:["Receitas ilimitadas","Orçamentos ilimitados","Gestão completa de ingredientes","Gestão completa de clientes","Controle completo de pedidos","Relatórios completos","Backup automático","Catálogo público ilimitado","Comunidade completa","Todas as ferramentas","Suporte prioritário"]}];function bM(){var v;const[e,t]=p.useState(""),[r,n]=p.useState(!1),[a,i]=p.useState(!1),[o,l]=p.useState([{nome:"Leite condensado",quantidade:1,preco:3.95},{nome:"Chocolate pó",quantidade:50,preco:.025},{nome:"Manteiga",quantidade:15,preco:.018}]),[c,u]=p.useState(60),[d,f]=p.useState(2.4),[m,h]=p.useState(12.5),g=[{nome:"Maria Silva",confeitaria:"Doces da Maria",avatar:"👩‍🍳",texto:"O DoceCalc revolucionou meu negócio! Agora sei exatamente quanto cobrar e meu lucro aumentou 40%.",estrelas:5},{nome:"Ana Costa",confeitaria:"Bolos & Cia",avatar:"👩‍🦰",texto:"Antes eu chutava os preços. Com o DoceCalc, tenho controle total dos custos e margem de lucro.",estrelas:5},{nome:"Lucia Santos",confeitaria:"Delícias da Lu",avatar:"👩‍🦳",texto:"Excelente ferramenta! A gestão de ingredientes me ajuda muito no controle de estoque.",estrelas:5}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50",children:[s.jsxs("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-50 animate-fade-in",children:[s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yh,{className:"h-8 w-8 text-pink-500"}),s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DoceCalc"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[s.jsx("a",{href:"#funcionalidades",className:"text-gray-600 hover:text-pink-500 transition-colors story-link",children:"Funcionalidades"}),s.jsx("a",{href:"#planos",className:"text-gray-600 hover:text-pink-500 transition-colors story-link",children:"Planos"}),s.jsx("a",{href:"#depoimentos",className:"text-gray-600 hover:text-pink-500 transition-colors story-link",children:"Depoimentos"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[s.jsx(ae,{to:"/login",className:"text-gray-600 hover:text-gray-900 transition-colors font-medium",children:"Entrar"}),s.jsx(ae,{to:"/login",className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:shadow-lg hover-scale transition-all duration-200 font-medium",children:"Começar Grátis"})]}),s.jsx("button",{onClick:()=>i(!a),className:"md:hidden text-gray-600 hover:text-gray-900 transition-colors",children:a?s.jsx(Yr,{className:"h-6 w-6"}):s.jsx(hM,{className:"h-6 w-6"})})]}),a&&s.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white/95 backdrop-blur-sm border-b shadow-lg animate-slide-in-right",children:s.jsxs("div",{className:"px-4 py-4 space-y-4",children:[s.jsx("a",{href:"#funcionalidades",className:"block text-gray-600 hover:text-pink-500 transition-colors py-2",onClick:()=>i(!1),children:"Funcionalidades"}),s.jsx("a",{href:"#planos",className:"block text-gray-600 hover:text-pink-500 transition-colors py-2",onClick:()=>i(!1),children:"Planos"}),s.jsx("a",{href:"#depoimentos",className:"block text-gray-600 hover:text-pink-500 transition-colors py-2",onClick:()=>i(!1),children:"Depoimentos"}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsx(ae,{to:"/login",className:"block text-center text-gray-600 hover:text-gray-900 transition-colors font-medium py-2",onClick:()=>i(!1),children:"Entrar"}),s.jsx(ae,{to:"/login",className:"block text-center bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all duration-200 font-medium",onClick:()=>i(!1),children:"Começar Grátis"})]})]})})]}),s.jsx("section",{className:"py-12 sm:py-16 lg:py-20 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"container mx-auto text-center max-w-4xl animate-fade-in",children:[s.jsx("div",{className:"mb-4 inline-flex items-center px-4 py-2 bg-pink-100 text-pink-700 rounded-full text-sm font-medium animate-bounce-in",children:"+500k Confeiteiras no Brasil 🇧🇷"}),s.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Pare de vender no",s.jsx("span",{className:"text-transparent bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text",children:" prejuízo!"})]}),s.jsxs("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:["A calculadora completa para confeiteiras que querem ter uma confeitaria",s.jsx("strong",{className:"text-pink-600",children:" realmente lucrativa"}),". Calcule preços corretos e venda com confiança!"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[s.jsxs(ae,{to:"/login",className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-purple-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-lg hover-scale transition-all duration-200 flex items-center justify-center space-x-2",children:[s.jsx("span",{children:"Começar Grátis Agora"}),s.jsx(cg,{className:"h-5 w-5"})]}),s.jsxs("button",{onClick:()=>n(!r),className:"w-full sm:w-auto border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 flex items-center justify-center space-x-2",children:[s.jsx(LS,{className:"h-5 w-5"}),s.jsx("span",{children:"Ver Demonstração"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center hover-lift p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-pink-600",children:"8k+"}),s.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Buscas mensais"})]}),s.jsxs("div",{className:"text-center hover-lift p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-pink-600",children:"500k+"}),s.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Confeiteiras BR"})]}),s.jsxs("div",{className:"text-center hover-lift p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-pink-600",children:"R$ 39,90"}),s.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Por mês apenas"})]})]}),r&&s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 sm:p-8 max-w-4xl mx-auto mt-12 animate-scale-in",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"🎯 Exemplo Prático: Brigadeiro"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 text-left bg-gradient-to-r from-pink-500 to-purple-600 text-white p-6 rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold mb-2 text-lg",children:"📝 Ingredientes:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"• Leite condensado: R$ 3,95"}),s.jsx("li",{children:"• Chocolate pó: R$ 1,25"}),s.jsx("li",{children:"• Manteiga: R$ 0,27"}),s.jsx("li",{children:"• Granulado: R$ 2,00"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold mb-2 text-lg",children:"⚡ Cálculo Automático:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"• Custo ingredientes: R$ 7,47"}),s.jsx("li",{children:"• Mão de obra (30min): R$ 12,50"}),s.jsx("li",{children:"• Custos fixos: R$ 2,40"}),s.jsx("li",{children:"• Margem 60%: R$ 13,42"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold mb-2 text-lg",children:"💰 Resultado:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Custo total: R$ 22,37"})]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Preço final: R$ 35,79"})]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Por unidade: R$ 1,20"})]}),s.jsx("li",{children:"• ✅ Lucro real: R$ 13,42"})]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"inline-flex items-center px-4 py-2 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:"✨ Antes você cobrava R$ 1,00 e tinha prejuízo. Agora R$ 1,20 com 60% de lucro!"})})]})]})}),s.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white/70",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Você já passou por isso? 😰"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"A maioria das confeiteiras comete estes erros que quebram o negócio"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"border-2 border-red-200 bg-red-50/50 rounded-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center text-red-700 mb-4",children:[s.jsx(Ma,{className:"h-6 w-6 mr-2 flex-shrink-0"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:'Preço no "achômetro"'})]}),s.jsx("p",{className:"text-red-600 text-sm sm:text-base",children:'"Cobro R$ 3,00 o brigadeiro porque a concorrência cobra isso..." Resultado: prejuízo mascarado que só aparece no final do mês.'})]}),s.jsxs("div",{className:"border-2 border-red-200 bg-red-50/50 rounded-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center text-red-700 mb-4",children:[s.jsx(Ds,{className:"h-6 w-6 mr-2 flex-shrink-0"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"Esquece a mão de obra"})]}),s.jsx("p",{className:"text-red-600 text-sm sm:text-base",children:'"Só conto o ingrediente, meu trabalho é de graça!" Seu tempo vale dinheiro e precisa estar no preço.'})]}),s.jsxs("div",{className:"border-2 border-red-200 bg-red-50/50 rounded-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center text-red-700 mb-4",children:[s.jsx(Cr,{className:"h-6 w-6 mr-2 flex-shrink-0"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"Margem de lucro baixa"})]}),s.jsx("p",{className:"text-red-600 text-sm sm:text-base",children:'"20% de lucro está bom..." Não! Para crescer o negócio, você precisa de margens maiores.'})]}),s.jsxs("div",{className:"border-2 border-red-200 bg-red-50/50 rounded-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center text-red-700 mb-4",children:[s.jsx(Gt,{className:"h-6 w-6 mr-2 flex-shrink-0"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"Orçamentos amadores"})]}),s.jsx("p",{className:"text-red-600 text-sm sm:text-base",children:'"Mando por WhatsApp mesmo..." Clientes não levam a sério e você perde vendas por parecer amadora.'})]})]})]})}),s.jsx("section",{id:"funcionalidades",className:"py-12 sm:py-16 lg:py-20",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"A solução completa para sua confeitaria 🎂"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Tudo que você precisa para calcular preços corretos e ter um negócio lucrativo"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(cn,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Calculadora Inteligente"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Calcula automaticamente custos de ingredientes, mão de obra, custos fixos e margem de lucro ideal."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(yh,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Base de Receitas"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Cadastre suas receitas com ingredientes e quantidades. Templates prontos para começar rápido."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(Ma,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Preços Atualizados"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Base de ingredientes com preços médios do mercado, atualizada por nossa comunidade."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(wv,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Relatórios Inteligentes"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Veja quais produtos dão mais lucro, análise de custos e insights para otimizar seu negócio."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(Gt,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Orçamentos Profissionais"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Gere orçamentos em PDF profissionais para impressionar seus clientes e fechar mais vendas."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(Mi,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Cálculo Instantâneo"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Mude a quantidade e veja o preço atualizar na hora. Perfeito para atender clientes rapidamente."})]})]})]})}),s.jsx("section",{id:"planos",className:"py-12 sm:py-16 lg:py-20 bg-white/70",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Escolha seu plano 💎"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Comece grátis e upgrade quando seu negócio crescer"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 relative hover-lift animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Plano Gratuito"}),s.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-pink-500",children:"R$ 0"}),s.jsx("p",{className:"text-gray-600",children:"Para sempre"})]}),s.jsxs("ul",{className:"space-y-3 mb-8",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(we,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base",children:"3 receitas cadastradas"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(we,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Calculadora básica"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(we,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Base de ingredientes"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(we,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Suporte por email"})]})]}),s.jsx(ae,{to:"/login",className:"w-full py-3 px-4 rounded-lg font-medium transition-colors text-center block bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Começar Grátis"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 relative border-2 border-pink-500 hover-lift animate-fade-in",children:[s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx("div",{className:"bg-pink-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Mais Popular 🔥"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Plano Profissional"}),s.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-pink-500",children:"R$ 39,90"}),s.jsx("p",{className:"text-gray-600",children:"Por mês"})]}),s.jsx("ul",{className:"space-y-3 mb-8",children:(v=Ri.find(y=>y.id==="professional"))==null?void 0:v.funcionalidades.slice(0,8).map((y,w)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx(we,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:y})]},w))}),s.jsx(ae,{to:"/login",className:"w-full py-3 px-4 rounded-lg font-medium transition-colors text-center block bg-gradient-to-r from-pink-500 to-purple-600 text-white hover:shadow-lg hover-scale",children:"Começar Agora"})]})]})]})}),s.jsx("section",{id:"depoimentos",className:"py-12 sm:py-16 lg:py-20",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"O que dizem nossas confeiteiras ❤️"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Histórias reais de transformação e sucesso"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:g.map((y,w)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("span",{className:"text-3xl mr-3",children:y.avatar}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:y.nome}),s.jsx("p",{className:"text-sm text-gray-600",children:y.confeitaria})]})]}),s.jsx("div",{className:"flex mb-3",children:[...Array(y.estrelas)].map((b,x)=>s.jsx(zn,{className:"h-4 w-4 text-yellow-400 fill-current"},x))}),s.jsxs("p",{className:"text-gray-700 text-sm sm:text-base leading-relaxed italic",children:['"',y.texto,'"']})]},w))})]})}),s.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-r from-pink-500 to-purple-600 text-white",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-4",children:"Pronta para ter uma confeitaria lucrativa? 🚀"}),s.jsx("p",{className:"text-lg sm:text-xl mb-8 max-w-2xl mx-auto opacity-90",children:"Junte-se a milhares de confeiteiras que já transformaram seus negócios com o DoceCalc. Comece grátis hoje mesmo!"}),s.jsxs(ae,{to:"/login",className:"inline-flex items-center space-x-2 bg-white text-pink-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 hover-scale transition-all duration-200",children:[s.jsx("span",{children:"Começar Grátis Agora"}),s.jsx(cg,{className:"h-5 w-5"})]}),s.jsx("p",{className:"mt-4 text-sm opacity-75",children:"✨ Sem compromisso • Sem cartão de crédito • Resultados em minutos"})]})}),s.jsx("footer",{className:"py-8 bg-gray-900 text-white",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[s.jsx(yh,{className:"h-6 w-6 text-pink-500"}),s.jsx("span",{className:"text-xl font-bold",children:"DoceCalc"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"© 2024 DoceCalc. Todos os direitos reservados. Feito com ❤️ para confeiteiras brasileiras."})]})})]})}function wM(){const[e,t]=p.useState(!0),[r,n]=p.useState(""),[a,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(!1),[m,h]=p.useState(!1),[g,v]=p.useState(""),[y,w]=p.useState(""),{signIn:b,signUp:x,resetPassword:j,loading:N}=Ke(),_=async S=>{S.preventDefault(),w("");try{e?await b(r,a):await x(r,a,o,c)}catch(C){w(C instanceof Error?C.message:"Erro desconhecido")}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-100 to-indigo-100 flex items-center justify-center p-4",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 text-6xl",children:"🧁"}),s.jsx("div",{className:"absolute top-20 right-20 text-4xl",children:"🍰"}),s.jsx("div",{className:"absolute bottom-20 left-20 text-5xl",children:"🎂"}),s.jsx("div",{className:"absolute bottom-10 right-10 text-3xl",children:"🍪"}),s.jsx("div",{className:"absolute top-1/2 left-1/3 text-2xl",children:"🥧"})]}),s.jsxs("div",{className:"max-w-md w-full bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 animate-scale-in relative z-10",children:[s.jsx(ae,{to:"/",className:"absolute top-6 left-6 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Le,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full animate-bounce-in",children:s.jsx(cn,{className:"h-12 w-12 text-white"})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"DoceCalc"}),s.jsx("p",{className:"text-gray-600",children:"Calculadora de Preços para Confeiteiras"})]}),s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[!e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seu Nome"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white text-gray-900 placeholder:text-gray-500",placeholder:"Seu nome completo",required:!e})]})]}),s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Confeitaria"}),s.jsxs("div",{className:"relative",children:[s.jsx(cn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:S=>u(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white text-gray-900 placeholder:text-gray-500",placeholder:"Nome da sua confeitaria",required:!e})]})]})]}),s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ud,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",value:r,onChange:S=>n(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white text-gray-900 placeholder:text-gray-500",placeholder:"seu@email.com",required:!0})]})]}),s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",value:a,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white text-gray-900 placeholder:text-gray-500",placeholder:"Sua senha",required:!0})]})]}),y&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg animate-fade-in",children:y}),s.jsx("button",{type:"submit",disabled:N,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-lg hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-lg transition-all duration-200 hover-scale",children:N?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Carregando..."})]}):e?"Entrar":"Cadastrar"})]}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-3",children:e?"Não tem uma conta?":"Já tem uma conta?"}),s.jsx("button",{onClick:()=>t(!e),className:"text-pink-500 hover:text-pink-600 font-medium transition-colors story-link",children:e?"Criar conta gratuita":"Fazer login"})]}),s.jsx("div",{className:"mt-8 p-4 bg-blue-50/50 rounded-lg border border-blue-200 animate-fade-in",children:s.jsxs("p",{className:"text-sm text-blue-700 text-center",children:[s.jsx("strong",{children:"💡 Demo:"})," Use qualquer email e senha para testar o sistema completo gratuitamente."]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-2xl mb-1",children:"🧮"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Calculadora"})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-2xl mb-1",children:"📊"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Relatórios"})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-2xl mb-1",children:"💰"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Lucro Real"})]})]})]})]})}const Nv={gratuito:10,profissional:100,premium:9999},zS="doce_calc_user_plan";function Ew(e="gratuito"){const t=new Date;return t.setMonth(t.getMonth()+1,1),t.setHours(0,0,0,0),{planType:e,creditsIA:Nv[e],creditsUsedThisMonth:0,resetDate:t.toISOString()}}function Tf(e){try{localStorage.setItem(zS,JSON.stringify(e))}catch(t){console.error("Erro ao salvar dados do plano:",t)}}function Pw(){try{const e=localStorage.getItem(zS);if(!e)return null;const t=JSON.parse(e);return jM(t)?NM(t):t}catch(e){return console.error("Erro ao carregar dados do plano:",e),null}}function jM(e){const t=new Date,r=new Date(e.resetDate);return t>=r}function NM(e){const t=new Date;t.setMonth(t.getMonth()+1,1),t.setHours(0,0,0,0);const r={...e,creditsIA:Nv[e.planType],creditsUsedThisMonth:0,resetDate:t.toISOString()};return Tf(r),r}function _M(e){if(e.planType==="premium")return e;if(e.creditsIA-e.creditsUsedThisMonth<=0)return null;const r={...e,creditsUsedThisMonth:e.creditsUsedThisMonth+1};return Tf(r),r}function SM(e){return e.planType==="premium"?!0:e.creditsIA-e.creditsUsedThisMonth>0}function CM(e){return e.planType==="premium"?9999:Math.max(0,e.creditsIA-e.creditsUsedThisMonth)}function kM(e,t){const r={...e,planType:t,creditsIA:Nv[t]};return Tf(r),r}function Xl(){const[e,t]=p.useState({plan:Ew(),loading:!0,error:null});p.useEffect(()=>{(()=>{try{t(u=>({...u,loading:!0,error:null}));const l=Pw(),c=l||Ew();l||Tf(c),t({plan:c,loading:!1,error:null})}catch(l){console.error("Erro ao carregar plano:",l),t(c=>({...c,loading:!1,error:"Erro ao carregar dados do plano"}))}})()},[]);const r=()=>{try{const o=_M(e.plan);return o?(t(l=>({...l,plan:o})),!0):!1}catch(o){return console.error("Erro ao usar crédito:",o),t(l=>({...l,error:"Erro ao processar crédito"})),!1}},n=()=>SM(e.plan),a=o=>{try{const l=kM(e.plan,o);t(c=>({...c,plan:l}))}catch(l){console.error("Erro ao fazer upgrade:",l),t(c=>({...c,error:"Erro ao atualizar plano"}))}},i=()=>{const o=Pw();o&&t(l=>({...l,plan:o}))};return{plan:e.plan,remainingCredits:CM(e.plan),loading:e.loading,error:e.error,useCredit:r,canUseIA:n,upgradePlanType:a,refreshPlan:i}}const EM=[{id:"gratuito",name:"Gratuito",price:"R$ 0",period:"/mês",credits:"10 consultas",icon:s.jsx(Mi,{className:"h-6 w-6"}),color:"gray",popular:!1,features:["Calculadora básica de preços","10 consultas IA por mês","Até 20 receitas","Relatórios básicos","Suporte por email"]},{id:"profissional",name:"Profissional",price:"R$ 47",period:"/mês",credits:"100 consultas",icon:s.jsx(Ar,{className:"h-6 w-6"}),color:"blue",popular:!0,features:["Tudo do plano Gratuito","100 consultas IA por mês","Receitas ilimitadas","Análise de cenários avançada","Catálogo personalizado","Relatórios avançados","Integração com marketplace","Suporte prioritário"]},{id:"premium",name:"Premium",price:"R$ 97",period:"/mês",credits:"Ilimitado",icon:s.jsx(zn,{className:"h-6 w-6"}),color:"purple",popular:!1,features:["Tudo do plano Profissional","Consultas IA ilimitadas","AI Assistant personalizado","Análise de fotos de ingredientes","Automação de processos","API para integrações","Mentor exclusivo","Suporte 24/7"]}];function _v({isOpen:e,onClose:t,onUpgrade:r,currentPlan:n,trigger:a="manual"}){const[i,o]=p.useState(null),[l,c]=p.useState(!1);if(!e)return null;const u=()=>{switch(a){case"no_credits":return"🚫 Ops! Créditos esgotados";case"low_credits":return"⚠️ Poucos créditos restantes";default:return"🚀 Potencialize sua confeitaria"}},d=()=>{switch(a){case"no_credits":return"Você usou todos os seus créditos IA deste mês. Faça upgrade para continuar usando o DoceBot Pro!";case"low_credits":return"Seus créditos estão acabando. Que tal garantir mais consultas com a IA?";default:return"Escolha o plano ideal para levar sua confeitaria ao próximo nível com recursos avançados"}},f=async g=>{g!==n&&(c(!0),o(g),await new Promise(v=>setTimeout(v,2e3)),r(g),c(!1),t())},m=g=>g===n?"Plano Atual":l&&i===g?"Processando...":g==="gratuito"?"Manter Gratuito":"Escolher Plano",h=g=>g===n||l;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:u()}),s.jsx("p",{className:"text-gray-600 mt-1",children:d()})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:l,children:s.jsx(Yr,{className:"h-6 w-6 text-gray-500"})})]}),s.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:EM.map(g=>{const v=g.id===n,y=i===g.id,w=g.popular,b=l&&y;return s.jsxs("div",{className:`relative border-2 rounded-xl p-6 transition-all duration-200 ${v?"border-green-500 bg-green-50":w?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[w&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1",children:[s.jsx(BS,{className:"h-3 w-3"}),s.jsx("span",{children:"Mais Popular"})]})}),v&&s.jsx("div",{className:"absolute -top-3 right-4",children:s.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Atual"})}),s.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full mb-4 ${g.color==="blue"?"bg-blue-100 text-blue-600":g.color==="purple"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:g.icon}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:g.name}),s.jsxs("div",{className:"flex items-baseline mb-1",children:[s.jsx("span",{className:"text-3xl font-bold text-gray-900",children:g.price}),s.jsx("span",{className:"text-gray-600 ml-1",children:g.period})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[g.credits," de IA"]}),s.jsx("ul",{className:"space-y-2 mb-6",children:g.features.map((x,j)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx(hs,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:x})]},j))}),s.jsxs("button",{onClick:()=>f(g.id),disabled:h(g.id),className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 ${v?"bg-green-100 text-green-700 cursor-not-allowed":g.color==="blue"?"bg-blue-600 hover:bg-blue-700 text-white":g.color==="purple"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"} ${h(g.id)?"opacity-50 cursor-not-allowed":""}`,children:[b&&s.jsx(gM,{className:"h-4 w-4 mr-2 inline animate-spin"}),m(g.id)]})]},g.id)})}),s.jsx("div",{className:"p-6 border-t bg-gray-50",children:s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[s.jsx("p",{children:"✨ Todos os planos incluem:"}),s.jsx("p",{className:"mt-1",children:"Acesso total às receitas • Suporte técnico • Atualizações gratuitas"}),s.jsx("p",{className:"mt-2 text-xs",children:"💡 Cancelamento a qualquer momento • Sem fidelidade"})]})})]})})}function US({className:e=""}){const{plan:t,remainingCredits:r,loading:n,upgradePlanType:a}=Xl(),[i,o]=p.useState(!1);if(n)return s.jsx("div",{className:`flex items-center space-x-2 ${e}`,children:s.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded animate-pulse"})});const l=t.creditsIA,c=t.creditsUsedThisMonth,d=100-(l>0?c/l*100:0),f=()=>d>50?"bg-green-500":d>20?"bg-yellow-500":"bg-red-500",m=()=>d>50?"text-green-600":d>20?"text-yellow-600":"text-red-600",h=()=>{switch(t.planType){case"gratuito":return"Gratuito";case"profissional":return"Pro";case"premium":return"Premium";default:return"Gratuito"}},g=()=>{switch(t.planType){case"premium":return s.jsx(Ar,{className:"h-4 w-4 text-yellow-500"});case"profissional":return s.jsx(Ar,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(Mi,{className:"h-4 w-4 text-gray-500"})}},v=r<=2&&t.planType!=="premium",y=b=>{a(b),o(!1)},w=()=>{o(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex items-center space-x-3 ${e}`,children:[s.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-gray-100 rounded-full",children:[g(),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:h()})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:`text-sm font-medium ${m()}`,children:t.planType==="premium"?"Ilimitado":`${r}/${l}`})]}),t.planType!=="premium"&&s.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden mt-1",children:s.jsx("div",{className:`h-full transition-all duration-300 ${f()}`,style:{width:`${Math.max(0,d)}%`}})}),s.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:t.planType==="premium"?"Consultas IA":"consultas restantes"})]}),v&&s.jsxs("button",{onClick:w,className:"flex items-center space-x-1 px-3 py-1.5 bg-gradient-to-r from-pink-500 to-purple-600 text-white text-xs font-medium rounded-full hover:from-pink-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[s.jsx(Z6,{className:"h-3 w-3"}),s.jsx("span",{children:"Upgrade"})]})]}),s.jsx(_v,{isOpen:i,onClose:()=>o(!1),onUpgrade:y,currentPlan:t.planType,trigger:r===0?"no_credits":"low_credits"})]})}function PM(){const{user:e,profile:t,signOut:r}=Ke();return e?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(cn,{className:"h-8 w-8 text-pink-500"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"DoceCalc"}),s.jsx("p",{className:"text-sm text-gray-600",children:(t==null?void 0:t.nome_negocio)||"Minha Confeitaria"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(US,{}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ar,{className:`h-5 w-5 ${(t==null?void 0:t.plano)==="free"?"text-gray-400":(t==null?void 0:t.plano)==="professional"?"text-blue-500":"text-yellow-500"}`}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Plano ",(t==null?void 0:t.plano)==="professional"?"Pro":"Gratuito"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ae,{to:"/comunidade",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Comunidade",children:s.jsx(dd,{className:"h-5 w-5"})}),s.jsx(ae,{to:"/perfil",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Perfil",children:s.jsx(Nr,{className:"h-5 w-5"})}),s.jsx(ae,{to:"/upgrade",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Configurações",children:s.jsx(FS,{className:"h-5 w-5"})}),s.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Sair",children:s.jsx(fM,{className:"h-5 w-5"})})]})]})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:["Olá, ",(t==null?void 0:t.nome)||"Usuário","! 👋"]}),s.jsx("p",{className:"text-gray-600",children:"Bem-vinda ao seu painel de controle"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ações Rápidas"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(ae,{to:"/calculadora",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(cn,{className:"h-10 w-10 text-blue-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Calculadora"}),s.jsx("p",{className:"text-gray-600",children:"Calcule preços precisos"})]})]})}),s.jsx(ae,{to:"/receitas",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Cr,{className:"h-10 w-10 text-green-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Receitas"}),s.jsx("p",{className:"text-gray-600",children:"Gerencie suas receitas"})]})]})}),s.jsx(ae,{to:"/ingredientes",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Yl,{className:"h-10 w-10 text-purple-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ingredientes"}),s.jsx("p",{className:"text-gray-600",children:"Controle de estoque"})]})]})}),s.jsx(ae,{to:"/clientes",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-indigo-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(_s,{className:"h-10 w-10 text-indigo-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Clientes"}),s.jsx("p",{className:"text-gray-600",children:"Gerencie clientes"})]})]})}),s.jsx(ae,{to:"/orcamentos",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-pink-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Gt,{className:"h-10 w-10 text-pink-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Orçamentos"}),s.jsx("p",{className:"text-gray-600",children:"Crie orçamentos"})]})]})}),s.jsx(ae,{to:"/relatorios",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ti,{className:"h-10 w-10 text-orange-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Relatórios"}),s.jsx("p",{className:"text-gray-600",children:"Analytics do negócio"})]})]})}),s.jsx(ae,{to:"/comunidade",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-teal-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(dd,{className:"h-10 w-10 text-teal-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comunidade"}),s.jsx("p",{className:"text-gray-600",children:"Troque ideias e dicas"})]})]})}),s.jsx(ae,{to:"/como-usar",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-indigo-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(xv,{className:"h-10 w-10 text-indigo-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Como Usar"}),s.jsx("p",{className:"text-gray-600",children:"Guia completo das ferramentas"})]})]})}),s.jsx(ae,{to:"/ai-assistant",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(_u,{className:"h-10 w-10 text-purple-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"DoceBot Pro"}),s.jsx("p",{className:"text-gray-600",children:"Assistente IA para confeitaria"})]})]})}),s.jsx(ae,{to:"/marketplace",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(kl,{className:"h-10 w-10 text-green-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Marketplace"}),s.jsx("p",{className:"text-gray-600",children:"E-books e recursos premium"})]})]})}),s.jsx(ae,{to:"/advanced-calculator",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Su,{className:"h-10 w-10 text-blue-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Calculadora IA"}),s.jsx("p",{className:"text-gray-600",children:"Análise avançada por foto"})]})]})}),s.jsx(ae,{to:"/custom-catalog",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-pink-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(pM,{className:"h-10 w-10 text-pink-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Catálogo"}),s.jsx("p",{className:"text-gray-600",children:"Catálogo personalizado"})]})]})}),s.jsx(ae,{to:"/credit-test",className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-l-4 border-red-500",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(mg,{className:"h-10 w-10 text-red-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teste de Créditos"}),s.jsx("p",{className:"text-gray-600",children:"Validar sistema de IA (FASE 1)"})]})]})})]})]}),(t==null?void 0:t.plano)==="free"&&s.jsx("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Desbloqueie o Poder Total do DoceCalc! 🚀"}),s.jsx("p",{className:"text-gray-600",children:"Upgrade para o plano Professional e tenha acesso ilimitado a todas as funcionalidades."})]}),s.jsx(ae,{to:"/upgrade",className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all",children:"Fazer Upgrade"})]})}),s.jsx("footer",{className:"mt-12 border-t pt-4 text-center text-gray-500 text-sm",children:"Suporte/Feedbacks: 15 9512...."})]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Carregando..."}),s.jsx(ae,{to:"/login",className:"text-pink-500 hover:text-pink-600",children:"Fazer login"})]})})}const X={USER:"doce_user",PERFIL_CONFEITARIA:"doce_perfil_confeitaria",RECEITAS:"doce_receitas",INGREDIENTES_USUARIO:"doce_ingredientes_usuario",CATEGORIAS:"doce_categorias",CLIENTES:"doce_clientes",ORCAMENTOS:"doce_orcamentos",PEDIDOS:"doce_pedidos",CONFIGURACOES:"doce_configuracoes",STATS_DASHBOARD:"doce_stats_dashboard",DOCUMENTOS_FISCAIS:"doce_documentos_fiscais"};function je(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Erro ao salvar no localStorage:",r)}}const wh=je;function ee(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error("Erro ao ler do localStorage:",r),t}}const AM=e=>!e||e===""?"":e.replace(",","."),xi=e=>{if(!e||e.trim()==="")return null;const t=AM(e),r=parseFloat(t);return isNaN(r)?null:r},tl=e=>e==null?"":e.toString(),OM=()=>{const e=p.useCallback(o=>o==null||isNaN(o)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),[]),t=p.useCallback(o=>{if(!o||o.trim()==="")return 0;const l=o.replace(/R\$\s?/g,"").replace(/\./g,"").replace(",",".").trim(),c=parseFloat(l);return isNaN(c)?0:c},[]),r=p.useCallback(o=>o==null||isNaN(o)?"":o.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),[]),n=p.useCallback(o=>{const l=o.replace(/\D/g,"");return l?(parseInt(l)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},[]),a=p.useCallback(o=>!o||o.trim()===""?!0:/^(R\$\s?)?(\d{1,3}(\.\d{3})*|\d+)(,\d{0,2})?$/.test(o.trim()),[]),i=p.useCallback(o=>!o||o.trim()===""?"":a(o)?t(o)<0?"Valor deve ser positivo":"":"Digite um valor monetário válido (ex: 123,45)",[a,t]);return{formatToCurrency:e,parseCurrency:t,formatForInput:r,applyCurrencyMask:n,isValidCurrency:a,currencyValidator:i}},yi=p.forwardRef(({value:e,onChange:t,placeholder:r="R$ 0,00",disabled:n=!1,className:a="",id:i,name:o,"data-testid":l,autoFocus:c,onBlur:u,onFocus:d,allowEmpty:f=!0,...m},h)=>{const{applyCurrencyMask:g,parseCurrency:v,formatForInput:y}=OM(),[w,b]=p.useState(""),[x,j]=p.useState(!1);p.useEffect(()=>{x||(e==null?b(""):b(y(e)))},[e,y,x]);const N=A=>{const P=A.target.value;if(P===""){b(""),t&&t(f?null:0);return}const O=g(P);if(b(O),t){const T=v(O);t(T)}},_=A=>{j(!0),d&&d()},S=A=>{j(!1),w===""&&f?t&&t(null):w===""&&!f&&(b("0,00"),t&&t(0)),u&&u()},C=`
    w-full px-3 py-2 border border-gray-300 rounded-md
    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
    disabled:bg-gray-100 disabled:cursor-not-allowed
    text-right
    ${a}
  `.trim();return s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:h,type:"text",id:i,name:o,value:w,onChange:N,onFocus:_,onBlur:S,placeholder:r,disabled:n,className:C,autoComplete:"off",inputMode:"numeric","data-testid":l,autoFocus:c,...m}),!w&&!x&&s.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-400",children:"R$"})]})});yi.displayName="CurrencyInput";function TM(){const{user:e}=Ke(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,m]=p.useState(!1),[h,g]=p.useState([]),[v,y]=p.useState(!1),[w,b]=p.useState(!1);p.useEffect(()=>{if(e){const k=ee(X.INGREDIENTES_USUARIO,[]),I=ee(X.RECEITAS,[]),B=ee("doce_historico_calculos",[]);r(k.filter(M=>M.usuario_id===e.id)),a(I.filter(M=>M.usuario_id===e.id&&M.ativo)),g(B)}},[e]);const[x,j]=p.useState(30),[N,_]=p.useState(5),[S,C]=p.useState(null),[A,P]=p.useState(1),[O,T]=p.useState(25),[U,q]=p.useState(!1),[K,E]=p.useState("manual"),[F,L]=p.useState(""),z=()=>{q(!0)},W=()=>{const k={id:Date.now().toString(),nome:"",quantidade:null,unidade:"g",precoUnitario:null};o([...i,k]),q(!1)},G=()=>{if(!F)return;const k=t.find(I=>I.id===F);if(k){const I={id:Date.now().toString(),nome:k.nome,quantidade:null,unidade:k.unidade,precoUnitario:k.preco_atual};o([...i,I])}q(!1),L("")},Y=k=>{o(i.filter(I=>I.id!==k))},rt=(k,I,B)=>{o(i.map(M=>M.id===k?{...M,[I]:B}:M))},ve=()=>i.reduce((k,I)=>{const B=I.quantidade||0,M=I.precoUnitario||0;return k+B*M},0),ke=()=>{const k=ve(),I=A||0,B=O||0,M=N||0,ie=x||0,D=I*B;return(k+M+D)*(1+ie/100)},Xe=()=>{if(!e)return;const I=[{receita_id:l||"Cálculo Manual",custo_ingredientes:ve(),custo_fixo:N||0,custo_mao_obra:(A||0)*(O||0),margem_lucro:x||0,preco_final:ke(),breakdown:i.map(B=>({ingrediente_id:B.id,nome:B.nome,quantidade:B.quantidade||0,custo:(B.quantidade||0)*(B.precoUnitario||0)}))},...h.slice(0,9)];g(I),je("doce_historico_calculos",I),l&&(m(!1),alert("Cálculo salvo no histórico!"))},$=k=>{const I=n.find(B=>B.id===k);if(I&&I.ingredientes){const B=I.ingredientes.map(M=>{const ie=t.find(D=>D.id===M.ingrediente_id);return{id:M.id,nome:(ie==null?void 0:ie.nome)||"Ingrediente não encontrado",quantidade:M.quantidade,unidade:M.unidade,precoUnitario:(ie==null?void 0:ie.preco_atual)||0}});o(B),c(I.nome)}},ne=()=>{const k={nome:l||"Cálculo DoceCalc",data:new Date().toLocaleDateString("pt-BR"),ingredientes:i.map(M=>({nome:M.nome,quantidade:M.quantidade||0,unidade:M.unidade,preco_unitario:M.precoUnitario||0,custo_total:(M.quantidade||0)*(M.precoUnitario||0)})),custos:{ingredientes:ve(),fixo:N||0,mao_obra:(A||0)*(O||0),total:ve()+(N||0)+(A||0)*(O||0)},margem_lucro:x||0,preco_final:ke()},I="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(k,null,2)),B=document.createElement("a");B.setAttribute("href",I),B.setAttribute("download",`calculo-${new Date().toISOString().split("T")[0]}.json`),document.body.appendChild(B),B.click(),B.remove()};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors w-fit",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Calculadora de Preços"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Calcule o preço correto dos seus doces"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"bg-card p-4 lg:p-6 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0",children:[s.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-card-foreground",children:"Ingredientes"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsxs("select",{value:u,onChange:k=>{d(k.target.value),k.target.value&&$(k.target.value)},className:"px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Carregar receita existente"}),n.map(k=>s.jsx("option",{value:k.id,children:k.nome},k.id))]}),s.jsxs("button",{onClick:z,className:"flex items-center justify-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Adicionar"})]})]})]}),s.jsx("div",{className:"space-y-4",children:i.length===0?s.jsxs("div",{className:"text-center py-8 lg:py-12 border-2 border-dashed border-border rounded-lg",children:[s.jsx(cn,{className:"h-10 w-10 lg:h-12 lg:w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4 text-sm lg:text-base",children:"Nenhum ingrediente adicionado"}),s.jsxs("button",{onClick:z,className:"flex items-center space-x-2 bg-primary text-primary-foreground px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors mx-auto text-sm lg:text-base",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{children:"Adicionar Primeiro Ingrediente"})]})]}):i.map((k,I)=>s.jsxs("div",{className:"border border-border p-4 rounded-lg bg-background",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("span",{className:"text-sm font-medium text-foreground",children:["Ingrediente #",I+1]}),s.jsx("button",{onClick:()=>Y(k.id),className:"text-destructive hover:text-destructive/80 p-1",children:s.jsx(DS,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Nome"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:k.nome,onChange:B=>rt(k.id,"nome",B.target.value),className:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground",placeholder:"Ex: Açúcar",list:`ingredientes-${k.id}`}),s.jsx("datalist",{id:`ingredientes-${k.id}`,children:t.map(B=>s.jsx("option",{value:B.nome},B.id))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Quantidade"}),s.jsx("input",{type:"number",value:tl(k.quantidade),onChange:B=>rt(k.id,"quantidade",xi(B.target.value)),className:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground",placeholder:"Digite a quantidade"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Unidade"}),s.jsxs("select",{value:k.unidade,onChange:B=>rt(k.id,"unidade",B.target.value),className:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground",children:[s.jsx("option",{value:"g",children:"gramas (g)"}),s.jsx("option",{value:"kg",children:"quilos (kg)"}),s.jsx("option",{value:"ml",children:"mililitros (ml)"}),s.jsx("option",{value:"l",children:"litros (l)"}),s.jsx("option",{value:"unidade",children:"unidade"})]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Preço por unidade"}),s.jsx(yi,{value:k.precoUnitario,onChange:B=>rt(k.id,"precoUnitario",B),className:"border-input bg-background text-foreground",placeholder:"R$ 0,00"})]})]})]},k.id))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 lg:p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-card-foreground mb-6",children:"Configurações"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tempo de Preparo (horas)"}),s.jsx("input",{type:"number",step:"0.5",value:tl(A),onChange:k=>P(xi(k.target.value)),placeholder:"Digite o tempo",className:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Custo/Hora"}),s.jsx(yi,{value:O,onChange:T,className:"border-input bg-background text-foreground",placeholder:"R$ 0,00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Margem de Lucro (%)"}),s.jsx("input",{type:"number",value:tl(x),onChange:k=>j(xi(k.target.value)),placeholder:"Digite a margem",className:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Custo Fixo"}),s.jsx(yi,{value:N,onChange:_,className:"border-input bg-background text-foreground",placeholder:"R$ 0,00"})]})]})]}),s.jsxs("div",{className:"bg-card p-4 lg:p-6 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(cn,{className:"h-5 w-5 lg:h-6 lg:w-6 text-success"}),s.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-card-foreground",children:"Resultado"})]}),s.jsxs("div",{className:"space-y-3 lg:space-y-4 text-sm lg:text-base",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Custo dos Ingredientes:"}),s.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",ve().toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Custo Fixo:"}),s.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",(N||0).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-muted-foreground text-xs lg:text-sm",children:["Mão de Obra (",A||0,"h x R$",O||0,"):"]}),s.jsxs("span",{className:"font-medium text-foreground",children:["R$ ",((A||0)*(O||0)).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center border-t border-border pt-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),s.jsxs("span",{className:"font-medium",children:["R$ ",(ve()+(N||0)+(A||0)*(O||0)).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:["Margem (",x||0,"%):"]}),s.jsxs("span",{className:"font-medium",children:["R$ ",((ve()+(N||0)+(A||0)*(O||0))*((x||0)/100)).toFixed(2)]})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"Preço Final:"}),s.jsxs("span",{className:"text-green-600",children:["R$ ",ke().toFixed(2)]})]}),s.jsxs("div",{className:"flex flex-col space-y-2 pt-4",children:[s.jsxs("button",{onClick:()=>b(!w),className:"flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(wv,{className:"h-4 w-4"}),s.jsxs("span",{children:[w?"Ocultar":"Ver"," Breakdown"]})]}),w&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Breakdown por Ingrediente:"}),i.map(k=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[k.nome," (",k.quantidade||0,k.unidade,"):"]}),s.jsxs("span",{children:["R$ ",((k.quantidade||0)*(k.precoUnitario||0)).toFixed(2)]})]},k.id))]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{onClick:()=>m(!0),className:"flex items-center justify-center space-x-1 bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm",children:[s.jsx(jv,{className:"h-3 w-3"}),s.jsx("span",{children:"Salvar"})]}),s.jsxs("button",{onClick:()=>y(!0),className:"flex items-center justify-center space-x-1 bg-purple-500 text-white px-3 py-2 rounded-lg hover:bg-purple-600 transition-colors text-sm",children:[s.jsx(cM,{className:"h-3 w-3"}),s.jsx("span",{children:"Histórico"})]}),s.jsxs("button",{onClick:ne,className:"flex items-center justify-center space-x-1 bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition-colors text-sm",children:[s.jsx($s,{className:"h-3 w-3"}),s.jsx("span",{children:"Exportar"})]})]})]})]})]})]})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full m-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Salvar Cálculo"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Cálculo"}),s.jsx("input",{type:"text",value:l,onChange:k=>c(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Bolo de Chocolate - Festa 50 pessoas"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:Xe,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Salvar"})]})]})]})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full m-4 max-h-96 overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Histórico de Cálculos"}),h.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhum cálculo salvo ainda"}):s.jsx("div",{className:"space-y-4",children:h.map((k,I)=>s.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:k.receita_id}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:["R$ ",k.preco_final.toFixed(2)]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block",children:"Ingredientes:"}),s.jsxs("span",{className:"font-medium",children:["R$ ",k.custo_ingredientes.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block",children:"Mão de Obra:"}),s.jsxs("span",{className:"font-medium",children:["R$ ",k.custo_mao_obra.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block",children:"Margem:"}),s.jsxs("span",{className:"font-medium",children:[k.margem_lucro,"%"]})]})]})]},I))}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Fechar"})})]})}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Adicionar Ingrediente"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Como você deseja adicionar?"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"tipoAdicao",value:"lista",checked:K==="lista",onChange:k=>E(k.target.value),className:"mr-2"}),s.jsx("span",{children:"Da minha lista de ingredientes"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"tipoAdicao",value:"manual",checked:K==="manual",onChange:k=>E(k.target.value),className:"mr-2"}),s.jsx("span",{children:"Manualmente"})]})]})]}),K==="lista"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione um ingrediente:"}),s.jsxs("select",{value:F,onChange:k=>L(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Escolha um ingrediente"}),t.map(k=>s.jsxs("option",{value:k.id,children:[k.nome," - R$ ",k.preco_atual.toFixed(3),"/",k.unidade]},k.id))]})]}),K==="lista"&&t.length===0&&s.jsxs("div",{className:"text-sm text-gray-500 bg-yellow-50 p-3 rounded",children:["Você ainda não tem ingredientes cadastrados.",s.jsx(ae,{to:"/ingredientes",className:"text-blue-500 hover:text-blue-700",children:"Cadastre alguns aqui primeiro"})," ou adicione manualmente."]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[s.jsx("button",{onClick:()=>{q(!1),E("manual"),L("")},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancelar"}),s.jsx("button",{onClick:K==="lista"?G:W,disabled:K==="lista"&&!F,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Adicionar"})]})]})})]})})}const qS=()=>{const{user:e,profile:t}=Ke(),[r,n]=p.useState({receitas:0,orcamentos:0,clientes:0,ingredientes:0}),a=(t==null?void 0:t.plano)==="professional";p.useEffect(()=>{if(!e)return;(async()=>{try{const[g,v,y,w]=await Promise.all([xe.from("receitas").select("id",{count:"exact"}).eq("user_id",e.id),xe.from("ingredientes_usuario").select("id",{count:"exact"}).eq("user_id",e.id),xe.from("clientes").select("id",{count:"exact"}).eq("user_id",e.id),xe.from("orcamentos").select("id",{count:"exact"}).eq("user_id",e.id)]);n({receitas:g.count||0,orcamentos:w.count||0,clientes:y.count||0,ingredientes:v.count||0})}catch(g){console.error("Erro ao buscar uso:",g)}})()},[e]);const i={receitas:a?null:5,orcamentos:a?null:3,clientes:a?null:10,ingredientes:a?null:50,catalogoPublico:a?null:3,backup:a,relatorios:a,comunidade:a,ferramentas:a},o=()=>a?!0:r.receitas<5,l=()=>a?!0:r.orcamentos<3,c=()=>a?!0:r.clientes<10,u=()=>a?!0:r.ingredientes<50,d=h=>a?!0:["receitas","orcamentos","calculadora","ingredientes"].includes(h),f=h=>{if(a)return null;const g=i[h];return Math.max(0,g-r[h])},m=h=>{if(a)return 0;const g=i[h];return Math.min(100,r[h]/g*100)};return{plano:(t==null?void 0:t.plano)||"free",isProfessional:a,limits:i,usage:r,canAddReceita:o,canAddOrcamento:l,canAddCliente:c,canAddIngrediente:u,canUseFeature:d,getRemainingCount:f,getUsagePercentage:m}},IM=({isOpen:e,onClose:t,feature:r,onUpgrade:n})=>{if(!e)return null;const a=Ri.find(o=>o.id==="professional"),i=o=>{n(o),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:s.jsx(Yr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ar,{className:"w-8 h-8 text-yellow-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Upgrade para continuar"}),s.jsxs("p",{className:"text-gray-600",children:["Você atingiu o limite do plano gratuito para ",s.jsx("strong",{children:r}),". Faça upgrade para o plano Professional e tenha acesso ilimitado."]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Plano Professional"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["R$ ",a.preco_mensal.toFixed(2).replace(".",",")]}),s.jsx("div",{className:"text-sm text-gray-600",children:"/mês"})]})]}),s.jsx("div",{className:"space-y-1",children:a.funcionalidades.slice(0,4).map((o,l)=>s.jsxs("div",{className:"text-sm text-gray-700 flex items-center",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full mr-2"}),o]},l))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-center mb-4",children:"Escolha sua forma de pagamento:"}),s.jsxs("button",{onClick:()=>i("pix"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(on,{className:"w-5 h-5"}),"Pagar com PIX",s.jsx("span",{className:"bg-green-500 px-2 py-1 rounded text-xs ml-2",children:"Instantâneo"})]}),s.jsxs("button",{onClick:()=>i("card"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Hl,{className:"w-5 h-5"}),"Pagar com Cartão"]})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Cancele a qualquer momento. Sem fidelidade."})})]})})},MM=({type:e,className:t=""})=>{const{isProfessional:r,usage:n,limits:a,getUsagePercentage:i}=qS();if(r)return s.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium ${t}`,children:[s.jsx(Ar,{className:"w-3 h-3"}),"Ilimitado"]});const o=n[e],l=a[e],c=i(e),u=()=>c>=100?"bg-red-100 text-red-800":c>=80?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800";return s.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${u()} ${t}`,children:[o,"/",l]})},hd=[{id:"acucar_cristal",nome:"Açúcar Cristal",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.005},{id:"acucar_refinado",nome:"Açúcar Refinado",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.006},{id:"acucar_mascavo",nome:"Açúcar Mascavo",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.012},{id:"acucar_demerara",nome:"Açúcar Demerara",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.015},{id:"acucar_confeiteiro",nome:"Açúcar de Confeiteiro",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.008},{id:"acucar_impalpavel",nome:"Açúcar Impalpável",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.01},{id:"mel",nome:"Mel",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.025},{id:"glucose_liquida",nome:"Glucose Líquida",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.018},{id:"glucose_po",nome:"Glucose em Pó",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.035},{id:"xarope_milho",nome:"Xarope de Milho",categoria:"Açúcares",unidade_padrao:"ml",preco_medio_nacional:.015},{id:"farinha_trigo",nome:"Farinha de Trigo",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.004},{id:"farinha_trigo_integral",nome:"Farinha de Trigo Integral",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.008},{id:"farinha_amendoa",nome:"Farinha de Amêndoa",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.08},{id:"farinha_aveia",nome:"Farinha de Aveia",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.015},{id:"farinha_coco",nome:"Farinha de Coco",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.025},{id:"amido_milho",nome:"Amido de Milho (Maisena)",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.012},{id:"polvilho_doce",nome:"Polvilho Doce",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.008},{id:"polvilho_azedo",nome:"Polvilho Azedo",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.009},{id:"fuba",nome:"Fubá",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.005},{id:"chocolate_po",nome:"Chocolate em Pó",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.02},{id:"achocolatado_po",nome:"Achocolatado em Pó",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.015},{id:"chocolate_meio_amargo",nome:"Chocolate Meio Amargo",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.04},{id:"chocolate_amargo",nome:"Chocolate Amargo 70%",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.055},{id:"chocolate_branco",nome:"Chocolate Branco",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.045},{id:"chocolate_ao_leite",nome:"Chocolate ao Leite",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.035},{id:"gotas_chocolate",nome:"Gotas de Chocolate",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.03},{id:"cacau_po",nome:"Cacau em Pó 100%",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.05},{id:"leite_integral",nome:"Leite Integral",categoria:"Laticínios",unidade_padrao:"ml",preco_medio_nacional:.004},{id:"leite_desnatado",nome:"Leite Desnatado",categoria:"Laticínios",unidade_padrao:"ml",preco_medio_nacional:.004},{id:"leite_condensado",nome:"Leite Condensado",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.008},{id:"creme_leite",nome:"Creme de Leite",categoria:"Laticínios",unidade_padrao:"ml",preco_medio_nacional:.015},{id:"manteiga",nome:"Manteiga",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.025},{id:"margarina",nome:"Margarina",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.012},{id:"queijo_cream",nome:"Cream Cheese",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.035},{id:"iogurte_natural",nome:"Iogurte Natural",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.012},{id:"ricota",nome:"Ricota",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.02},{id:"mascarpone",nome:"Mascarpone",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.08},{id:"ovos",nome:"Ovos",categoria:"Ovos",unidade_padrao:"unidade",preco_medio_nacional:.8},{id:"clara_ovos",nome:"Clara de Ovos",categoria:"Ovos",unidade_padrao:"ml",preco_medio_nacional:.02},{id:"gema_ovos",nome:"Gema de Ovos",categoria:"Ovos",unidade_padrao:"ml",preco_medio_nacional:.025},{id:"ovo_desidratado",nome:"Ovo Desidratado",categoria:"Ovos",unidade_padrao:"g",preco_medio_nacional:.12},{id:"fermento_po",nome:"Fermento em Pó",categoria:"Fermentos",unidade_padrao:"g",preco_medio_nacional:.08},{id:"bicarbonato_sodio",nome:"Bicarbonato de Sódio",categoria:"Fermentos",unidade_padrao:"g",preco_medio_nacional:.015},{id:"cremor_tartaro",nome:"Cremor Tártaro",categoria:"Fermentos",unidade_padrao:"g",preco_medio_nacional:.2},{id:"fermento_biologico",nome:"Fermento Biológico",categoria:"Fermentos",unidade_padrao:"g",preco_medio_nacional:.025},{id:"oleo_girassol",nome:"Óleo de Girassol",categoria:"Óleos",unidade_padrao:"ml",preco_medio_nacional:.008},{id:"oleo_canola",nome:"Óleo de Canola",categoria:"Óleos",unidade_padrao:"ml",preco_medio_nacional:.012},{id:"oleo_coco",nome:"Óleo de Coco",categoria:"Óleos",unidade_padrao:"ml",preco_medio_nacional:.035},{id:"gordura_vegetal",nome:"Gordura Vegetal",categoria:"Óleos",unidade_padrao:"g",preco_medio_nacional:.015},{id:"essencia_baunilha",nome:"Essência de Baunilha",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.5},{id:"extrato_baunilha",nome:"Extrato de Baunilha",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:2},{id:"essencia_morango",nome:"Essência de Morango",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.4},{id:"essencia_chocolate",nome:"Essência de Chocolate",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.6},{id:"essencia_limao",nome:"Essência de Limão",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.35},{id:"essencia_coco",nome:"Essência de Coco",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.45},{id:"morango_fresco",nome:"Morango Fresco",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.025},{id:"banana_nanica",nome:"Banana Nanica",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.008},{id:"maca_fuji",nome:"Maçã Fuji",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.012},{id:"limao_tahiti",nome:"Limão Tahiti",categoria:"Frutas",unidade_padrao:"unidade",preco_medio_nacional:.8},{id:"laranja_pera",nome:"Laranja Pêra",categoria:"Frutas",unidade_padrao:"unidade",preco_medio_nacional:1},{id:"polpa_morango",nome:"Polpa de Morango",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.02},{id:"polpa_maracuja",nome:"Polpa de Maracujá",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.025},{id:"polpa_acai",nome:"Polpa de Açaí",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.03},{id:"amendoa_laminas",nome:"Amêndoa em Lâminas",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.08},{id:"amendoa_picada",nome:"Amêndoa Picada",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.07},{id:"castanha_para",nome:"Castanha do Pará",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.06},{id:"castanha_caju",nome:"Castanha de Caju",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.08},{id:"noz_peca",nome:"Noz Pecã",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.12},{id:"amendoim",nome:"Amendoim",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.015},{id:"pistache",nome:"Pistache",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.2},{id:"canela_po",nome:"Canela em Pó",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.1},{id:"canela_pau",nome:"Canela em Pau",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.15},{id:"noz_moscada",nome:"Noz Moscada",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.3},{id:"cravo_po",nome:"Cravo em Pó",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.4},{id:"gengibre_po",nome:"Gengibre em Pó",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.25},{id:"gelatina_incolor",nome:"Gelatina Incolor",categoria:"Gelatinas",unidade_padrao:"g",preco_medio_nacional:.15},{id:"gelatina_vermelha",nome:"Gelatina Vermelha",categoria:"Gelatinas",unidade_padrao:"g",preco_medio_nacional:.12},{id:"agar_agar",nome:"Ágar Ágar",categoria:"Gelatinas",unidade_padrao:"g",preco_medio_nacional:.8},{id:"corante_vermelho",nome:"Corante Vermelho",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"corante_azul",nome:"Corante Azul",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"corante_amarelo",nome:"Corante Amarelo",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"corante_verde",nome:"Corante Verde",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"corante_rosa",nome:"Corante Rosa",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"chantilly_po",nome:"Chantilly em Pó",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.04},{id:"brigadeiro_pronto",nome:"Brigadeiro Pronto",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.025},{id:"doce_leite",nome:"Doce de Leite",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.018},{id:"geleia_morango",nome:"Geléia de Morango",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.02},{id:"nutella",nome:"Nutella",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.045},{id:"creme_avela",nome:"Creme de Avelã",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.035},{id:"confeitos_coloridos",nome:"Confeitos Coloridos",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.08},{id:"granulado_chocolate",nome:"Granulado de Chocolate",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.025},{id:"granulado_colorido",nome:"Granulado Colorido",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.03},{id:"coco_ralado",nome:"Coco Ralado",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.02},{id:"pacoca_farofa",nome:"Paçoca Farofa",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.035},{id:"bolinhas_chocolate",nome:"Bolinhas de Chocolate",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.12},{id:"perolas_acucar",nome:"Pérolas de Açúcar",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.2},{id:"pasta_americana",nome:"Pasta Americana Branca",categoria:"Modelagem",unidade_padrao:"g",preco_medio_nacional:.025},{id:"pasta_americana_colorida",nome:"Pasta Americana Colorida",categoria:"Modelagem",unidade_padrao:"g",preco_medio_nacional:.035},{id:"fondant",nome:"Fondant",categoria:"Modelagem",unidade_padrao:"g",preco_medio_nacional:.04},{id:"goma_tragacanto",nome:"Goma Tragacanto",categoria:"Modelagem",unidade_padrao:"g",preco_medio_nacional:2.5},{id:"cafe_liquido",nome:"Café Líquido",categoria:"Líquidos",unidade_padrao:"ml",preco_medio_nacional:.008},{id:"rum",nome:"Rum",categoria:"Líquidos",unidade_padrao:"ml",preco_medio_nacional:.08},{id:"conhaque",nome:"Conhaque",categoria:"Líquidos",unidade_padrao:"ml",preco_medio_nacional:.1},{id:"licor_chocolate",nome:"Licor de Chocolate",categoria:"Líquidos",unidade_padrao:"ml",preco_medio_nacional:.12},{id:"sal_refinado",nome:"Sal Refinado",categoria:"Outros",unidade_padrao:"g",preco_medio_nacional:.002},{id:"vinagre_branco",nome:"Vinagre Branco",categoria:"Outros",unidade_padrao:"ml",preco_medio_nacional:.005},{id:"suco_limao",nome:"Suco de Limão",categoria:"Outros",unidade_padrao:"ml",preco_medio_nacional:.015},{id:"raspas_limao",nome:"Raspas de Limão",categoria:"Outros",unidade_padrao:"g",preco_medio_nacional:.2},{id:"raspas_laranja",nome:"Raspas de Laranja",categoria:"Outros",unidade_padrao:"g",preco_medio_nacional:.18}],RM=["acucar_cristal","farinha_trigo","ovos","manteiga","leite_integral","fermento_po","chocolate_po","leite_condensado","creme_leite","essencia_baunilha","acucar_confeiteiro","oleo_girassol","bicarbonato_sodio","sal_refinado","doce_leite","chantilly_po","granulado_chocolate","coco_ralado","limao_tahiti","corante_vermelho","margarina","glucose_liquida","amido_milho","queijo_cream","chocolate_meio_amargo","essencia_morango","polpa_morango","canela_po","gelatina_incolor","confeitos_coloridos","acucar_refinado","acucar_mascavo","acucar_demerara","acucar_impalpavel","mel","glucose_po","xarope_milho","farinha_trigo_integral","farinha_amendoa","farinha_aveia","farinha_coco","polvilho_doce","polvilho_azedo","fuba","achocolatado_po","chocolate_amargo","chocolate_branco","chocolate_ao_leite","gotas_chocolate","cacau_po","leite_desnatado","iogurte_natural","ricota","mascarpone","clara_ovos","gema_ovos","ovo_desidratado","cremor_tartaro","fermento_biologico","oleo_canola","oleo_coco","gordura_vegetal","extrato_baunilha","essencia_chocolate","essencia_limao","essencia_coco","morango_fresco","banana_nanica","maca_fuji","laranja_pera","polpa_maracuja","polpa_acai","amendoa_laminas","amendoa_picada","castanha_para","castanha_caju","noz_peca","amendoim","pistache","canela_pau","noz_moscada","cravo_po","gengibre_po","gelatina_vermelha","agar_agar","corante_azul","corante_amarelo","corante_verde","corante_rosa","brigadeiro_pronto","geleia_morango","nutella","creme_avela","granulado_colorido","pacoca_farofa","bolinhas_chocolate","perolas_acucar","pasta_americana","pasta_americana_colorida","fondant","goma_tragacanto","cafe_liquido","rum","conhaque","licor_chocolate","vinagre_branco","suco_limao","raspas_limao","raspas_laranja"],WS=["Açúcares","Farinhas","Chocolates","Laticínios","Ovos","Fermentos","Óleos","Essências","Frutas","Nozes","Especiarias","Gelatinas","Corantes","Coberturas","Decoração","Modelagem","Líquidos","Outros"],DM=({onAddIngredient:e,selectedIngredients:t=[],className:r=""})=>{const{user:n}=Ke(),[a,i]=p.useState(""),[o,l]=p.useState("Todos"),[c,u]=p.useState(!1),[d,f]=p.useState([]),[m,h]=p.useState([]);p.useEffect(()=>{if(n){const j=ee(`doce_historico_ingredientes_${n.id}`,[]),N=ee(X.INGREDIENTES_USUARIO,[]);f(j),h(N.filter(_=>_.usuario_id===n.id))}},[n]);const g=p.useMemo(()=>{let j=hd;if(o!=="Todos"&&(j=j.filter(_=>_.categoria===o)),a.trim()){const _=a.toLowerCase();j=j.filter(S=>S.nome.toLowerCase().includes(_)||S.categoria.toLowerCase().includes(_))}const N=t.map(_=>_.ingrediente_id);return j=j.filter(_=>!N.includes(_.id)),j.sort((_,S)=>{var P,O;const C=((P=d.find(T=>T.ingrediente_id===_.id))==null?void 0:P.contador)||0,A=((O=d.find(T=>T.ingrediente_id===S.id))==null?void 0:O.contador)||0;return C!==A?A-C:_.nome.localeCompare(S.nome)})},[a,o,t,d]),v=p.useMemo(()=>hd.filter(j=>!t.map(_=>_.ingrediente_id).includes(j.id)).map(j=>{var N;return{...j,uso:((N=d.find(_=>_.ingrediente_id===j.id))==null?void 0:N.contador)||0}}).sort((j,N)=>N.uso-j.uso).slice(0,5).filter(j=>j.uso>0),[d,t]),y=j=>{if(!n)return;const N=[...d],_=N.findIndex(S=>S.ingrediente_id===j);_>=0?(N[_].contador+=1,N[_].ultima_utilizacao=new Date().toISOString()):N.push({ingrediente_id:j,contador:1,ultima_utilizacao:new Date().toISOString()}),f(N),je(`doce_historico_ingredientes_${n.id}`,N)},w=j=>{e(j),y(j.id),i("")},b=j=>{const N=m.find(_=>_.nome.toLowerCase()===j.nome.toLowerCase());return(N==null?void 0:N.preco_atual)||j.preco_medio_nacional},x=["Todos",...WS];return s.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg ${r}`,children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:a,onChange:j=>i(j.target.value),onFocus:()=>u(!0),placeholder:"Buscar ingredientes (ex: farinha, açúcar...)",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a&&s.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx(Yr,{className:"h-5 w-5"})})]}),c&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(j=>s.jsx("button",{onClick:()=>l(j),className:`px-3 py-1 rounded-full text-sm transition-colors ${o===j?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j},j))})})]}),c&&s.jsxs("div",{className:"p-4",children:[!a&&v.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Ds,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mais usados por você"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:v.map(j=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:j.nome}),s.jsx("p",{className:"text-xs text-gray-500",children:j.categoria}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["R$ ",b(j).toFixed(4),"/",j.unidade_padrao]}),s.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[s.jsx(zn,{className:"h-3 w-3 text-yellow-400 fill-current"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[j.uso," vezes"]})]})]}),s.jsx("button",{onClick:()=>w(j),className:"ml-2 p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",children:s.jsx(Or,{className:"h-4 w-4"})})]})},j.id))})]}),s.jsxs("div",{children:[a&&s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[g.length," ingredientes encontrados"]}),g.length>0&&s.jsx("button",{onClick:()=>u(!1),className:"text-sm text-gray-500 hover:text-gray-700",children:"Fechar"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:g.slice(0,12).map(j=>{var _;const N=((_=d.find(S=>S.ingrediente_id===j.id))==null?void 0:_.contador)||0;return s.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:j.nome}),s.jsx("p",{className:"text-xs text-gray-500",children:j.categoria}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["R$ ",b(j).toFixed(4),"/",j.unidade_padrao]}),N>0&&s.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[s.jsx(zn,{className:"h-3 w-3 text-yellow-400 fill-current"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[N," vezes"]})]})]}),s.jsx("button",{onClick:()=>w(j),className:"ml-2 p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",children:s.jsx(Or,{className:"h-4 w-4"})})]})},j.id)})}),g.length===0&&a&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:s.jsx(Bn,{className:"h-12 w-12 mx-auto"})}),s.jsxs("p",{className:"text-gray-500",children:['Nenhum ingrediente encontrado para "',a,'"']}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Tente buscar por nome ou categoria"})]})]}),(a||v.length>0)&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{onClick:()=>{u(!1),i("")},className:"text-sm text-gray-500 hover:text-gray-700",children:"Fechar busca"})})]})]})};var Aw;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Aw||(Aw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ow;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Ow||(Ow={}));var Tw;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Tw||(Tw={}));var Iw;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Iw||(Iw={}));var Mw;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Mw||(Mw={}));var Rw;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Rw||(Rw={}));var Dw;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Dw||(Dw={}));var rl;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(rl||(rl={}));var $w;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})($w||($w={}));var Lw;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Lw||(Lw={}));var Fw;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Fw||(Fw={}));var Bw;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Bw||(Bw={}));rl.RECITATION,rl.SAFETY,rl.LANGUAGE;const Ql=()=>{throw new Error("Chave da API Gemini não configurada. Verifique as configurações.")};async function $M(e){try{const r=Ql().getGenerativeModel({model:"gemini-1.5-flash"}),n=await VS(e),a=`
    Analise esta imagem de receita manuscrita ou impressa e extraia TODO o texto legível.
    Mantenha a estrutura original e não interprete ainda - apenas extraia o texto como está.
    Se houver partes ilegíveis, indique com [ILEGÍVEL].
    `,i={inlineData:{data:n,mimeType:e.type}};return(await(await r.generateContent([a,i])).response).text()||""}catch(t){throw console.error("Erro ao extrair texto da imagem:",t),new Error("Erro ao processar a imagem. Tente novamente.")}}async function LM(e){try{const r=Ql().getGenerativeModel({model:"gemini-1.5-flash"}),n=`
    Você é especialista em organizar receitas de confeitaria brasileira.
    Analise este texto extraído de uma receita e estruture em formato JSON.
    
    Texto da receita:
    ${e}
    
    Retorne JSON exatamente neste formato:
    {
      "nome": "nome da receita (string)",
      "ingredientes": [
        {
          "nome": "nome do ingrediente (string)",
          "quantidade": número ou null se não especificado,
          "unidade": "unidade de medida (string: g, ml, xícara, colher, unidade, etc)"
        }
      ],
      "modo_preparo": ["passo 1", "passo 2", "passo 3"],
      "tempo_estimado": minutos estimados (number) ou null,
      "rendimento": "descrição do rendimento (string)" ou null
    }
    
    REGRAS IMPORTANTES para preservar nomes dos ingredientes:
    - SEMPRE preserve o nome EXATO do ingrediente como escrito na receita original
    - Se algo não estiver claro, coloque null para números ou string vazia para texto
    - Para unidades, padronize: g, ml, xícara, colher de sopa, colher de chá, unidade, pitada, etc
    - Para quantidades, converta frações: 1/2 = 0.5, 1/4 = 0.25, etc
    - Modo de preparo deve ser lista de passos numerados
    - Se não conseguir identificar o nome, use "Receita Digitalizada"
    - CRUCIAL: Mantenha nomes de ingredientes como estão escritos (ex: "leite condensado", "açúcar cristal", "farinha de trigo")
    `,o=(await(await r.generateContent(n)).response).text();try{const l=Sv(o),c=JSON.parse(l);if(!c||typeof c.nome!="string")throw new Error("Estrutura inválida");return{nome:c.nome||"Receita Digitalizada",ingredientes:Array.isArray(c.ingredientes)?c.ingredientes:[],modo_preparo:Array.isArray(c.modo_preparo)?c.modo_preparo:[e],tempo_estimado:c.tempo_estimado||null,rendimento:c.rendimento||null}}catch(l){return console.error("Erro ao fazer parse do JSON:",l),{nome:"Receita Digitalizada",ingredientes:[],modo_preparo:[e],tempo_estimado:null,rendimento:null}}}catch(t){throw console.error("Erro ao estruturar receita:",t),new Error("Erro ao processar a receita. Tente novamente.")}}async function FM(e){try{const t=await $M(e);if(!t.trim())throw new Error("Não foi possível extrair texto da imagem. Certifique-se de que a imagem contém texto legível.");const r=await LM(t);if(r.ingredientes&&r.ingredientes.length>0)try{const n=await BM(r.ingredientes);r.ingredientes=n}catch(n){console.warn("Erro na validação de ingredientes, usando dados originais:",n)}return r}catch(t){throw console.error("Erro no processamento completo:",t),t}}function VS(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result.split(",")[1];t(i)},n.onerror=r,n.readAsDataURL(e)})}function Sv(e){let t=e.trim();t.startsWith("```json")&&(t=t.replace(/^```json\s*/,"")),t.startsWith("```")&&(t=t.replace(/^```\s*/,"")),t.endsWith("```")&&(t=t.replace(/\s*```$/,""));const r=t.indexOf("{"),n=t.lastIndexOf("}");return r!==-1&&n!==-1&&r<=n&&(t=t.substring(r,n+1)),t.trim()}async function BM(e){try{const r=Ql().getGenerativeModel({model:"gemini-1.5-flash"}),n=`
    Você é especialista em ingredientes de confeitaria brasileira.
    Analise esta lista de ingredientes e corrija nomes/unidades se necessário.
    
    Ingredientes: ${JSON.stringify(e)}
    
    Corrija:
    - Nomes de ingredientes (ex: "acucar" -> "Açúcar Cristal")
    - Unidades padronizadas (ex: "gr" -> "g", "cc" -> "ml")
    - Quantidades em formato decimal quando necessário
    
    Retorne JSON no mesmo formato da entrada, apenas com correções.
    `,o=(await(await r.generateContent(n)).response).text();try{return JSON.parse(o)}catch{return e}}catch(t){return console.error("Erro ao validar ingredientes:",t),e}}async function zM(e){try{const r=Ql().getGenerativeModel({model:"gemini-1.5-flash"}),n=await VS(e),a=`
    Você é especialista em análise de documentos fiscais brasileiros.
    Analise esta imagem de nota fiscal, extrato bancário ou comprovante e extraia TODOS os dados relevantes.
    
    Identifique o tipo de documento e extraia:
    - Tipo do documento (nota_fiscal, extrato, comprovante, outro)
    - Valor total principal
    - Data do documento ou transação
    - Nome da empresa/estabelecimento
    - CNPJ (se disponível)
    - Número do documento
    - Lista de itens/produtos com valores (se aplicável)
    - Observações importantes
    
    Retorne JSON exatamente neste formato:
    {
      "tipo": "nota_fiscal" | "extrato" | "comprovante" | "outro",
      "valor_total": número decimal,
      "data": "YYYY-MM-DD" ou "YYYY-MM-DD HH:mm" se houver hora,
      "empresa_emitente": "nome da empresa",
      "cnpj_emitente": "XX.XXX.XXX/XXXX-XX" ou null,
      "numero_documento": "número" ou null,
      "itens": [
        {
          "descricao": "nome do produto/serviço",
          "quantidade": número ou null,
          "valor_unitario": número ou null,
          "valor_total": número
        }
      ],
      "observacoes": "informações extras" ou null
    }
    
    REGRAS:
    - Se não conseguir identificar um campo, use null
    - Para valores, sempre use números decimais (ex: 123.45)
    - Para datas, tente converter para formato YYYY-MM-DD
    - Se for extrato, cada transação é um item
    - Se não houver itens detalhados, deixe array vazio []
    `,i={inlineData:{data:n,mimeType:e.type}},c=(await(await r.generateContent([a,i])).response).text();try{const u=Sv(c),d=JSON.parse(u);if(!d||typeof d.valor_total!="number")throw new Error("Estrutura inválida");return{tipo:d.tipo||"outro",valor_total:d.valor_total||0,data:d.data||new Date().toISOString().split("T")[0],empresa_emitente:d.empresa_emitente||void 0,cnpj_emitente:d.cnpj_emitente||void 0,numero_documento:d.numero_documento||void 0,itens:Array.isArray(d.itens)?d.itens:[],observacoes:d.observacoes||void 0}}catch(u){throw console.error("Erro ao fazer parse do JSON:",u),new Error("Não foi possível processar os dados do documento. Verifique se a imagem está legível.")}}catch(t){throw console.error("Erro ao processar documento fiscal:",t),new Error("Erro ao processar o documento. Tente novamente com uma imagem mais clara.")}}async function UM(e){try{const r=Ql().getGenerativeModel({model:"gemini-1.5-flash"}),n=`
    Você é consultor financeiro especializado em confeitarias.
    Analise estes gastos e documentos fiscais de uma confeitaria e gere insights:
    
    Documentos: ${JSON.stringify(e,null,2)}
    
    Análise os dados e retorne JSON com:
    {
      "total_gastos": soma total de todos os gastos,
      "gastos_por_categoria": {
        "ingredientes": valor total,
        "equipamentos": valor total,
        "embalagens": valor total,
        "marketing": valor total,
        "outros": valor total
      },
      "tendencias": [
        "Observação sobre padrões temporais",
        "Observação sobre categorias"
      ],
      "recomendacoes": [
        "Sugestão de economia",
        "Oportunidade de melhoria"
      ]
    }
    
    Base as categorias nos itens encontrados e forneça insights úteis para o negócio.
    `,o=(await(await r.generateContent(n)).response).text();try{const l=Sv(o);return JSON.parse(l)}catch{const l=e.reduce((c,u)=>c+u.valor_total,0);return{total_gastos:l,gastos_por_categoria:{outros:l},tendencias:["Análise em desenvolvimento"],recomendacoes:["Colete mais dados para insights detalhados"]}}}catch(t){console.error("Erro ao analisar gastos:",t);const r=e.reduce((n,a)=>n+a.valor_total,0);return{total_gastos:r,gastos_por_categoria:{outros:r},tendencias:["Análise temporariamente indisponível"],recomendacoes:["Tente novamente em alguns minutos"]}}}function qM({onRecipeExtracted:e,onClose:t,isOpen:r}){const[n,a]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState(""),f=p.useRef(null),m=p.useRef(null);if(!r)return null;const h=async b=>{if(!b.type.startsWith("image/")){d("Por favor, selecione apenas arquivos de imagem.");return}a(!0),d("");try{c("Extraindo texto da imagem...");const x=await FM(b);c("Receita digitalizada com sucesso!"),setTimeout(()=>{e(x),w()},1e3)}catch(x){console.error("Erro ao processar imagem:",x),d(x instanceof Error?x.message:"Erro ao processar a imagem"),a(!1),c("")}},g=b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?o(!0):b.type==="dragleave"&&o(!1)},v=b=>{b.preventDefault(),b.stopPropagation(),o(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&h(b.dataTransfer.files[0])},y=b=>{b.target.files&&b.target.files[0]&&h(b.target.files[0])},w=()=>{n||(d(""),c(""),t())};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Digitalizar Receita"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tire uma foto ou faça upload da sua receita"})]}),!n&&s.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Yr,{className:"h-6 w-6"})})]}),n?s.jsx("div",{className:"text-center py-8",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"relative",children:s.jsx(bv,{className:"h-12 w-12 text-blue-600 animate-spin"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Processando receita..."}),s.jsx("p",{className:"text-sm text-gray-600",children:l})]})]})}):s.jsxs(s.Fragment,{children:[u&&s.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 rounded-lg flex items-center space-x-2",children:[s.jsx(Of,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-700",children:u})]}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-gray-400",children:s.jsx(Ii,{className:"h-12 w-12 mx-auto"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Adicione sua receita"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Arraste uma imagem ou clique para selecionar"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[s.jsxs("button",{onClick:()=>{var b;return(b=m.current)==null?void 0:b.click()},className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Ii,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Câmera"})]}),s.jsxs("button",{onClick:()=>{var b;return(b=f.current)==null?void 0:b.click()},className:"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(Ra,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Arquivo"})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Dicas para melhor resultado:"}),s.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[s.jsx("li",{children:"• Use boa iluminação"}),s.jsx("li",{children:"• Mantenha a receita plana"}),s.jsx("li",{children:"• Evite sombras sobre o texto"}),s.jsx("li",{children:"• Certifique-se de que o texto está legível"})]})]})]})]}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:y,className:"hidden"}),s.jsx("input",{ref:m,type:"file",accept:"image/*",capture:"environment",onChange:y,className:"hidden"})]})})}function WM(){const{user:e}=Ke(),t=Mr(),{canAddReceita:r}=qS(),[n,a]=p.useState(!1),[i,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[f,m]=p.useState(""),[h,g]=p.useState("todas"),[v,y]=p.useState(!1),[w,b]=p.useState(null),[x,j]=p.useState({nome:"",categoria:"Bolos",categoria_id:"",modo_preparo:[""],tempo_preparo_mins:60,rendimento:"",foto_principal:""}),[N,_]=p.useState([]),[S,C]=p.useState(!1),[A,P]=p.useState(!1),[O,T]=p.useState(null),[U,q]=p.useState(!1),[K,E]=p.useState([]);p.useEffect(()=>{if(e){const D=ee(X.RECEITAS,[]),Q=ee(X.CATEGORIAS,[]),se=ee(X.INGREDIENTES_USUARIO,[]),me=ee("receitas_compartilhadas",[]);o(D.filter(Qe=>Qe.usuario_id===e.id)),c(Q.filter(Qe=>Qe.usuario_id===e.id)),d(se.filter(Qe=>Qe.usuario_id===e.id)),E(me)}},[e]);const F=D=>{if(D.origem!=="usuario"){alert("❌ Apenas receitas criadas por você podem ser compartilhadas com a comunidade.");return}T(D),P(!0)},L=()=>{var se;if(!O||!e)return;const D={id:Date.now().toString(),receita_id:O.id,usuario_id:e.id,autor_nome:U?"Anônimo":((se=e.email)==null?void 0:se.split("@")[0])||"Confeiteiro(a)",autor_anonimo:U,data_compartilhamento:new Date().toISOString(),publico:!0,curtidas:0,salvamentos:0,comentarios:[],visualizacoes:0,ativo:!0},Q=[...K,D];E(Q),je("receitas_compartilhadas",Q),P(!1),T(null),q(!1),alert("✅ Receita compartilhada com a comunidade!")},z=()=>{P(!1),T(null),q(!1)},W=D=>K.some(Q=>Q.receita_id===D&&Q.ativo),G=i.filter(D=>{const Q=D.nome.toLowerCase().includes(f.toLowerCase()),se=h==="todas"||D.categoria_id===h;return Q&&se&&D.ativo}),Y=D=>l.find(Q=>Q.id===D),rt=D=>{if(window.confirm("Tem certeza que deseja excluir esta receita?")){const Q=i.map(Qe=>Qe.id===D?{...Qe,ativo:!1}:Qe);o(Q);const me=ee(X.RECEITAS,[]).map(Qe=>Qe.id===D?{...Qe,ativo:!1}:Qe);je(X.RECEITAS,me)}},ve=()=>{j({nome:"",categoria:"Bolos",categoria_id:"",modo_preparo:[""],tempo_preparo_mins:60,rendimento:"",foto_principal:""}),_([]),b(null),y(!1)},ke=D=>{if(!e)return;const Q=D.ingredientes.map((se,me)=>({id:Date.now().toString()+me,receita_id:"",ingrediente_id:"",quantidade:se.quantidade||0,unidade:se.unidade||"g",observacoes:"",ordem:me}));j({nome:D.nome||"Receita Digitalizada",categoria:"Bolos",categoria_id:"",modo_preparo:D.modo_preparo||[""],tempo_preparo_mins:D.tempo_estimado||60,rendimento:D.rendimento||"",foto_principal:""}),_(Q),b(null),y(!0),C(!1)},Xe=D=>{if(D.preventDefault(),!e||!x.nome.trim())return;const Q={id:(w==null?void 0:w.id)||Date.now().toString(),usuario_id:e.id,categoria_id:x.categoria_id||(x.categoria==="Bolos"?"cat_bolos":"cat_"+x.categoria.toLowerCase()),nome:x.nome.trim(),descricao:"",modo_preparo:x.modo_preparo.filter(gn=>gn.trim()),tempo_preparo_mins:x.tempo_preparo_mins,rendimento:x.rendimento.trim(),dificuldade:x.tempo_preparo_mins<=30?"iniciante":x.tempo_preparo_mins<=120?"intermediario":"avancado",foto_principal:x.foto_principal,ingredientes:N,tags:[x.categoria.toLowerCase()],ativo:!0,criado_em:(w==null?void 0:w.criado_em)||new Date().toISOString(),atualizado_em:new Date().toISOString(),origem:"usuario"};let se;w?se=i.map(gn=>gn.id===w.id?Q:gn):se=[...i,Q],o(se);const Qe=ee(X.RECEITAS,[]).filter(gn=>gn.usuario_id!==e.id);je(X.RECEITAS,[...Qe,...se]),ve()},$=D=>{var Q;j({nome:D.nome,categoria:D.categoria_id&&((Q=l.find(se=>se.id===D.categoria_id))==null?void 0:Q.nome)||"Bolos",categoria_id:D.categoria_id,modo_preparo:D.modo_preparo.length>0?D.modo_preparo:[""],tempo_preparo_mins:D.tempo_preparo_mins,rendimento:D.rendimento,foto_principal:D.foto_principal||""}),_(D.ingredientes),b(D),y(!0)},ne=D=>{const Q={id:Date.now().toString(),receita_id:"",ingrediente_id:D.id,quantidade:0,unidade:D.unidade_padrao,observacoes:"",ordem:N.length};_([...N,Q])},k=D=>{_(N.filter((Q,se)=>se!==D))},I=(D,Q,se)=>{const me=[...N];me[D]={...me[D],[Q]:se},_(me)},B=()=>{j({...x,modo_preparo:[...x.modo_preparo,""]})},M=D=>{j({...x,modo_preparo:x.modo_preparo.filter((Q,se)=>se!==D)})},ie=(D,Q)=>{const se=[...x.modo_preparo];se[D]=Q,j({...x,modo_preparo:se})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Minhas Receitas"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Gerencie suas receitas e organize seus doces"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("button",{onClick:()=>{r()?y(!0):a(!0)},className:`flex items-center space-x-2 px-6 py-3 rounded-lg transition-colors ${r()?"bg-pink-500 text-white hover:bg-pink-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx(Or,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Receita"})]}),s.jsxs("button",{onClick:()=>{r()?C(!0):a(!0)},className:`flex items-center space-x-2 px-6 py-3 rounded-lg transition-colors ${r()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx(Ii,{className:"h-5 w-5"}),s.jsx("span",{children:"Digitalizar"})]}),s.jsx(MM,{type:"receitas"})]})]}),s.jsx("div",{className:"bg-card p-4 lg:p-6 rounded-lg shadow-md mb-6 lg:mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar receitas...",value:f,onChange:D=>m(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),s.jsxs("select",{value:h,onChange:D=>g(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",children:[s.jsx("option",{value:"todas",children:"Todas as categorias"}),l.map(D=>s.jsx("option",{value:D.id,children:D.nome},D.id))]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(oM,{className:"h-5 w-5"}),s.jsxs("span",{children:[G.length," receitas encontradas"]})]})]})}),G.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(zn,{className:"h-16 w-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:i.length===0?"Nenhuma receita cadastrada":"Nenhuma receita encontrada"}),s.jsx("p",{className:"text-gray-500 mb-6",children:i.length===0?"Comece criando sua primeira receita!":"Tente ajustar os filtros para encontrar o que procura."}),i.length===0&&s.jsx("button",{onClick:()=>y(!0),className:"bg-pink-500 text-white px-6 py-3 rounded-lg hover:bg-pink-600 transition-colors",children:"Criar primeira receita"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:G.map(D=>{var se;const Q=Y(D.categoria_id);return s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"h-48 bg-gradient-to-br from-pink-100 to-purple-100 flex items-center justify-center",children:D.foto_principal?s.jsx("img",{src:D.foto_principal,alt:D.nome,className:"w-full h-full object-cover"}):s.jsx("div",{className:"text-6xl",children:(Q==null?void 0:Q.icone)||"🍰"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 truncate",children:D.nome}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>F(D),className:`transition-colors ${W(D.id)?"text-green-500 hover:text-green-600":"text-gray-400 hover:text-blue-500"}`,title:W(D.id)?"Receita já compartilhada":"Compartilhar com a comunidade",children:s.jsx(fd,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>$(D),className:"text-gray-400 hover:text-blue-500 transition-colors",children:s.jsx(Aa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>rt(D.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(Un,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsxs("span",{children:[D.tempo_preparo_mins,"min"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(_s,{className:"h-4 w-4"}),s.jsx("span",{children:D.rendimento})]})]}),s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:((se=Y(D.categoria_id))==null?void 0:se.nome)||"Outros"})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(Q==null?void 0:Q.cor_hex)||"#gray"}}),s.jsx("span",{className:"text-sm text-gray-600",children:Q==null?void 0:Q.nome})]})}),D.tags.length>0&&s.jsxs("div",{className:"mt-4 flex flex-wrap gap-1",children:[D.tags.slice(0,3).map(me=>s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["#",me]},me)),D.tags.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",D.tags.length-3]})]})]})]},D.id)})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full m-4 max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w?"Editar Receita":"Nova Receita"}),s.jsx("button",{onClick:ve,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Yr,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:Xe,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Receita *"}),s.jsx("input",{type:"text",value:x.nome,onChange:D=>j({...x,nome:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Ex: Brigadeiro Gourmet",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),s.jsxs("select",{value:x.categoria,onChange:D=>j({...x,categoria:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0,children:[s.jsx("option",{value:"Bolos",children:"Bolos"}),s.jsx("option",{value:"Doces",children:"Doces"}),s.jsx("option",{value:"Salgados",children:"Salgados"}),s.jsx("option",{value:"Outros",children:"Outros"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tempo de Preparo: ",Math.floor(x.tempo_preparo_mins/60),"h ",x.tempo_preparo_mins%60,"min"]}),s.jsx("input",{type:"range",min:"15",max:"240",step:"15",value:x.tempo_preparo_mins,onChange:D=>j({...x,tempo_preparo_mins:parseInt(D.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"15min"}),s.jsx("span",{children:"2h"}),s.jsx("span",{children:"4h"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rendimento *"}),s.jsx("input",{type:"text",value:x.rendimento,onChange:D=>j({...x,rendimento:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Ex: 12 porções, 1 bolo grande",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Ingredientes *"}),s.jsx(DM,{onAddIngredient:ne,selectedIngredients:N,className:"mb-6"}),N.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Ingredientes da Receita (",N.length,")"]}),N.map((D,Q)=>{const se=u.find(me=>me.id===D.ingrediente_id)||hd.find(me=>me.id===D.ingrediente_id);return s.jsx("div",{className:"border border-gray-200 p-3 rounded-lg bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3 items-center",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:(se==null?void 0:se.nome)||"Ingrediente desconhecido"}),s.jsx("p",{className:"text-xs text-gray-500",children:(se==null?void 0:se.categoria)||"Categoria não definida"})]}),s.jsx("div",{children:s.jsx("input",{type:"number",step:"0.01",value:D.quantidade,onChange:me=>I(Q,"quantidade",parseFloat(me.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Quantidade"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:D.unidade,onChange:me=>I(Q,"unidade",me.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"ml",children:"ml"}),s.jsx("option",{value:"l",children:"l"}),s.jsx("option",{value:"xícara",children:"xícara"}),s.jsx("option",{value:"colher de sopa",children:"colher de sopa"}),s.jsx("option",{value:"colher de chá",children:"colher de chá"}),s.jsx("option",{value:"unidade",children:"unidade"})]}),s.jsx("button",{type:"button",onClick:()=>k(Q),className:"text-red-500 hover:text-red-700 p-1",children:s.jsx(Yr,{className:"h-4 w-4"})})]})]})},Q)})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modo de Preparo"}),s.jsxs("button",{type:"button",onClick:B,className:"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{children:"Adicionar Passo"})]})]}),s.jsx("div",{className:"space-y-4",children:x.modo_preparo.map((D,Q)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-pink-100 text-pink-600 rounded-full flex items-center justify-center text-sm font-medium",children:Q+1}),s.jsx("textarea",{value:D,onChange:se=>ie(Q,se.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",rows:2,placeholder:`Passo ${Q+1}...`}),x.modo_preparo.length>1&&s.jsx("button",{type:"button",onClick:()=>M(Q),className:"text-red-500 hover:text-red-700 p-2",children:s.jsx(Un,{className:"h-4 w-4"})})]},Q))})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{type:"button",onClick:ve,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600",children:w?"Salvar Alterações":"Criar Receita"})]})]})]})})]}),s.jsx(IM,{isOpen:n,onClose:()=>a(!1),feature:"receitas",onUpgrade:D=>{t(D==="pix"?"/upgrade/pix":"/upgrade/stripe")}}),s.jsx(qM,{isOpen:S,onClose:()=>C(!1),onRecipeExtracted:ke}),A&&O&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Compartilhar com a Comunidade"}),s.jsx("button",{onClick:z,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Yr,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-gray-600 mb-4",children:["Você está prestes a compartilhar a receita ",s.jsxs("strong",{children:['"',O.nome,'"']})," com a comunidade DoceCalc."]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-sm text-blue-700",children:"ℹ️ Sua receita ficará visível para todos os confeiteiros da comunidade e poderá receber curtidas e comentários."})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"compartilhamento-anonimo",checked:U,onChange:D=>q(D.target.checked),className:"w-4 h-4 text-pink-600 bg-gray-100 border-gray-300 rounded focus:ring-pink-500"}),s.jsx("label",{htmlFor:"compartilhamento-anonimo",className:"text-sm text-gray-600",children:"Compartilhar anonimamente (seu nome não aparecerá)"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:z,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:L,className:"px-6 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 flex items-center space-x-2",children:[s.jsx(fd,{className:"h-4 w-4"}),s.jsx("span",{children:"Compartilhar"})]})]})]})})]})}function VM(){const{user:e}=Ke(),[t,r]=p.useState([]),[n,a]=p.useState(""),[i,o]=p.useState("todas"),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,m]=p.useState(!1),[h,g]=p.useState(""),[v,y]=p.useState({valorPago:0,quantidade:0}),[w,b]=p.useState(null),[x,j]=p.useState({nome:"",preco_atual:0,unidade:"kg",categoria:"Outros",fornecedor:"",estoque_atual:0,estoque_minimo:0,modo_receitas:!1});p.useEffect(()=>{if(e){const E=ee(X.INGREDIENTES_USUARIO,[]);r(E.filter(F=>F.usuario_id===e.id))}},[e]);const N=WS,_=t.filter(E=>{const F=E.nome.toLowerCase().includes(n.toLowerCase()),L=i==="todas"||E.categoria===i;return F&&L}),S=t.filter(E=>!E.modo_receitas&&E.estoque_atual!==void 0&&E.estoque_minimo!==void 0&&E.estoque_atual<=E.estoque_minimo),C=E=>{if(E.preventDefault(),!e)return;const F={id:(w==null?void 0:w.id)||Date.now().toString(),usuario_id:e.id,nome:x.nome,preco_atual:x.preco_atual,preco_anterior:w==null?void 0:w.preco_atual,unidade:x.unidade,categoria:x.categoria,fornecedor:x.fornecedor,estoque_atual:x.modo_receitas?void 0:x.estoque_atual,estoque_minimo:x.modo_receitas?void 0:x.estoque_minimo,modo_receitas:x.modo_receitas,data_atualizacao:new Date().toISOString()};let L;w?L=t.map(G=>G.id===w.id?F:G):L=[...t,F],r(L);const W=ee(X.INGREDIENTES_USUARIO,[]).filter(G=>G.usuario_id!==e.id);je(X.INGREDIENTES_USUARIO,[...W,...L]),A()},A=()=>{j({nome:"",preco_atual:0,unidade:"kg",categoria:"Outros",fornecedor:"",estoque_atual:0,estoque_minimo:0,modo_receitas:!1}),b(null),c(!1)},P=E=>{j({nome:E.nome,preco_atual:E.preco_atual,unidade:E.unidade,categoria:E.categoria,fornecedor:E.fornecedor||"",estoque_atual:E.estoque_atual||0,estoque_minimo:E.estoque_minimo||0,modo_receitas:E.modo_receitas||!1}),b(E),c(!0)},O=E=>{if(window.confirm("Tem certeza que deseja excluir este ingrediente?")){const F=t.filter(W=>W.id!==E);r(F);const z=ee(X.INGREDIENTES_USUARIO,[]).filter(W=>W.id!==E);je(X.INGREDIENTES_USUARIO,z)}},T=E=>{if(e){if(E.id==="ovos"){m(!0),d(!1);return}j({nome:E.nome,preco_atual:0,unidade:E.unidade_padrao,categoria:E.categoria,fornecedor:"",estoque_atual:0,estoque_minimo:0,modo_receitas:!1}),b(null),d(!1),c(!0)}},U=()=>{if(!e||v.valorPago<=0||v.quantidade<=0)return;const E=v.valorPago/v.quantidade,F={id:Date.now().toString(),usuario_id:e.id,nome:"Ovos",preco_atual:E,unidade:"unidade",categoria:"Ovos",data_atualizacao:new Date().toISOString()},L=[...t,F];r(L);const W=ee(X.INGREDIENTES_USUARIO,[]).filter(G=>G.usuario_id!==e.id);je(X.INGREDIENTES_USUARIO,[...W,...L]),m(!1),d(!1),y({valorPago:0,quantidade:0})},q=hd.filter(E=>RM.includes(E.id)).filter(E=>h===""||E.nome.toLowerCase().includes(h.toLowerCase())||E.categoria.toLowerCase().includes(h.toLowerCase())).filter(E=>!t.some(F=>F.nome.toLowerCase()===E.nome.toLowerCase())),K=E=>E.preco_anterior?(E.preco_atual-E.preco_anterior)/E.preco_anterior*100:null;return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Ingredientes & Estoque"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Gerencie preços e controle seu estoque"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:[s.jsx(Or,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Ingrediente"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-yellow-500 text-white px-6 py-3 rounded-lg hover:bg-yellow-600 transition-colors",children:[s.jsx(zn,{className:"h-5 w-5"}),s.jsx("span",{children:"Ingredientes Populares"})]})]})]}),S.length>0&&s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx(Nu,{className:"h-5 w-5 text-yellow-400"}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-yellow-700",children:[s.jsxs("strong",{children:[S.length," ingredientes"]})," com estoque baixo precisam de reposição."]})})]})}),s.jsx("div",{className:"bg-card p-4 lg:p-6 rounded-lg shadow-md mb-6 lg:mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar ingredientes...",value:n,onChange:E=>a(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:i,onChange:E=>o(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"todas",children:"Todas as categorias"}),N.map(E=>s.jsx("option",{value:E,children:E},E))]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(Yl,{className:"h-5 w-5"}),s.jsxs("span",{children:[_.length," ingredientes"]})]})]})}),s.jsx("div",{className:"bg-card rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingrediente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preço Atual"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variação"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estoque"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fornecedor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(E=>{const F=K(E),L=!E.modo_receitas&&E.estoque_atual!==void 0&&E.estoque_minimo!==void 0&&E.estoque_atual<=E.estoque_minimo;return s.jsxs("tr",{className:L?"bg-yellow-50":"",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.nome}),s.jsx("div",{className:"text-sm text-gray-500",children:E.categoria})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["R$ ",E.preco_atual.toFixed(2)]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["por ",E.unidade]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F!==null&&s.jsxs("div",{className:`flex items-center text-sm ${F>0?"text-red-600":F<0?"text-green-600":"text-gray-600"}`,children:[s.jsx(Cr,{className:`h-4 w-4 mr-1 ${F<0?"transform rotate-180":""}`}),Math.abs(F).toFixed(1),"%"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.modo_receitas?s.jsx("span",{className:"text-sm text-blue-600",children:"Modo receitas"}):E.estoque_atual!==void 0?s.jsxs("div",{className:`text-sm ${L?"text-yellow-600 font-medium":"text-gray-900"}`,children:[E.estoque_atual," ",E.unidade,L&&s.jsx("div",{className:"text-xs text-yellow-600",children:"Repor!"})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.fornecedor||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>P(E),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Aa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>O(E.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Un,{className:"h-4 w-4"})})]})})]},E.id)})})]})})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full m-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:w?"Editar Ingrediente":"Novo Ingrediente"}),s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Ingrediente"}),s.jsx("input",{type:"text",value:x.nome,onChange:E=>j({...x,nome:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preço Atual"}),s.jsx(yi,{value:x.preco_atual,onChange:E=>j({...x,preco_atual:E||0}),className:"border-gray-300",placeholder:"R$ 0,00",allowEmpty:!1})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidade"}),s.jsxs("select",{value:x.unidade,onChange:E=>j({...x,unidade:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"kg",children:"Quilos (kg)"}),s.jsx("option",{value:"g",children:"Gramas (g)"}),s.jsx("option",{value:"l",children:"Litros (l)"}),s.jsx("option",{value:"ml",children:"Mililitros (ml)"}),s.jsx("option",{value:"unidade",children:"Unidade"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria"}),s.jsx("select",{value:x.categoria,onChange:E=>j({...x,categoria:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:N.map(E=>s.jsx("option",{value:E,children:E},E))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor (Opcional)"}),s.jsx("input",{type:"text",value:x.fornecedor,onChange:E=>j({...x,fornecedor:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"modo-receitas",checked:x.modo_receitas,onChange:E=>j({...x,modo_receitas:E.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"modo-receitas",className:"text-sm font-medium text-gray-700",children:"Modo para receitas: não contabilizará estoque, apenas ficará liberado para receitas"})]}),!x.modo_receitas&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estoque Atual"}),s.jsx("input",{type:"number",step:"0.01",value:x.estoque_atual,onChange:E=>j({...x,estoque_atual:parseFloat(E.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estoque Mínimo"}),s.jsx("input",{type:"number",step:"0.01",value:x.estoque_minimo,onChange:E=>j({...x,estoque_minimo:parseFloat(E.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:w?"Salvar Alterações":"Adicionar Ingrediente"})]})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full m-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ingredientes Mais Utilizados por Confeiteiras"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar ingredientes...",value:h,onChange:E=>g(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map(E=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:E.nome}),s.jsx("p",{className:"text-sm text-gray-600",children:E.categoria}),s.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Unidade: ",E.unidade_padrao]}),s.jsx("button",{onClick:()=>T(E),className:"w-full px-3 py-2 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition-colors",children:"Adicionar"})]},E.id))}),q.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum ingrediente encontrado ou todos já foram adicionados."})]})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full m-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Calcular Preço dos Ovos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quanto você pagou?"}),s.jsx(yi,{value:v.valorPago,onChange:E=>y({...v,valorPago:E||0}),className:"border-gray-300",placeholder:"R$ 0,00",allowEmpty:!1})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Por quantos ovos?"}),s.jsx("input",{type:"number",value:v.quantidade,onChange:E=>y({...v,quantidade:parseInt(E.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 30"})]}),v.valorPago>0&&v.quantidade>0&&s.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-green-700",children:s.jsxs("strong",{children:["Preço por ovo: R$ ",(v.valorPago/v.quantidade).toFixed(2)]})})})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>{m(!1),y({valorPago:0,quantidade:0})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:U,disabled:v.valorPago<=0||v.quantidade<=0,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Adicionar Ovos"})]})]})})]})})}function KM(){const{user:e}=Ke(),[t,r]=p.useState([]),[n,a]=p.useState(""),[i,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState({nome:"",telefone:"",whatsapp:"",email:"",endereco_completo:"",data_nascimento:"",observacoes:""}),[f,m]=p.useState(!1),[h,g]=p.useState(!1),[v,y]=p.useState(!1),[w,b]=p.useState(!1),[x,j]=p.useState(null),[N,_]=p.useState(""),[S,C]=p.useState([]),[A,P]=p.useState(null),[O,T]=p.useState([]),[U,q]=p.useState(!1);p.useEffect(()=>{if(e){const k=ee(X.CLIENTES,[]);r(k.filter(I=>I.usuario_id===e.id&&I.ativo))}},[e]);const K=t.filter(k=>{var B,M;const I=n.toLowerCase();return k.nome.toLowerCase().includes(I)||((B=k.telefone)==null?void 0:B.toLowerCase().includes(I))||((M=k.email)==null?void 0:M.toLowerCase().includes(I))}),E=k=>{if(k.preventDefault(),!e)return;const I={id:(l==null?void 0:l.id)||Date.now().toString(),usuario_id:e.id,nome:u.nome,telefone:u.telefone,whatsapp:u.whatsapp,email:u.email,endereco_completo:u.endereco_completo,data_nascimento:u.data_nascimento,observacoes:u.observacoes,criado_em:(l==null?void 0:l.criado_em)||new Date().toISOString(),ativo:!0,historico_pedidos:(l==null?void 0:l.historico_pedidos)||0,valor_total_gasto:(l==null?void 0:l.valor_total_gasto)||0};let B;l?B=t.map(D=>D.id===l.id?I:D):B=[...t,I],r(B);const ie=ee(X.CLIENTES,[]).filter(D=>D.usuario_id!==e.id);je(X.CLIENTES,[...ie,...B]),ve()},F=()=>{var I;if(!e)return;const k={id:Date.now().toString(),usuario_id:e.id,codigo_qr:`https://docecalc.app/cadastro/${e.id}/${Date.now()}`,nome_confeitaria:((I=e==null?void 0:e.email)==null?void 0:I.split("@")[0])||"Minha Confeitaria",ativo:!0,criado_em:new Date().toISOString(),clientes_cadastrados:0};j(k),je("qr_codes_cadastro",[k]),g(!0)},L=async()=>{if(!(!N.trim()||!e)){q(!0);try{await new Promise(ie=>setTimeout(ie,2e3));const k=N.split(`
`),I=[];let B="",M="";for(const ie of k){const D=ie.match(/\+?[\d\s\(\)\-]{10,}/g),Q=ie.match(/^([A-Za-zÀ-ÿ\s]+)[\s:]/g);if(Q&&Q[0]&&(B=Q[0].replace(":","").trim()),D&&D[0]&&B&&(M=D[0].replace(/\D/g,""),M.length>=10&&B.length>2)){const se={id:Date.now().toString()+Math.random().toString(),usuario_id:e.id,nome:B,telefone:M,whatsapp:M,email:"",endereco_completo:"",data_nascimento:"",observacoes:"Importado via IA do WhatsApp",criado_em:new Date().toISOString(),ativo:!0,historico_pedidos:0,valor_total_gasto:0};I.push(se),B="",M=""}}C(I)}catch{alert("Erro ao processar dados. Tente novamente.")}finally{q(!1)}}},z=k=>{var M;const I=(M=k.target.files)==null?void 0:M[0];if(!I||!e)return;P(I);const B=new FileReader;B.onload=ie=>{var me,Qe,gn;const Q=((me=ie.target)==null?void 0:me.result).split(`
`).filter(Us=>Us.trim()),se=[];for(let Us=1;Us<Q.length;Us++){const na=Q[Us].split(",").map(Dm=>Dm.trim());if(na.length>=2&&na[0]&&na[1]){const Dm={id:Date.now().toString()+Us,usuario_id:e.id,nome:na[0]||"",telefone:((Qe=na[1])==null?void 0:Qe.replace(/\D/g,""))||"",whatsapp:((gn=na[1])==null?void 0:gn.replace(/\D/g,""))||"",email:na[2]||"",endereco_completo:na[3]||"",data_nascimento:"",observacoes:"Importado via CSV/TXT",criado_em:new Date().toISOString(),ativo:!0,historico_pedidos:0,valor_total_gasto:0};se.push(Dm)}}T(se)},B.readAsText(I)},W=()=>{if(O.length===0)return;const k=[...t,...O];r(k);const B=ee(X.CLIENTES,[]).filter(M=>M.usuario_id!==(e==null?void 0:e.id));je(X.CLIENTES,[...B,...k]),b(!1),T([]),P(null),alert(`✅ ${O.length} clientes importados com sucesso!`)},G=k=>{const I=k.replace(/\D/g,"");return I.length>=10&&I.length<=11},Y=k=>{const I=k.replace(/\D/g,"");return I.length===11?`(${I.slice(0,2)}) ${I.slice(2,7)}-${I.slice(7)}`:I.length===10?`(${I.slice(0,2)}) ${I.slice(2,6)}-${I.slice(6)}`:k},rt=()=>{if(S.length===0)return;const k=[...t,...S];r(k);const B=ee(X.CLIENTES,[]).filter(M=>M.usuario_id!==(e==null?void 0:e.id));je(X.CLIENTES,[...B,...k]),y(!1),C([]),_(""),alert(`✅ ${S.length} clientes importados via IA!`)},ve=()=>{d({nome:"",telefone:"",whatsapp:"",email:"",endereco_completo:"",data_nascimento:"",observacoes:""}),c(null),o(!1)},ke=k=>{d({nome:k.nome,telefone:k.telefone||"",whatsapp:k.whatsapp||"",email:k.email||"",endereco_completo:k.endereco_completo||"",data_nascimento:k.data_nascimento||"",observacoes:k.observacoes||""}),c(k),o(!0)},Xe=k=>{if(window.confirm("Tem certeza que deseja excluir este cliente?")){const I=t.map(ie=>ie.id===k?{...ie,ativo:!1}:ie);r(I.filter(ie=>ie.ativo));const M=ee(X.CLIENTES,[]).map(ie=>ie.id===k?{...ie,ativo:!1}:ie);je(X.CLIENTES,M)}},$=(k,I)=>{const B=k.replace(/\D/g,""),M=encodeURIComponent(`Olá ${I}! Tudo bem?`);window.open(`https://wa.me/55${B}?text=${M}`,"_blank")},ne=k=>{if(!k)return null;const I=new Date,B=new Date(k);let M=I.getFullYear()-B.getFullYear();const ie=I.getMonth()-B.getMonth();return(ie<0||ie===0&&I.getDate()<B.getDate())&&M--,M};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Clientes"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Gerencie seus clientes e histórico de pedidos"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>m(!f),className:"flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-colors",children:[s.jsx(Or,{className:"h-5 w-5"}),s.jsx("span",{children:"Cadastrar Cliente"}),s.jsx("svg",{className:"h-4 w-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&s.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border z-50",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("button",{onClick:()=>{o(!0),m(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md flex items-center space-x-3",children:[s.jsx(Nr,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Cadastro Manual"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Preencha os dados do cliente manualmente"})]})]}),s.jsxs("button",{onClick:()=>{F(),m(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md flex items-center space-x-3",children:[s.jsx(on,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"QR Code de Cadastro"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Clientes escaneia e se cadastra sozinho"})]})]}),s.jsxs("button",{onClick:()=>{y(!0),m(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md flex items-center space-x-3",children:[s.jsx(Su,{className:"h-5 w-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"IA de WhatsApp"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Cole conversas e extraia dados automaticamente"})]})]}),s.jsxs("button",{onClick:()=>{b(!0),m(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md flex items-center space-x-3",children:[s.jsx(Ra,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Import de Arquivo"}),s.jsx("p",{className:"text-sm text-gray-500",children:"CSV/TXT com dados de clientes em lote"})]})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Clientes"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),s.jsx(Nr,{className:"h-8 w-8 text-purple-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(k=>k.historico_pedidos>0).length})]}),s.jsx(yv,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Com WhatsApp"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(k=>k.whatsapp).length})]}),s.jsx(On,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",t.reduce((k,I)=>k+I.valor_total_gasto,0).toFixed(2)]})]}),s.jsx(ud,{className:"h-8 w-8 text-blue-500"})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar clientes por nome, telefone ou email...",value:n,onChange:k=>a(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),K.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Nr,{className:"h-16 w-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:t.length===0?"Nenhum cliente cadastrado":"Nenhum cliente encontrado"}),s.jsx("p",{className:"text-gray-500 mb-6",children:t.length===0?"Comece adicionando seu primeiro cliente!":"Tente ajustar os termos de busca."}),t.length===0&&s.jsx("button",{onClick:()=>o(!0),className:"bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors",children:"Adicionar primeiro cliente"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:K.map(k=>{const I=ne(k.data_nascimento||"");return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Nr,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.nome}),I&&s.jsxs("p",{className:"text-sm text-gray-500",children:[I," anos"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>ke(k),className:"text-gray-400 hover:text-blue-500 transition-colors",children:s.jsx(Aa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Xe(k.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(Un,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[k.telefone&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx($S,{className:"h-4 w-4"}),s.jsx("span",{children:Y(k.telefone)})]}),k.email&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(ud,{className:"h-4 w-4"}),s.jsx("span",{children:k.email})]}),k.whatsapp&&s.jsxs("button",{onClick:()=>$(k.whatsapp,k.nome),className:"flex items-center space-x-2 text-sm text-green-600 hover:text-green-700",children:[s.jsx(On,{className:"h-4 w-4"}),s.jsx("span",{children:"WhatsApp"})]})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:k.historico_pedidos}),s.jsx("p",{className:"text-xs text-gray-500",children:"Pedidos"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["R$ ",k.valor_total_gasto.toFixed(2)]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Gasto"})]})]})}),k.observacoes&&s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-600",children:k.observacoes})})]},k.id)})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full m-4 max-h-screen overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:l?"Editar Cliente":"Novo Cliente"}),s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),s.jsx("input",{type:"text",value:u.nome,onChange:k=>d({...u,nome:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),s.jsx("input",{type:"tel",value:u.telefone,onChange:k=>d({...u,telefone:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"(11) 99999-9999"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),s.jsx("input",{type:"tel",value:u.whatsapp,onChange:k=>d({...u,whatsapp:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"(11) 99999-9999"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:u.email,onChange:k=>d({...u,email:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento"}),s.jsx("input",{type:"date",value:u.data_nascimento,onChange:k=>d({...u,data_nascimento:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço Completo"}),s.jsx("textarea",{value:u.endereco_completo,onChange:k=>d({...u,endereco_completo:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",rows:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),s.jsx("textarea",{value:u.observacoes,onChange:k=>d({...u,observacoes:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Preferências, alergias, informações importantes..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{type:"button",onClick:ve,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:l?"Salvar Alterações":"Adicionar Cliente"})]})]})]})}),h&&x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(on,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"QR Code de Cadastro"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Mostre este QR Code para seus clientes se cadastrarem sozinhos"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("div",{className:"w-48 h-48 bg-gray-200 mx-auto rounded-lg flex items-center justify-center",children:s.jsx(on,{className:"h-16 w-16 text-gray-400"})}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:x.nome_confeitaria})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-blue-700",children:"📱 Clientes escaneiam → preenchem dados básicos → dados chegam direto no seu CRM!"})}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Fechar"}),s.jsxs("button",{onClick:()=>{alert("QR Code salvo! (Funcionalidade de download seria implementada aqui)")},className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center justify-center space-x-2",children:[s.jsx($s,{className:"h-4 w-4"}),s.jsx("span",{children:"Baixar"})]})]})]})})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Su,{className:"h-8 w-8 text-purple-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"IA de WhatsApp"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Extraia dados automaticamente de conversas"})]})]}),s.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cole sua conversa do WhatsApp aqui:"}),s.jsx("textarea",{value:N,onChange:k=>_(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",rows:8,placeholder:`Exemplo:
João Silva: Olá! Gostaria de fazer um pedido
Maria (11) 99999-9999: Oi João! Claro, me fala o que você precisa
João Silva: Um bolo de chocolate para 20 pessoas...`})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-yellow-700",children:"🤖 A IA irá identificar nomes e telefones automaticamente. Funciona melhor com conversas que incluem nomes e números de telefone visíveis."})}),S.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Clientes encontrados (",S.length,"):"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:S.map((k,I)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:k.nome}),s.jsx("p",{className:"text-sm text-gray-600",children:k.telefone?Y(k.telefone):"Não informado"})]}),s.jsx(we,{className:"h-5 w-5 text-green-500"})]},I))})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),S.length>0?s.jsxs("button",{onClick:rt,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[s.jsx(we,{className:"h-4 w-4"}),s.jsxs("span",{children:["Confirmar ",S.length," Clientes"]})]}):s.jsx("button",{onClick:L,disabled:U||!N.trim(),className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:opacity-50 flex items-center space-x-2",children:U?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Processando..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Su,{className:"h-4 w-4"}),s.jsx("span",{children:"Processar com IA"})]})})]})]})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ra,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import de Arquivo"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Importe clientes em lote via CSV/TXT"})]})]}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione um arquivo CSV ou TXT:"}),s.jsx("input",{type:"file",accept:".csv,.txt",onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-2",children:"Formato esperado:"}),s.jsx("p",{className:"text-sm text-green-600",children:s.jsx("code",{children:"Nome, Telefone, Email, Endereço"})}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:'Exemplo: "João Silva, (11) 99999-9999, joao@email.com, Rua A, 123"'})]}),O.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Preview (",O.length," clientes encontrados):"]}),s.jsx("div",{className:"bg-gray-50 border rounded-lg",children:s.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3 border-b",children:"Nome"}),s.jsx("th",{className:"text-left p-3 border-b",children:"Telefone"}),s.jsx("th",{className:"text-left p-3 border-b",children:"Email"}),s.jsx("th",{className:"text-left p-3 border-b",children:"Status"})]})}),s.jsx("tbody",{children:O.map((k,I)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-3",children:k.nome}),s.jsx("td",{className:"p-3",children:k.telefone?Y(k.telefone):"Não informado"}),s.jsx("td",{className:"p-3",children:k.email||"-"}),s.jsx("td",{className:"p-3",children:s.jsx("div",{className:"flex items-center space-x-1",children:k.telefone&&G(k.telefone)?s.jsx(we,{className:"h-4 w-4 text-green-500"}):s.jsx("span",{className:"text-red-500 text-xs",children:"Telefone inválido"})})})]},I))})]})})})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),O.length>0&&s.jsxs("button",{onClick:W,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[s.jsx(we,{className:"h-4 w-4"}),s.jsxs("span",{children:["Importar ",O.length," Clientes"]})]})]})]})})]})})}var Jl={},GM=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},KS={},mr={};let Cv;const HM=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];mr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};mr.getSymbolTotalCodewords=function(t){return HM[t]};mr.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};mr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Cv=t};mr.isKanjiModeEnabled=function(){return typeof Cv<"u"};mr.toSJIS=function(t){return Cv(t)};var If={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(If);function GS(){this.buffer=[],this.length=0}GS.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var YM=GS;function Zl(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Zl.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};Zl.prototype.get=function(e,t){return this.data[e*this.size+t]};Zl.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Zl.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var XM=Zl,HS={};(function(e){const t=mr.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*a-2))*2,l=[i-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(n){const a=[],i=e.getRowColCoords(n),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||a.push([i[l],i[c]]);return a}})(HS);var YS={};const QM=mr.getSymbolSize,zw=7;YS.getPositions=function(t){const r=QM(t);return[[0,0],[r-zw,0],[0,r-zw]]};var XS={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const i=a.size;let o=0,l=0,c=0,u=null,d=null;for(let f=0;f<i;f++){l=c=0,u=d=null;for(let m=0;m<i;m++){let h=a.get(f,m);h===u?l++:(l>=5&&(o+=t.N1+(l-5)),u=h,l=1),h=a.get(m,f),h===d?c++:(c>=5&&(o+=t.N1+(c-5)),d=h,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(a){const i=a.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(a){const i=a.size;let o=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|a.get(u,d),d>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|a.get(d,u),d>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(a){let i=0;const o=a.data.length;for(let c=0;c<o;c++)i+=a.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function r(n,a,i){switch(n){case e.Patterns.PATTERN000:return(a+i)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(a+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return a*i%2+a*i%3===0;case e.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case e.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,r(a,c,l))},e.getBestMask=function(a,i){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){i(u),e.applyMask(u,a);const d=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(u,a),d<c&&(c=d,l=u)}return l}})(XS);var Mf={};const ba=If,Wc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Vc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Mf.getBlocksCount=function(t,r){switch(r){case ba.L:return Wc[(t-1)*4+0];case ba.M:return Wc[(t-1)*4+1];case ba.Q:return Wc[(t-1)*4+2];case ba.H:return Wc[(t-1)*4+3];default:return}};Mf.getTotalCodewordsCount=function(t,r){switch(r){case ba.L:return Vc[(t-1)*4+0];case ba.M:return Vc[(t-1)*4+1];case ba.Q:return Vc[(t-1)*4+2];case ba.H:return Vc[(t-1)*4+3];default:return}};var QS={},Rf={};const nl=new Uint8Array(512),pd=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)nl[r]=t,pd[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)nl[r]=nl[r-255]})();Rf.log=function(t){if(t<1)throw new Error("log("+t+")");return pd[t]};Rf.exp=function(t){return nl[t]};Rf.mul=function(t,r){return t===0||r===0?0:nl[pd[t]+pd[r]]};(function(e){const t=Rf;e.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<a.length;l++)i[o+l]^=t.mul(n[o],a[l]);return i},e.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const o=i[0];for(let c=0;c<a.length;c++)i[c]^=t.mul(a[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=e.mul(a,new Uint8Array([1,t.exp(i)]));return a}})(QS);const JS=QS;function kv(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}kv.prototype.initialize=function(t){this.degree=t,this.genPoly=JS.generateECPolynomial(this.degree)};kv.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=JS.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(n,a),i}return n};var JM=kv,ZS={},Wa={},Ev={};Ev.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var hn={};const eC="[0-9]+",ZM="[A-Z $%*+\\-./:]+";let El="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";El=El.replace(/u/g,"\\u");const eR="(?:(?![A-Z0-9 $%*+\\-./:]|"+El+`)(?:.|[\r
]))+`;hn.KANJI=new RegExp(El,"g");hn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");hn.BYTE=new RegExp(eR,"g");hn.NUMERIC=new RegExp(eC,"g");hn.ALPHANUMERIC=new RegExp(ZM,"g");const tR=new RegExp("^"+El+"$"),rR=new RegExp("^"+eC+"$"),nR=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");hn.testKanji=function(t){return tR.test(t)};hn.testNumeric=function(t){return rR.test(t)};hn.testAlphanumeric=function(t){return nR.test(t)};(function(e){const t=Ev,r=hn;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(i,o){if(e.isValid(i))return i;try{return n(i)}catch{return o}}})(Wa);(function(e){const t=mr,r=Mf,n=If,a=Wa,i=Ev,o=7973,l=t.getBCHDigit(o);function c(m,h,g){for(let v=1;v<=40;v++)if(h<=e.getCapacity(v,g,m))return v}function u(m,h){return a.getCharCountIndicator(m,h)+4}function d(m,h){let g=0;return m.forEach(function(v){const y=u(v.mode,h);g+=y+v.getBitsLength()}),g}function f(m,h){for(let g=1;g<=40;g++)if(d(m,g)<=e.getCapacity(g,h,a.MIXED))return g}e.from=function(h,g){return i.isValid(h)?parseInt(h,10):g},e.getCapacity=function(h,g,v){if(!i.isValid(h))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=a.BYTE);const y=t.getSymbolTotalCodewords(h),w=r.getTotalCodewordsCount(h,g),b=(y-w)*8;if(v===a.MIXED)return b;const x=b-u(v,h);switch(v){case a.NUMERIC:return Math.floor(x/10*3);case a.ALPHANUMERIC:return Math.floor(x/11*2);case a.KANJI:return Math.floor(x/13);case a.BYTE:default:return Math.floor(x/8)}},e.getBestVersionForData=function(h,g){let v;const y=n.from(g,n.M);if(Array.isArray(h)){if(h.length>1)return f(h,y);if(h.length===0)return 1;v=h[0]}else v=h;return c(v.mode,v.getLength(),y)},e.getEncodedBits=function(h){if(!i.isValid(h)||h<7)throw new Error("Invalid QR Code version");let g=h<<12;for(;t.getBCHDigit(g)-l>=0;)g^=o<<t.getBCHDigit(g)-l;return h<<12|g}})(ZS);var tC={};const hg=mr,rC=1335,aR=21522,Uw=hg.getBCHDigit(rC);tC.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;hg.getBCHDigit(a)-Uw>=0;)a^=rC<<hg.getBCHDigit(a)-Uw;return(n<<10|a)^aR};var nC={};const sR=Wa;function Di(e){this.mode=sR.NUMERIC,this.data=e.toString()}Di.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Di.prototype.getLength=function(){return this.data.length};Di.prototype.getBitsLength=function(){return Di.getBitsLength(this.data.length)};Di.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,i*3+1))};var iR=Di;const oR=Wa,jh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function $i(e){this.mode=oR.ALPHANUMERIC,this.data=e}$i.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};$i.prototype.getLength=function(){return this.data.length};$i.prototype.getBitsLength=function(){return $i.getBitsLength(this.data.length)};$i.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=jh.indexOf(this.data[r])*45;n+=jh.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(jh.indexOf(this.data[r]),6)};var lR=$i;const cR=Wa;function Li(e){this.mode=cR.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Li.getBitsLength=function(t){return t*8};Li.prototype.getLength=function(){return this.data.length};Li.prototype.getBitsLength=function(){return Li.getBitsLength(this.data.length)};Li.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var uR=Li;const dR=Wa,fR=mr;function Fi(e){this.mode=dR.KANJI,this.data=e}Fi.getBitsLength=function(t){return t*13};Fi.prototype.getLength=function(){return this.data.length};Fi.prototype.getBitsLength=function(){return Fi.getBitsLength(this.data.length)};Fi.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=fR.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var mR=Fi,aC={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var i={},o={};o[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,d,f,m,h,g,v,y;!l.empty();){c=l.pop(),u=c.value,f=c.cost,m=r[u]||{};for(d in m)m.hasOwnProperty(d)&&(h=m[d],g=f+h,v=o[d],y=typeof o[d]>"u",(y||v>g)&&(o[d]=g,l.push(d,g),i[d]=u))}if(typeof a<"u"&&typeof o[a]>"u"){var w=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(w)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],i=n;i;)a.push(i),r[i],i=r[i];return a.reverse(),a},find_path:function(r,n,a){var i=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(aC);var hR=aC.exports;(function(e){const t=Wa,r=iR,n=lR,a=uR,i=mR,o=hn,l=mr,c=hR;function u(w){return unescape(encodeURIComponent(w)).length}function d(w,b,x){const j=[];let N;for(;(N=w.exec(x))!==null;)j.push({data:N[0],index:N.index,mode:b,length:N[0].length});return j}function f(w){const b=d(o.NUMERIC,t.NUMERIC,w),x=d(o.ALPHANUMERIC,t.ALPHANUMERIC,w);let j,N;return l.isKanjiModeEnabled()?(j=d(o.BYTE,t.BYTE,w),N=d(o.KANJI,t.KANJI,w)):(j=d(o.BYTE_KANJI,t.BYTE,w),N=[]),b.concat(x,j,N).sort(function(S,C){return S.index-C.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function m(w,b){switch(b){case t.NUMERIC:return r.getBitsLength(w);case t.ALPHANUMERIC:return n.getBitsLength(w);case t.KANJI:return i.getBitsLength(w);case t.BYTE:return a.getBitsLength(w)}}function h(w){return w.reduce(function(b,x){const j=b.length-1>=0?b[b.length-1]:null;return j&&j.mode===x.mode?(b[b.length-1].data+=x.data,b):(b.push(x),b)},[])}function g(w){const b=[];for(let x=0;x<w.length;x++){const j=w[x];switch(j.mode){case t.NUMERIC:b.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:b.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:b.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:b.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return b}function v(w,b){const x={},j={start:{}};let N=["start"];for(let _=0;_<w.length;_++){const S=w[_],C=[];for(let A=0;A<S.length;A++){const P=S[A],O=""+_+A;C.push(O),x[O]={node:P,lastCount:0},j[O]={};for(let T=0;T<N.length;T++){const U=N[T];x[U]&&x[U].node.mode===P.mode?(j[U][O]=m(x[U].lastCount+P.length,P.mode)-m(x[U].lastCount,P.mode),x[U].lastCount+=P.length):(x[U]&&(x[U].lastCount=P.length),j[U][O]=m(P.length,P.mode)+4+t.getCharCountIndicator(P.mode,b))}}N=C}for(let _=0;_<N.length;_++)j[N[_]].end=0;return{map:j,table:x}}function y(w,b){let x;const j=t.getBestModeForData(w);if(x=t.from(b,j),x!==t.BYTE&&x.bit<j.bit)throw new Error('"'+w+'" cannot be encoded with mode '+t.toString(x)+`.
 Suggested mode is: `+t.toString(j));switch(x===t.KANJI&&!l.isKanjiModeEnabled()&&(x=t.BYTE),x){case t.NUMERIC:return new r(w);case t.ALPHANUMERIC:return new n(w);case t.KANJI:return new i(w);case t.BYTE:return new a(w)}}e.fromArray=function(b){return b.reduce(function(x,j){return typeof j=="string"?x.push(y(j,null)):j.data&&x.push(y(j.data,j.mode)),x},[])},e.fromString=function(b,x){const j=f(b,l.isKanjiModeEnabled()),N=g(j),_=v(N,x),S=c.find_path(_.map,"start","end"),C=[];for(let A=1;A<S.length-1;A++)C.push(_.table[S[A]].node);return e.fromArray(h(C))},e.rawSplit=function(b){return e.fromArray(f(b,l.isKanjiModeEnabled()))}})(nC);const Df=mr,Nh=If,pR=YM,gR=XM,vR=HS,xR=YS,pg=XS,gg=Mf,yR=JM,gd=ZS,bR=tC,wR=Wa,_h=nC;function jR(e,t){const r=e.size,n=xR.getPositions(t);for(let a=0;a<n.length;a++){const i=n[a][0],o=n[a][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,o+c,!0,!0):e.set(i+l,o+c,!1,!0))}}function NR(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function _R(e,t){const r=vR.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],i=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(a+o,i+l,!0,!0):e.set(a+o,i+l,!1,!0)}}function SR(e,t){const r=e.size,n=gd.getEncodedBits(t);let a,i,o;for(let l=0;l<18;l++)a=Math.floor(l/3),i=l%3+r-8-3,o=(n>>l&1)===1,e.set(a,i,o,!0),e.set(i,a,o,!0)}function Sh(e,t,r){const n=e.size,a=bR.getEncodedBits(t,r);let i,o;for(i=0;i<15;i++)o=(a>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(n-15+i,8,o,!0),i<8?e.set(8,n-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(n-8,8,1,!0)}function CR(e,t){const r=e.size;let n=-1,a=r-1,i=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,l-c)){let u=!1;o<t.length&&(u=(t[o]>>>i&1)===1),e.set(a,l-c,u),i--,i===-1&&(o++,i=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function kR(e,t,r){const n=new pR;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),wR.getCharCountIndicator(c.mode,e)),c.write(n)});const a=Df.getSymbolTotalCodewords(e),i=gg.getTotalCodewordsCount(e,t),o=(a-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return ER(n,e,t)}function ER(e,t,r){const n=Df.getSymbolTotalCodewords(t),a=gg.getTotalCodewordsCount(t,r),i=n-a,o=gg.getBlocksCount(t,r),l=n%o,c=o-l,u=Math.floor(n/o),d=Math.floor(i/o),f=d+1,m=u-d,h=new yR(m);let g=0;const v=new Array(o),y=new Array(o);let w=0;const b=new Uint8Array(e.buffer);for(let S=0;S<o;S++){const C=S<c?d:f;v[S]=b.slice(g,g+C),y[S]=h.encode(v[S]),g+=C,w=Math.max(w,C)}const x=new Uint8Array(n);let j=0,N,_;for(N=0;N<w;N++)for(_=0;_<o;_++)N<v[_].length&&(x[j++]=v[_][N]);for(N=0;N<m;N++)for(_=0;_<o;_++)x[j++]=y[_][N];return x}function PR(e,t,r,n){let a;if(Array.isArray(e))a=_h.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=_h.rawSplit(e);u=gd.getBestVersionForData(d,r)}a=_h.fromString(e,u||40)}else throw new Error("Invalid data");const i=gd.getBestVersionForData(a,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=kR(t,r,a),l=Df.getSymbolSize(t),c=new gR(l);return jR(c,t),NR(c),_R(c,t),Sh(c,r,0),t>=7&&SR(c,t),CR(c,o),isNaN(n)&&(n=pg.getBestMask(c,Sh.bind(null,c,r))),pg.applyMask(n,c),Sh(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}KS.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Nh.M,a,i;return typeof r<"u"&&(n=Nh.from(r.errorCorrectionLevel,Nh.M),a=gd.from(r.version),i=pg.from(r.maskPattern),r.toSJISFunc&&Df.setToSJISFunction(r.toSJISFunc)),PR(t,a,n,i)};var sC={},Pv={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const i=e.getScale(n,a);return Math.floor((n+a.margin*2)*i)},e.qrToImageData=function(n,a,i){const o=a.modules.size,l=a.modules.data,c=e.getScale(o,i),u=Math.floor((o+i.margin*2)*c),d=i.margin*c,f=[i.color.light,i.color.dark];for(let m=0;m<u;m++)for(let h=0;h<u;h++){let g=(m*u+h)*4,v=i.color.light;if(m>=d&&h>=d&&m<u-d&&h<u-d){const y=Math.floor((m-d)/c),w=Math.floor((h-d)/c);v=f[l[y*o+w]?1:0]}n[g++]=v.r,n[g++]=v.g,n[g++]=v.b,n[g]=v.a}}})(Pv);(function(e){const t=Pv;function r(a,i,o){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(i.modules.size,c),f=u.getContext("2d"),m=f.createImageData(d,d);return t.qrToImageData(m.data,i,c),r(f,u,d),f.putImageData(m,0,0),u},e.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(i,o,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(sC);var iC={};const AR=Pv;function qw(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Ch(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function OR(e,t,r){let n="",a=0,i=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=i?Ch("M",c+r,.5+u+r):Ch("m",a,0),a=0,i=!1),c+1<t&&e[l+1]||(n+=Ch("h",o),o=0)):a++}return n}iC.render=function(t,r,n){const a=AR.getOptions(r),i=t.modules.size,o=t.modules.data,l=i+a.margin*2,c=a.color.light.a?"<path "+qw(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+qw(a.color.dark,"stroke")+' d="'+OR(o,i,a.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,m),m};const TR=GM,vg=KS,oC=sC,IR=iC;function Av(e,t,r,n,a){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!TR())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(a=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=vg.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=vg.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}Jl.create=vg.create;Jl.toCanvas=Av.bind(null,oC.render);Jl.toDataURL=Av.bind(null,oC.renderToDataURL);Jl.toString=Av.bind(null,function(e,t,r){return IR.render(e,r)});function MR(){const{user:e}=Ke(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(""),[u,d]=p.useState("todos"),[f,m]=p.useState(!1),[h,g]=p.useState(null),[v,y]=p.useState(!1),[w,b]=p.useState(null),[x,j]=p.useState(null),[N,_]=p.useState({cliente_id:"",cliente_nome_avulso:"",descricao:"",observacoes:"",data_validade:"",incluir_qr_code:!0}),[S,C]=p.useState([]);p.useEffect(()=>{if(e){const $=ee(X.ORCAMENTOS,[]),ne=ee(X.CLIENTES,[]),k=ee(X.RECEITAS,[]);r($.filter(I=>I.usuario_id===e.id)),a(ne.filter(I=>I.usuario_id===e.id&&I.ativo)),o(k.filter(I=>I.usuario_id===e.id&&I.ativo))}},[e]);const A=t.filter($=>{var M;const ne=n.find(ie=>ie.id===$.cliente_id),k=(ne==null?void 0:ne.nome)||$.cliente_nome_avulso||"Cliente não informado",I=$.numero_orcamento.toLowerCase().includes(l.toLowerCase())||k.toLowerCase().includes(l.toLowerCase())||((M=$.descricao)==null?void 0:M.toLowerCase().includes(l.toLowerCase())),B=u==="todos"||$.status===u;return I&&B}),P=$=>{switch($){case"rascunho":return"text-gray-600 bg-gray-100";case"enviado":return"text-blue-600 bg-blue-100";case"aprovado":return"text-green-600 bg-green-100";case"rejeitado":return"text-red-600 bg-red-100";case"expirado":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},O=$=>{switch($){case"rascunho":return s.jsx(Aa,{className:"h-4 w-4"});case"enviado":return s.jsx(vi,{className:"h-4 w-4"});case"aprovado":return s.jsx(hs,{className:"h-4 w-4"});case"rejeitado":return s.jsx(Yr,{className:"h-4 w-4"});case"expirado":return s.jsx(Ds,{className:"h-4 w-4"});default:return s.jsx(Gt,{className:"h-4 w-4"})}},T=$=>$.reduce((ne,k)=>ne+k.valor_total,0),U=$=>{if($.preventDefault(),!e||S.length===0)return;const ne=T(S),k=(h==null?void 0:h.numero_orcamento)||`ORC-${Date.now().toString().slice(-6)}`,I={id:(h==null?void 0:h.id)||Date.now().toString(),usuario_id:e.id,cliente_id:N.cliente_id||"",cliente_nome_avulso:N.cliente_nome_avulso,numero_orcamento:k,data_criacao:(h==null?void 0:h.data_criacao)||new Date().toISOString(),data_validade:N.data_validade,status:"rascunho",valor_total:ne,descricao:N.descricao,observacoes:N.observacoes,incluir_qr_code:N.incluir_qr_code,itens:S};let B;h?B=t.map(D=>D.id===h.id?I:D):B=[...t,I],r(B);const ie=ee(X.ORCAMENTOS,[]).filter(D=>D.usuario_id!==e.id);je(X.ORCAMENTOS,[...ie,...B]),q()},q=()=>{_({cliente_id:"",cliente_nome_avulso:"",descricao:"",observacoes:"",data_validade:"",incluir_qr_code:!0}),C([]),g(null),m(!1)},K=$=>{_({cliente_id:$.cliente_id||"",cliente_nome_avulso:$.cliente_nome_avulso||"",descricao:$.descricao||"",observacoes:$.observacoes||"",data_validade:$.data_validade.split("T")[0],incluir_qr_code:$.incluir_qr_code!==!1}),C($.itens),g($),m(!0)},E=$=>{if(window.confirm("Tem certeza que deseja excluir este orçamento?")){const ne=t.filter(B=>B.id!==$);r(ne);const I=ee(X.ORCAMENTOS,[]).filter(B=>B.id!==$);je(X.ORCAMENTOS,I)}},F=($,ne)=>{const k=t.map(M=>M.id===$?{...M,status:ne}:M);r(k);const B=ee(X.ORCAMENTOS,[]).map(M=>M.id===$?{...M,status:ne}:M);je(X.ORCAMENTOS,B)},L=()=>{const $={id:Date.now().toString(),orcamento_id:"",receita_id:"",quantidade:1,valor_unitario:0,valor_total:0};C([...S,$])},z=$=>{C(S.filter((ne,k)=>k!==$))},W=($,ne,k)=>{const I=[...S];if(I[$]={...I[$],[ne]:k},(ne==="quantidade"||ne==="valor_unitario")&&(I[$].valor_total=I[$].quantidade*I[$].valor_unitario),ne==="receita_id"){const B=i.find(M=>M.id===k);B&&B.preco_sugerido&&(I[$].valor_unitario=B.preco_sugerido,I[$].valor_total=I[$].quantidade*B.preco_sugerido)}C(I)},G=$=>n.find(ne=>ne.id===$),Y=$=>i.find(ne=>ne.id===$),rt=async $=>{try{const ne=G($.cliente_id),k=(ne==null?void 0:ne.nome)||$.cliente_nome_avulso||"Cliente não informado";let I=`🧁 *ORÇAMENTO DOCECALC*

`;I+=`📄 *Número:* ${$.numero_orcamento}
`,I+=`👤 *Cliente:* ${k}
`,I+=`📅 *Válido até:* ${new Date($.data_validade).toLocaleDateString("pt-BR")}

`,$.descricao&&(I+=`📝 *Descrição:* ${$.descricao}

`),I+=`📋 *ITENS:*
`,$.itens.forEach((M,ie)=>{const D=Y(M.receita_id);I+=`${ie+1}. ${D==null?void 0:D.nome} (${M.quantidade}x) - R$ ${M.valor_total.toFixed(2)}
`}),I+=`
💰 *VALOR TOTAL: R$ ${$.valor_total.toFixed(2)}*

`,$.observacoes&&(I+=`📝 *Observações:* ${$.observacoes}

`),I+="✨ _Orçamento gerado pelo DoceCalc_";const B=`https://wa.me/?text=${encodeURIComponent(I)}`;return $.incluir_qr_code?await Jl.toDataURL(B,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}):B}catch(ne){return console.error("Erro ao gerar QR Code:",ne),null}},ve=async $=>{const ne=await rt($);ne&&typeof ne=="string"&&window.open(ne,"_blank")},ke=async $=>{try{const ne=await rt($);ne&&typeof ne=="string"&&ne.startsWith("data:")?(b(ne),j($),y(!0)):ve($)}catch(ne){console.error("Erro ao gerar QR Code:",ne),ve($)}},Xe={total:t.length,rascunho:t.filter($=>$.status==="rascunho").length,enviado:t.filter($=>$.status==="enviado").length,aprovado:t.filter($=>$.status==="aprovado").length,valorTotal:t.reduce(($,ne)=>$+ne.valor_total,0)};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Orçamentos"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Crie e gerencie orçamentos para seus clientes"})]})]}),s.jsxs("button",{onClick:()=>m(!0),className:"flex items-center justify-center space-x-2 bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors",children:[s.jsx(Or,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Orçamento"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Xe.total})]}),s.jsx(Gt,{className:"h-8 w-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rascunhos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Xe.rascunho})]}),s.jsx(Aa,{className:"h-8 w-8 text-gray-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Enviados"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Xe.enviado})]}),s.jsx(vi,{className:"h-8 w-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aprovados"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Xe.aprovado})]}),s.jsx(hs,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",Xe.valorTotal.toFixed(2)]})]}),s.jsx(Ma,{className:"h-8 w-8 text-green-500"})]})})]}),s.jsx("div",{className:"bg-card p-4 lg:p-6 rounded-lg shadow-md mb-6 lg:mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar orçamentos...",value:l,onChange:$=>c($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("select",{value:u,onChange:$=>d($.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"todos",children:"Todos os status"}),s.jsx("option",{value:"rascunho",children:"Rascunho"}),s.jsx("option",{value:"enviado",children:"Enviado"}),s.jsx("option",{value:"aprovado",children:"Aprovado"}),s.jsx("option",{value:"rejeitado",children:"Rejeitado"}),s.jsx("option",{value:"expirado",children:"Expirado"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(Gt,{className:"h-5 w-5"}),s.jsxs("span",{children:[A.length," orçamentos encontrados"]})]})]})}),A.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Gt,{className:"h-16 w-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:t.length===0?"Nenhum orçamento criado":"Nenhum orçamento encontrado"}),s.jsx("p",{className:"text-gray-500 mb-6",children:t.length===0?"Comece criando seu primeiro orçamento!":"Tente ajustar os filtros para encontrar o que procura."}),t.length===0&&s.jsx("button",{onClick:()=>m(!0),className:"bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors",children:"Criar primeiro orçamento"})]}):s.jsx("div",{className:"space-y-4",children:A.map($=>{const ne=G($.cliente_id),k=new Date($.data_validade)<new Date;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Gt,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.numero_orcamento}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Nr,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:(ne==null?void 0:ne.nome)||$.cliente_nome_avulso||"Cliente não informado"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${P(k&&$.status==="enviado"?"expirado":$.status)}`,children:[O(k&&$.status==="enviado"?"expirado":$.status),s.jsx("span",{className:"ml-1",children:k&&$.status==="enviado"?"Expirado":$.status})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>ke($),className:"text-green-600 hover:text-green-800 p-1",title:"Compartilhar no WhatsApp",children:s.jsx(On,{className:"h-4 w-4"})}),$.status==="rascunho"&&s.jsx("button",{onClick:()=>F($.id,"enviado"),className:"text-blue-600 hover:text-blue-800 p-1",title:"Enviar orçamento",children:s.jsx(vi,{className:"h-4 w-4"})}),$.status==="enviado"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>F($.id,"aprovado"),className:"text-green-600 hover:text-green-800 p-1",title:"Aprovar orçamento",children:s.jsx(hs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>F($.id,"rejeitado"),className:"text-red-600 hover:text-red-800 p-1",title:"Rejeitar orçamento",children:s.jsx(Yr,{className:"h-4 w-4"})})]}),s.jsx("button",{onClick:()=>K($),className:"text-gray-400 hover:text-blue-500 transition-colors p-1",children:s.jsx(Aa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>E($.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:s.jsx(Un,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Data de Criação"}),s.jsx("p",{className:"font-medium",children:new Date($.data_criacao).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Válido até"}),s.jsx("p",{className:`font-medium ${k?"text-red-600":""}`,children:new Date($.data_validade).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",$.valor_total.toFixed(2)]})]})]}),$.descricao&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Descrição"}),s.jsx("p",{className:"text-gray-900",children:$.descricao})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Itens (",$.itens.length,")"]}),s.jsxs("div",{className:"space-y-2",children:[$.itens.slice(0,3).map(I=>{const B=Y(I.receita_id);return s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{children:[B==null?void 0:B.nome," x",I.quantidade]}),s.jsxs("span",{className:"font-medium",children:["R$ ",I.valor_total.toFixed(2)]})]},I.id)}),$.itens.length>3&&s.jsxs("p",{className:"text-sm text-gray-500",children:["+",$.itens.length-3," itens adicionais"]})]})]})]},$.id)})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full m-4 max-h-screen overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:h?"Editar Orçamento":"Novo Orçamento"}),s.jsxs("form",{onSubmit:U,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),s.jsxs("select",{value:N.cliente_id,onChange:$=>_({...N,cliente_id:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Orçamento Avulso (sem cliente)"}),n.map($=>s.jsx("option",{value:$.id,children:$.nome},$.id))]})]}),!N.cliente_id&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Cliente (Opcional)"}),s.jsx("input",{type:"text",value:N.cliente_nome_avulso,onChange:$=>_({...N,cliente_nome_avulso:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: Maria Silva"})]}),s.jsxs("div",{className:N.cliente_id?"":"md:col-start-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Válido até *"}),s.jsx("input",{type:"date",value:N.data_validade,onChange:$=>_({...N,data_validade:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),s.jsx("input",{type:"text",value:N.descricao,onChange:$=>_({...N,descricao:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: Festa de aniversário - 50 pessoas"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Itens do Orçamento *"}),s.jsxs("button",{type:"button",onClick:L,className:"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{children:"Adicionar Item"})]})]}),s.jsx("div",{className:"space-y-4",children:S.map(($,ne)=>s.jsx("div",{className:"border border-gray-200 p-4 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receita"}),s.jsxs("select",{value:$.receita_id,onChange:k=>W(ne,"receita_id",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma receita"}),i.map(k=>s.jsx("option",{value:k.id,children:k.nome},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade"}),s.jsx("input",{type:"number",min:"1",value:$.quantidade,onChange:k=>W(ne,"quantidade",parseInt(k.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Unitário (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:$.valor_unitario,onChange:k=>W(ne,"valor_unitario",parseFloat(k.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total"}),s.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg",children:["R$ ",$.valor_total.toFixed(2)]})]}),s.jsx("button",{type:"button",onClick:()=>z(ne),className:"text-red-500 hover:text-red-700 p-2",children:s.jsx(Un,{className:"h-4 w-4"})})]})]})},ne))}),S.length>0&&s.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total do Orçamento:"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",T(S).toFixed(2)]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),s.jsx("textarea",{value:N.observacoes,onChange:$=>_({...N,observacoes:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Informações adicionais, condições de pagamento, etc."})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(on,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:N.incluir_qr_code,onChange:$=>_({...N,incluir_qr_code:$.target.checked}),className:"mr-3 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Incluir QR Code para WhatsApp"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Facilita o compartilhamento do orçamento via WhatsApp"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:S.length===0,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Salvar Alterações":"Criar Orçamento"})]})]})]})}),v&&w&&x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full m-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compartilhar no WhatsApp"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Escaneie o QR Code com seu celular para compartilhar o orçamento"," ",s.jsx("strong",{children:x.numero_orcamento})," no WhatsApp"]}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("img",{src:w,alt:"QR Code WhatsApp",className:"border border-gray-200 rounded-lg"})}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsxs("button",{onClick:()=>ve(x),className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[s.jsx(On,{className:"h-4 w-4"}),s.jsx("span",{children:"Abrir WhatsApp"})]}),s.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Fechar"})]})]})})})]})})}function RR(){const{user:e}=Ke(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState("30");p.useEffect(()=>{if(e){const x=ee(X.ORCAMENTOS,[]),j=ee(X.CLIENTES,[]),N=ee(X.RECEITAS,[]);r(x.filter(_=>_.usuario_id===e.id)),a(j.filter(_=>_.usuario_id===e.id&&_.ativo)),o(N.filter(_=>_.usuario_id===e.id&&_.ativo))}},[e]);const u=()=>{const x=new Date,j=parseInt(l);return new Date(x.getTime()-j*24*60*60*1e3)},d=t.filter(x=>new Date(x.data_criacao)>=u()),f=d.filter(x=>x.status==="aprovado"),m={totalVendas:f.reduce((x,j)=>x+j.valor_total,0),totalOrcamentos:d.length,orcamentosAprovados:f.length,taxaAprovacao:d.length>0?f.length/d.length*100:0,ticketMedio:f.length>0?f.reduce((x,j)=>x+j.valor_total,0)/f.length:0,clientesAtivos:new Set(f.map(x=>x.cliente_id)).size},h=()=>{const x={};return f.forEach(j=>{j.itens.forEach(N=>{const _=i.find(S=>S.id===N.receita_id);_&&(x[N.receita_id]||(x[N.receita_id]={nome:_.nome,quantidade:0,valor:0}),x[N.receita_id].quantidade+=N.quantidade,x[N.receita_id].valor+=N.valor_total)})}),Object.values(x).sort((j,N)=>N.valor-j.valor).slice(0,5)},g=()=>{const x={};return f.forEach(j=>{const N=n.find(_=>_.id===j.cliente_id);N&&(x[j.cliente_id]||(x[j.cliente_id]={nome:N.nome,valor:0,pedidos:0}),x[j.cliente_id].valor+=j.valor_total,x[j.cliente_id].pedidos+=1)}),Object.values(x).sort((j,N)=>N.valor-j.valor).slice(0,5)},y=(()=>{const x=new Date,j=[];for(let N=29;N>=0;N--){const _=new Date(x.getTime()-N*24*60*60*1e3),S=_.toISOString().split("T")[0],C=f.filter(A=>A.data_criacao.split("T")[0]===S).reduce((A,P)=>A+P.valor_total,0);j.push({data:_.getDate()+"/"+(_.getMonth()+1),valor:C})}return j})(),w=Math.max(...y.map(x=>x.valor)),b=()=>{const x={periodo:`${l} dias`,dataGeracao:new Date().toLocaleDateString("pt-BR"),metricas:m,produtosMaisVendidos:h(),clientesMaisValiosos:g(),vendasDiarias:y},j="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(x,null,2)),N=document.createElement("a");N.setAttribute("href",j),N.setAttribute("download",`relatorio-${new Date().toISOString().split("T")[0]}.json`),document.body.appendChild(N),N.click(),N.remove()};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Relatórios & Analytics"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Acompanhe o desempenho do seu negócio"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"7",children:"Últimos 7 dias"}),s.jsx("option",{value:"30",children:"Últimos 30 dias"}),s.jsx("option",{value:"90",children:"Últimos 90 dias"}),s.jsx("option",{value:"365",children:"Último ano"})]}),s.jsxs("button",{onClick:b,className:"flex items-center space-x-2 bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors",children:[s.jsx($s,{className:"h-5 w-5"}),s.jsx("span",{children:"Exportar"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Vendas"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",m.totalVendas.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length," orçamentos aprovados"]})]}),s.jsx(Ma,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taxa de Aprovação"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[m.taxaAprovacao.toFixed(1),"%"]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.orcamentosAprovados," de ",m.totalOrcamentos," orçamentos"]})]}),s.jsx(Cr,{className:"h-8 w-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ticket Médio"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["R$ ",m.ticketMedio.toFixed(2)]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Valor médio por pedido"})]}),s.jsx(Ti,{className:"h-8 w-8 text-purple-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:m.clientesAtivos}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Clientes com pedidos"})]}),s.jsx(_s,{className:"h-8 w-8 text-orange-500"})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Vendas Diárias - Últimos 30 dias"}),s.jsx("div",{className:"space-y-2",children:y.map((x,j)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-16 text-sm text-gray-600 text-right",children:x.data}),s.jsxs("div",{className:"flex-1 flex items-center",children:[s.jsx("div",{className:"bg-purple-500 h-6 rounded",style:{width:w>0?`${x.valor/w*100}%`:"0%",minWidth:x.valor>0?"20px":"0px"}}),s.jsxs("span",{className:"ml-3 text-sm font-medium text-gray-900",children:["R$ ",x.valor.toFixed(2)]})]})]},j))})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Produtos Mais Vendidos"}),h().length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Yl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Nenhuma venda no período"})]}):s.jsx("div",{className:"space-y-4",children:h().map((x,j)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-purple-600",children:j+1})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:x.nome}),s.jsxs("p",{className:"text-sm text-gray-500",children:[x.quantidade," unidades vendidas"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",x.valor.toFixed(2)]})})]},j))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Clientes Mais Valiosos"}),g().length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(_s,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Nenhum cliente no período"})]}):s.jsx("div",{className:"space-y-4",children:g().map((x,j)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-blue-600",children:j+1})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:x.nome}),s.jsxs("p",{className:"text-sm text-gray-500",children:[x.pedidos," pedidos realizados"]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",x.valor.toFixed(2)]})})]},j))})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-8",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:["Resumo do Período (",l," dias)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:f.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Vendas Realizadas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:new Set(f.map(x=>x.cliente_id)).size}),s.jsx("div",{className:"text-sm text-gray-600",children:"Clientes Únicos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:f.reduce((x,j)=>x+j.itens.length,0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Itens Vendidos"})]})]})]})]})})}function DR({onDocumentProcessed:e,onClose:t,isOpen:r,title:n="Upload de Documento Fiscal",description:a="Faça upload de notas fiscais, extratos ou comprovantes para análise automática"}){const[i,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(""),[f,m]=p.useState(""),h=p.useRef(null),g=p.useRef(null);if(!r)return null;const v=async j=>{if(!j.type.startsWith("image/")){m("Por favor, selecione apenas arquivos de imagem (JPG, PNG, etc).");return}if(j.size>10*1024*1024){m("Arquivo muito grande. O tamanho máximo é de 10MB.");return}o(!0),m("");try{d("Analisando documento...");const N=await zM(j);d("Documento processado com sucesso!"),setTimeout(()=>{e(N),x()},1e3)}catch(N){console.error("Erro ao processar documento:",N),m(N instanceof Error?N.message:"Erro ao processar o documento"),o(!1),d("")}},y=j=>{j.preventDefault(),j.stopPropagation(),j.type==="dragenter"||j.type==="dragover"?c(!0):j.type==="dragleave"&&c(!1)},w=j=>{j.preventDefault(),j.stopPropagation(),c(!1),j.dataTransfer.files&&j.dataTransfer.files[0]&&v(j.dataTransfer.files[0])},b=j=>{j.target.files&&j.target.files[0]&&v(j.target.files[0])},x=()=>{i||(m(""),d(""),c(!1),t())};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n}),!i&&s.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Yr,{className:"h-6 w-6"})})]}),s.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:a}),f&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(Of,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-red-700 text-sm",children:f})]}),i?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bv,{className:"h-12 w-12 text-purple-500 mx-auto mb-4 animate-spin"}),s.jsx("p",{className:"text-gray-600 mb-2",children:u}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full w-2/3 animate-pulse"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Processando com inteligência artificial..."})]}):s.jsxs("div",{children:[s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${l?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-400 hover:bg-gray-50"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:w,children:[s.jsx(Gt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Arraste um documento aqui ou clique para selecionar"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Formatos aceitos: JPG, PNG, GIF, WEBP (máx. 10MB)"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("button",{onClick:()=>{var j;return(j=h.current)==null?void 0:j.click()},className:"w-full flex items-center justify-center space-x-2 bg-purple-500 text-white px-4 py-3 rounded-lg hover:bg-purple-600 transition-colors",children:[s.jsx(Ra,{className:"h-5 w-5"}),s.jsx("span",{children:"Selecionar do Computador"})]}),s.jsxs("button",{onClick:()=>{var j;return(j=g.current)==null?void 0:j.click()},className:"w-full flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(Ii,{className:"h-5 w-5"}),s.jsx("span",{children:"Tirar Foto"})]})]}),s.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:b,className:"hidden"}),s.jsx("input",{ref:g,type:"file",accept:"image/*",capture:"environment",onChange:b,className:"hidden"}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2 text-sm",children:"💡 Dicas para melhor resultado:"}),s.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[s.jsx("li",{children:"• Certifique-se de que o documento está bem iluminado"}),s.jsx("li",{children:"• Evite sombras e reflexos"}),s.jsx("li",{children:"• Mantenha o documento reto e completo na foto"}),s.jsx("li",{children:"• Use uma resolução alta para textos pequenos"})]})]})]})]})})})}function $R({userId:e,onDocumentsChange:t}){const[r,n]=p.useState([]),[a,i]=p.useState(!1),[o,l]=p.useState(null);p.useEffect(()=>{const y=ee(X.DOCUMENTOS_FISCAIS,[]).filter(w=>w.usuario_id===e);n(y),t==null||t(y)},[e,t]);const c=v=>{const y={...v,id:Date.now().toString(),usuario_id:e,data_upload:new Date().toISOString()},b=[...ee(X.DOCUMENTOS_FISCAIS,[]),y];wh(X.DOCUMENTOS_FISCAIS,b);const x=b.filter(j=>j.usuario_id===e);n(x),t==null||t(x),i(!1)},u=v=>{const w=ee(X.DOCUMENTOS_FISCAIS,[]).filter(x=>x.id!==v);wh(X.DOCUMENTOS_FISCAIS,w);const b=w.filter(x=>x.usuario_id===e);n(b),t==null||t(b)},d=v=>{l(v)},f=v=>{const w=ee(X.DOCUMENTOS_FISCAIS,[]).map(x=>x.id===v.id?v:x);wh(X.DOCUMENTOS_FISCAIS,w);const b=w.filter(x=>x.usuario_id===e);n(b),t==null||t(b),l(null)},m=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),h=v=>new Date(v).toLocaleDateString("pt-BR"),g=v=>({nota_fiscal:"Nota Fiscal",extrato:"Extrato Bancário",comprovante:"Comprovante",outro:"Outro"})[v]||"Documento";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos Fiscais"}),s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{children:"Adicionar Documento"})]})]}),r.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(Gt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Nenhum documento fiscal cadastrado"}),s.jsx("button",{onClick:()=>i(!0),className:"bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:"Adicionar Primeiro Documento"})]}):s.jsx("div",{className:"grid gap-4",children:r.map(v=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v.tipo==="nota_fiscal"?"bg-blue-100 text-blue-800":v.tipo==="extrato"?"bg-green-100 text-green-800":v.tipo==="comprovante"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:g(v.tipo)}),v.numero_documento&&s.jsxs("span",{className:"text-sm text-gray-600",children:["#",v.numero_documento]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ma,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"font-semibold text-green-600",children:m(v.valor_total)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yv,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:h(v.data)})]}),v.empresa_emitente&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rM,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600 truncate",children:v.empresa_emitente})]})]}),v.itens&&v.itens.length>0&&s.jsxs("div",{className:"text-sm text-gray-600",children:[v.itens.length," ",v.itens.length===1?"item":"itens"," registrados"]}),v.observacoes&&s.jsx("div",{className:"mt-2 text-sm text-gray-600 bg-gray-50 p-2 rounded",children:v.observacoes})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>d(v),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Editar",children:s.jsx(Aa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>u(v.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Excluir",children:s.jsx(Un,{className:"h-4 w-4"})})]})]})},v.id))}),s.jsx(DR,{isOpen:a,onClose:()=>i(!1),onDocumentProcessed:c}),o&&s.jsx(LR,{document:o,onSave:f,onClose:()=>l(null)})]})}function LR({document:e,onSave:t,onClose:r}){const[n,a]=p.useState({valor_total:e.valor_total,data:e.data,empresa_emitente:e.empresa_emitente||"",numero_documento:e.numero_documento||"",observacoes:e.observacoes||""}),i=o=>{o.preventDefault(),t({...e,...n,empresa_emitente:n.empresa_emitente||void 0,numero_documento:n.numero_documento||void 0,observacoes:n.observacoes||void 0})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Editar Documento"}),s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Total"}),s.jsx("input",{type:"number",step:"0.01",value:n.valor_total,onChange:o=>a(l=>({...l,valor_total:parseFloat(o.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),s.jsx("input",{type:"date",value:n.data,onChange:o=>a(l=>({...l,data:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa"}),s.jsx("input",{type:"text",value:n.empresa_emitente,onChange:o=>a(l=>({...l,empresa_emitente:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número do Documento"}),s.jsx("input",{type:"text",value:n.numero_documento,onChange:o=>a(l=>({...l,numero_documento:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),s.jsx("textarea",{value:n.observacoes,onChange:o=>a(l=>({...l,observacoes:o.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"submit",className:"flex-1 bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-colors",children:"Salvar"}),s.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})})}function lC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=lC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=lC(e))&&(n&&(n+=" "),n+=t);return n}var $f={},cC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(cC);var Ov={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ov);var Tv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Tv);var Lf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const u=r[i];l?u==="\\"&&i+1<a?(i++,o+=r[i]):u===l?l="":o+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(o),o=""):o+=u:u==="["?(c=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,i++}return o&&n.push(o),n}e.toPath=t})(Lf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cC,r=Ov,n=Tv,a=Lf;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})($f);var FR=$f.get;const Ss=Gn(FR);var uC={exports:{}},Ce={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv=Symbol.for("react.transitional.element"),Mv=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Uf=Symbol.for("react.consumer"),qf=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),Vf=Symbol.for("react.suspense"),Kf=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),Hf=Symbol.for("react.lazy"),BR=Symbol.for("react.view_transition"),zR=Symbol.for("react.client.reference");function Rr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Iv:switch(e=e.type,e){case Ff:case zf:case Bf:case Vf:case Kf:case BR:return e;default:switch(e=e&&e.$$typeof,e){case qf:case Wf:case Hf:case Gf:return e;case Uf:return e;default:return t}}case Mv:return t}}}Ce.ContextConsumer=Uf;Ce.ContextProvider=qf;Ce.Element=Iv;Ce.ForwardRef=Wf;Ce.Fragment=Ff;Ce.Lazy=Hf;Ce.Memo=Gf;Ce.Portal=Mv;Ce.Profiler=zf;Ce.StrictMode=Bf;Ce.Suspense=Vf;Ce.SuspenseList=Kf;Ce.isContextConsumer=function(e){return Rr(e)===Uf};Ce.isContextProvider=function(e){return Rr(e)===qf};Ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iv};Ce.isForwardRef=function(e){return Rr(e)===Wf};Ce.isFragment=function(e){return Rr(e)===Ff};Ce.isLazy=function(e){return Rr(e)===Hf};Ce.isMemo=function(e){return Rr(e)===Gf};Ce.isPortal=function(e){return Rr(e)===Mv};Ce.isProfiler=function(e){return Rr(e)===zf};Ce.isStrictMode=function(e){return Rr(e)===Bf};Ce.isSuspense=function(e){return Rr(e)===Vf};Ce.isSuspenseList=function(e){return Rr(e)===Kf};Ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ff||e===zf||e===Bf||e===Vf||e===Kf||typeof e=="object"&&e!==null&&(e.$$typeof===Hf||e.$$typeof===Gf||e.$$typeof===qf||e.$$typeof===Uf||e.$$typeof===Wf||e.$$typeof===zR||e.getModuleId!==void 0)};Ce.typeOf=Rr;uC.exports=Ce;var UR=uC.exports,xt=e=>e===0?0:e>0?1:-1,Zt=e=>typeof e=="number"&&e!=+e,ls=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!Zt(e),un=e=>re(e)||typeof e=="string",qR=0,Pl=e=>{var t=++qR;return"".concat(e||"").concat(t)},It=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return n;var i;if(ls(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Zt(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},dC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ne(e,t,r){return re(e)&&re(t)?e+r*(t-e):t}function fC(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ss(n,t))===r)}var De=e=>e===null||typeof e>"u",ec=e=>De(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),WR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Rv(e){if(typeof e!="string")return!1;var t=WR;return t.includes(e)}var VR=["viewBox","children"],Ww=["points","pathLength"],kh={svg:VR,polygon:Ww,polyline:Ww},Dv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Rv(a)&&(n[a]=i=>r[a](r,i))}),n},KR=(e,t,r)=>n=>(e(t,r,n),null),tc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Rv(a)&&typeof i=="function"&&(n||(n={}),n[a]=KR(i,t,r))}),n},GR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function mC(e){if(typeof e!="string")return!1;var t=GR;return t.includes(e)}function Dr(e){var t=Object.entries(e).filter(r=>{var[n]=r;return mC(n)});return Object.fromEntries(t)}var Vw=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Kw=null,Eh=null,hC=e=>{if(e===Kw&&Array.isArray(Eh))return Eh;var t=[];return p.Children.forEach(e,r=>{De(r)||(UR.isFragment(r)?t=t.concat(hC(r.props.children)):t.push(r))}),Eh=t,Kw=e,t};function $v(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Vw(a)):n=[Vw(t)],hC(e).forEach(a=>{var i=Ss(a,"type.displayName")||Ss(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var Yf=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,HR=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(kh==null?void 0:kh[n]))!==null&&a!==void 0?a:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||mC(t)),c=!!r&&Rv(t);return o||l||c},$e=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var o;HR((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},YR=["children","width","height","viewBox","className","style","title","desc"];function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(null,arguments)}function XR(e,t){if(e==null)return{};var r,n,a=QR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lv=p.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=XR(e,YR),f=i||{width:n,height:a,x:0,y:0},m=fe("recharts-surface",o);return p.createElement("svg",xg({},$e(d,!0,"svg"),{className:m,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),JR=["children","className"];function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(null,arguments)}function ZR(e,t){if(e==null)return{};var r,n,a=eD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ye=p.forwardRef((e,t)=>{var{children:r,className:n}=e,a=ZR(e,JR),i=fe("recharts-layer",n);return p.createElement("g",yg({className:i},$e(a,!0),{ref:t}),r)}),pC=p.createContext(null),tD=()=>p.useContext(pC);function Ae(e){return function(){return e}}const gC=Math.cos,vd=Math.sin,Qr=Math.sqrt,xd=Math.PI,Xf=2*xd,bg=Math.PI,wg=2*bg,ts=1e-6,rD=wg-ts;function vC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vC;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class aD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vC:nD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>ts)if(!(Math.abs(f*c-u*d)>ts)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,g=a-l,v=c*c+u*u,y=h*h+g*g,w=Math.sqrt(v),b=Math.sqrt(m),x=i*Math.tan((bg-Math.acos((v+m-y)/(2*w*b)))/2),j=x/b,N=x/w;Math.abs(j-1)>ts&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ts||Math.abs(this._y1-d)>ts)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%wg+wg),m>rD?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>ts&&this._append`A${n},${n},0,${+(m>=bg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Fv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new aD(t)}function Bv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xC(e){this._context=e}xC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qf(e){return new xC(e)}function yC(e){return e[0]}function bC(e){return e[1]}function wC(e,t){var r=Ae(!0),n=null,a=Qf,i=null,o=Fv(l);e=typeof e=="function"?e:e===void 0?yC:Ae(e),t=typeof t=="function"?t:t===void 0?bC:Ae(t);function l(c){var u,d=(c=Bv(c)).length,f,m=!1,h;for(n==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ae(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ae(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ae(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Kc(e,t,r){var n=null,a=Ae(!0),i=null,o=Qf,l=null,c=Fv(u);e=typeof e=="function"?e:e===void 0?yC:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bC:Ae(+r);function u(f){var m,h,g,v=(f=Bv(f)).length,y,w=!1,b,x=new Array(v),j=new Array(v);for(i==null&&(l=o(b=c())),m=0;m<=v;++m){if(!(m<v&&a(y=f[m],m,f))===w)if(w=!w)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=h;--g)l.point(x[g],j[g]);l.lineEnd(),l.areaEnd()}w&&(x[m]=+e(y,m,f),j[m]=+t(y,m,f),l.point(n?+n(y,m,f):x[m],r?+r(y,m,f):j[m]))}if(b)return l=null,b+""||null}function d(){return wC().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ae(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class jC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function sD(e){return new jC(e,!0)}function iD(e){return new jC(e,!1)}const zv={draw(e,t){const r=Qr(t/xd);e.moveTo(r,0),e.arc(0,0,r,0,Xf)}},oD={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},NC=Qr(1/3),lD=NC*2,cD={draw(e,t){const r=Qr(t/lD),n=r*NC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uD={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},dD=.8908130915292852,_C=vd(xd/10)/vd(7*xd/10),fD=vd(Xf/10)*_C,mD=-gC(Xf/10)*_C,hD={draw(e,t){const r=Qr(t*dD),n=fD*r,a=mD*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Xf*i/5,l=gC(o),c=vd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Ph=Qr(3),pD={draw(e,t){const r=-Qr(t/(Ph*3));e.moveTo(0,r*2),e.lineTo(-Ph*r,-r),e.lineTo(Ph*r,-r),e.closePath()}},pr=-.5,gr=Qr(3)/2,jg=1/Qr(12),gD=(jg/2+1)*3,vD={draw(e,t){const r=Qr(t/gD),n=r/2,a=r*jg,i=n,o=r*jg+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(pr*n-gr*a,gr*n+pr*a),e.lineTo(pr*i-gr*o,gr*i+pr*o),e.lineTo(pr*l-gr*c,gr*l+pr*c),e.lineTo(pr*n+gr*a,pr*a-gr*n),e.lineTo(pr*i+gr*o,pr*o-gr*i),e.lineTo(pr*l+gr*c,pr*c-gr*l),e.closePath()}};function xD(e,t){let r=null,n=Fv(a);e=typeof e=="function"?e:Ae(e||zv),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function yd(){}function bd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function SC(e){this._context=e}SC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yD(e){return new SC(e)}function CC(e){this._context=e}CC.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bD(e){return new CC(e)}function kC(e){this._context=e}kC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:bd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wD(e){return new kC(e)}function EC(e){this._context=e}EC.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jD(e){return new EC(e)}function Gw(e){return e<0?-1:1}function Hw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(Gw(i)+Gw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Yw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ah(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function wd(e){this._context=e}wd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ah(this,this._t0,Yw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ah(this,Yw(this,r=Hw(this,e,t)),r);break;default:Ah(this,this._t0,r=Hw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PC(e){this._context=new AC(e)}(PC.prototype=Object.create(wd.prototype)).point=function(e,t){wd.prototype.point.call(this,t,e)};function AC(e){this._context=e}AC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ND(e){return new wd(e)}function _D(e){return new PC(e)}function OC(e){this._context=e}OC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Xw(e),a=Xw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Xw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function SD(e){return new OC(e)}function Jf(e,t){this._context=e,this._t=t}Jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function CD(e){return new Jf(e,.5)}function kD(e){return new Jf(e,0)}function ED(e){return new Jf(e,1)}function Bi(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Ng(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function PD(e,t){return e[t]}function AD(e){const t=[];return t.key=e,t}function OD(){var e=Ae([]),t=Ng,r=Bi,n=PD;function a(i){var o=Array.from(e.apply(this,arguments),AD),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Bv(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Ng:typeof i=="function"?i:Ae(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Bi,a):r},a}function TD(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Bi(e,t)}}function ID(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Bi(e,t)}}function MD(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,g=0;g<l;++g){var v=e[t[g]],y=v[n][1]||0,w=v[n-1][1]||0;h+=y-w}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Bi(e,t)}}var RD=["type","size","sizeType"];function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(null,arguments)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){DD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DD(e,t,r){return(t=$D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $D(e){var t=LD(e,"string");return typeof t=="symbol"?t:t+""}function LD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FD(e,t){if(e==null)return{};var r,n,a=BD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TC={symbolCircle:zv,symbolCross:oD,symbolDiamond:cD,symbolSquare:uD,symbolStar:hD,symbolTriangle:pD,symbolWye:vD},zD=Math.PI/180,UD=e=>{var t="symbol".concat(ec(e));return TC[t]||zv},qD=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*zD;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},WD=(e,t)=>{TC["symbol".concat(ec(e))]=t},Uv=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=FD(e,RD),i=Jw(Jw({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=UD(o),h=xD().type(m).size(qD(r,n,o));return h()},{className:c,cx:u,cy:d}=i,f=$e(i,!0);return u===+u&&d===+d&&r===+r?p.createElement("path",_g({},f,{className:fe("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};Uv.registerSymbol=WD;function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(null,arguments)}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qv(e,t,r){return(t=KD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KD(e){var t=GD(e,"string");return typeof t=="symbol"?t:t+""}function GD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vr=32;class Wv extends p.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=vr/2,i=vr/6,o=vr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:vr,y2:a,className:"recharts-legend-icon"});if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(vr,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var u=VD({},t);return delete u.legendIcon,p.cloneElement(t.legendIcon,u)}return p.createElement(Uv,{fill:l,cx:a,cy:a,size:vr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:vr,height:vr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var m=d.formatter||a,h=fe({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?i:d.color,v=m?m(d.value,d,f):d.value;return p.createElement("li",Sg({className:h,style:c,key:"legend-item-".concat(f)},tc(this.props,d,f)),p.createElement(Lv,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},this.renderIcon(d,o)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}qv(Wv,"displayName","Legend");qv(Wv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var IC={},MC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(MC);var Vv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Vv);var RC={},Zf={},DC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(DC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DC;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Zf);var $C={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})($C);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zf,r=$C;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(RC);var LC={},FC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$f;function r(n){return function(a){return t.get(a,n)}}e.property=r})(FC);var BC={},Oh={},Th={},Kv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Kv);var Gv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Gv);var Hv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Hv);var ej;function HD(){return ej||(ej=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yv(),r=Kv,n=Gv,a=Hv;function i(f,m,h){return typeof h!="function"?t.isMatch(f,m):o(f,m,function g(v,y,w,b,x,j){const N=h(v,y,w,b,x,j);return N!==void 0?!!N:o(v,y,g,j)},new Map)}function o(f,m,h,g){if(m===f)return!0;switch(typeof m){case"object":return l(f,m,h,g);case"function":return Object.keys(m).length>0?o(f,{...m},h,g):a.eq(f,m);default:return r.isObject(f)?typeof m=="string"?m==="":!0:a.eq(f,m)}}function l(f,m,h,g){if(m==null)return!0;if(Array.isArray(m))return u(f,m,h,g);if(m instanceof Map)return c(f,m,h,g);if(m instanceof Set)return d(f,m,h,g);const v=Object.keys(m);if(f==null)return v.length===0;if(v.length===0)return!0;if(g&&g.has(m))return g.get(m)===f;g&&g.set(m,f);try{for(let y=0;y<v.length;y++){const w=v[y];if(!n.isPrimitive(f)&&!(w in f)||m[w]===void 0&&f[w]!==void 0||m[w]===null&&f[w]!==null||!h(f[w],m[w],w,f,m,g))return!1}return!0}finally{g&&g.delete(m)}}function c(f,m,h,g){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,y]of m.entries()){const w=f.get(v);if(h(w,y,v,f,m,g)===!1)return!1}return!0}function u(f,m,h,g){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let y=0;y<m.length;y++){const w=m[y];let b=!1;for(let x=0;x<f.length;x++){if(v.has(x))continue;const j=f[x];let N=!1;if(h(j,w,y,f,m,g)&&(N=!0),N){v.add(x),b=!0;break}}if(!b)return!1}return!0}function d(f,m,h,g){return m.size===0?!0:f instanceof Set?u([...f],[...m],h,g):!1}e.isMatchWith=i,e.isSetMatch=d}(Th)),Th}var tj;function Yv(){return tj||(tj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HD();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Oh)),Oh}var zC={},Xv={},UC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(UC);var Qv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Qv);var Jv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",g="[object Error]",v="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",b="[object Uint16Array]",x="[object Uint32Array]",j="[object BigUint64Array]",N="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",C="[object BigInt64Array]",A="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=v,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=A,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=S,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=x,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=w})(Jv);var qC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(qC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UC,r=Qv,n=Jv,a=Gv,i=qC;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,m,h=new Map,g=void 0){const v=g==null?void 0:g(d,f,m,h);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const y=new Array(d.length);h.set(d,y);for(let w=0;w<d.length;w++)y[w]=l(d[w],w,m,h,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;h.set(d,y);for(const[w,b]of d)y.set(w,l(b,w,m,h,g));return y}if(d instanceof Set){const y=new Set;h.set(d,y);for(const w of d)y.add(l(w,void 0,m,h,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,y);for(let w=0;w<d.length;w++)y[w]=l(d[w],w,m,h,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,y),c(y,d,m,h,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return h.set(d,y),c(y,d,m,h,g),y}if(d instanceof Blob){const y=new Blob([d],{type:d.type});return h.set(d,y),c(y,d,m,h,g),y}if(d instanceof Error){const y=new d.constructor;return h.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,m,h,g),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return h.set(d,y),c(y,d,m,h,g),y}return d}function c(d,f,m=d,h,g){const v=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<v.length;y++){const w=v[y],b=Object.getOwnPropertyDescriptor(d,w);(b==null||b.writable)&&(d[w]=l(f[w],w,m,h,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Xv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(zC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yv(),r=zC;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(BC);var WC={},VC={},KC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xv,r=Jv;function n(a,i){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=i==null?void 0:i(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(KC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KC;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(VC);var GC={},Zv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Zv);var HC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qv;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(HC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ov,r=Zv,n=HC,a=Lf;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(GC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yv(),r=Tv,n=VC,a=$f,i=GC;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(WC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vv,r=FC,n=BC,a=WC;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(LC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MC,r=Vv,n=RC,a=LC;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(IC);var YD=IC.uniqBy;const rj=Gn(YD);function YC(e,t,r){return t===!0?rj(e,r):typeof t=="function"?rj(e,t):e}var XC={exports:{}},QC={},JC={exports:{}},ZC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=p;function XD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QD=typeof Object.is=="function"?Object.is:XD,JD=zi.useState,ZD=zi.useEffect,e$=zi.useLayoutEffect,t$=zi.useDebugValue;function r$(e,t){var r=t(),n=JD({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return e$(function(){a.value=r,a.getSnapshot=t,Ih(a)&&i({inst:a})},[e,r,t]),ZD(function(){return Ih(a)&&i({inst:a}),e(function(){Ih(a)&&i({inst:a})})},[e]),t$(r),r}function Ih(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!QD(e,r)}catch{return!0}}function n$(e,t){return t()}var a$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n$:r$;ZC.useSyncExternalStore=zi.useSyncExternalStore!==void 0?zi.useSyncExternalStore:a$;JC.exports=ZC;var s$=JC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=p,i$=s$;function o$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l$=typeof Object.is=="function"?Object.is:o$,c$=i$.useSyncExternalStore,u$=em.useRef,d$=em.useEffect,f$=em.useMemo,m$=em.useDebugValue;QC.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=u$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=f$(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var g=o.value;if(a(g,h))return f=g}return f=h}if(g=f,l$(d,h))return g;var v=n(h);return a!==void 0&&a(g,v)?(d=h,g):(d=h,f=v)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=c$(e,i[0],i[1]);return d$(function(){o.hasValue=!0,o.value=l},[l]),m$(l),l};XC.exports=QC;var h$=XC.exports,ex=p.createContext(null),p$=e=>e,Ge=()=>{var e=p.useContext(ex);return e?e.store.dispatch:p$},Eu=()=>{},g$=()=>Eu,v$=(e,t)=>e===t;function te(e){var t=p.useContext(ex);return h$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:g$,t?t.store.getState:Eu,t?t.store.getState:Eu,t?e:Eu,v$)}function x$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function y$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function b$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var nj=e=>Array.isArray(e)?e:[e];function w$(e){const t=Array.isArray(e[0])?e[0]:e;return b$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function j$(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var N$=class{constructor(e){this.value=e}deref(){return this.value}},_$=typeof WeakRef<"u"?WeakRef:N$,S$=0,aj=1;function Gc(){return{s:S$,v:void 0,o:null,p:null}}function ek(e,t={}){let r=Gc();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const g=arguments[m];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const y=v.get(g);y===void 0?(l=Gc(),v.set(g,l)):l=y}else{let v=l.p;v===null&&(l.p=v=new Map);const y=v.get(g);y===void 0?(l=Gc(),v.set(g,l)):l=y}}const u=l;let d;if(l.s===aj)d=l.v;else if(d=e.apply(null,arguments),i++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,d)&&(d=m,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new _$(d):d}return u.s=aj,u.v=d,d}return o.clearCache=()=>{r=Gc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function C$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),x$(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=ek,argsMemoizeOptions:g=[]}=d,v=nj(m),y=nj(g),w=w$(a),b=f(function(){return i++,u.apply(null,arguments)},...v),x=h(function(){o++;const N=j$(w,arguments);return l=b.apply(null,N),l},...y);return Object.assign(x,{resultFunc:u,memoizedResultFunc:b,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var R=C$(ek),k$=Object.assign((e,t=R)=>{y$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>k$}),tk={},rk={},nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(nk);var ak={},tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(tx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(ak);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nk,r=ak,n=Lf;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,g)=>{let v=h;for(let y=0;y<g.length&&v!=null;++y)v=v[g[y]];return v},d=(h,g)=>g==null||h==null?g:typeof h=="object"&&"key"in h?Object.hasOwn(g,h.key)?g[h.key]:u(g,h.path):typeof h=="function"?h(g):Array.isArray(h)?u(g,h):typeof g=="object"?g[h]:g,f=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:f.map(g=>d(g,h))})).slice().sort((h,g)=>{for(let v=0;v<f.length;v++){const y=t.compareValues(h.criteria[v],g.criteria[v],l[v]);if(y!==0)return y}return 0}).map(h=>h.original)}e.orderBy=a})(rk);var sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(sk);var rx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zv,r=Zf,n=Kv,a=Hv;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(rx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rk,r=sk,n=rx;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(tk);var E$=tk.sortBy;const tm=Gn(E$);var ik=e=>e.legend.settings,P$=e=>e.legend.size,A$=e=>e.legend.payload,O$=R([A$,ik],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?tm(n,r):n});function T$(){return te(O$)}var Hc=1;function ok(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Hc||Math.abs(o.left-t.left)>Hc||Math.abs(o.top-t.top)>Hc||Math.abs(o.width-t.width)>Hc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function jt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I$=typeof Symbol=="function"&&Symbol.observable||"@@observable",sj=I$,Mh=()=>Math.random().toString(36).substring(7).split("").join("."),M$={INIT:`@@redux/INIT${Mh()}`,REPLACE:`@@redux/REPLACE${Mh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mh()}`},jd=M$;function nx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function lk(e,t,r){if(typeof e!="function")throw new Error(jt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(jt(1));return r(lk)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((y,w)=>{o.set(w,y)}))}function d(){if(c)throw new Error(jt(3));return a}function f(y){if(typeof y!="function")throw new Error(jt(4));if(c)throw new Error(jt(5));let w=!0;u();const b=l++;return o.set(b,y),function(){if(w){if(c)throw new Error(jt(6));w=!1,u(),o.delete(b),i=null}}}function m(y){if(!nx(y))throw new Error(jt(7));if(typeof y.type>"u")throw new Error(jt(8));if(typeof y.type!="string")throw new Error(jt(17));if(c)throw new Error(jt(9));try{c=!0,a=n(a,y)}finally{c=!1}return(i=o).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(jt(10));n=y,m({type:jd.REPLACE})}function g(){const y=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(jt(11));function b(){const j=w;j.next&&j.next(d())}return b(),{unsubscribe:y(b)}},[sj](){return this}}}return m({type:jd.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[sj]:g}}function R$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:jd.INIT})>"u")throw new Error(jt(12));if(typeof r(void 0,{type:jd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jt(13))})}function ck(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{R$(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=o[f],g=m(h,l);if(typeof g>"u")throw l&&l.type,new Error(jt(14));u[f]=g,c=c||g!==h}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Nd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function D$(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(jt(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=Nd(...l)(a.dispatch),{...a,dispatch:i}}}function uk(e){return nx(e)&&"type"in e&&typeof e.type=="string"}var dk=Symbol.for("immer-nothing"),ij=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ui=Object.getPrototypeOf;function Cs(e){return!!e&&!!e[ur]}function qn(e){var t;return e?fk(e)||Array.isArray(e)||!!e[ij]||!!((t=e.constructor)!=null&&t[ij])||rc(e)||nm(e):!1}var $$=Object.prototype.constructor.toString();function fk(e){if(!e||typeof e!="object")return!1;const t=Ui(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===$$}function _d(e,t){rm(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function rm(e){const t=e[ur];return t?t.type_:Array.isArray(e)?1:rc(e)?2:nm(e)?3:0}function Cg(e,t){return rm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mk(e,t,r){const n=rm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function L$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function rc(e){return e instanceof Map}function nm(e){return e instanceof Set}function rs(e){return e.copy_||e.base_}function kg(e,t){if(rc(e))return new Map(e);if(nm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=fk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ur];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Ui(e),n)}else{const n=Ui(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function ax(e,t=!1){return am(e)||Cs(e)||!qn(e)||(rm(e)>1&&Object.defineProperties(e,{set:{value:Yc},add:{value:Yc},clear:{value:Yc},delete:{value:Yc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>ax(r,!0))),e}function Yc(){Vr(2)}function am(e){return Object.isFrozen(e)}var F$={};function ks(e){const t=F$[e];return t||Vr(0,e),t}var Al;function hk(){return Al}function B$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oj(e,t){t&&(ks("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Eg(e){Pg(e),e.drafts_.forEach(z$),e.drafts_=null}function Pg(e){e===Al&&(Al=e.parent_)}function lj(e){return Al=B$(Al,e)}function z$(e){const t=e[ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ur].modified_&&(Eg(t),Vr(4)),qn(e)&&(e=Sd(t,e),t.parent_||Cd(t,e)),t.patches_&&ks("Patches").generateReplacementPatches_(r[ur].base_,e,t.patches_,t.inversePatches_)):e=Sd(t,r,[]),Eg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dk?e:void 0}function Sd(e,t,r){if(am(t))return t;const n=t[ur];if(!n)return _d(t,(a,i)=>uj(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Cd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),_d(i,(l,c)=>uj(e,n,a,l,c,r,o)),Cd(e,a,!1),r&&e.patches_&&ks("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function uj(e,t,r,n,a,i,o){if(Cs(a)){const l=i&&t&&t.type_!==3&&!Cg(t.assigned_,n)?i.concat(n):void 0,c=Sd(e,a,l);if(mk(r,n,c),Cs(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(qn(a)&&!am(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Sd(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(rc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Cd(e,a)}}function Cd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ax(t,r)}function U$(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:hk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=sx;r&&(a=[n],i=Ol);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var sx={get(e,t){if(t===ur)return e;const r=rs(e);if(!Cg(r,t))return q$(e,r,t);const n=r[t];return e.finalized_||!qn(n)?n:n===Rh(e.base_,t)?(Dh(e),e.copy_[t]=Og(n,e)):n},has(e,t){return t in rs(e)},ownKeys(e){return Reflect.ownKeys(rs(e))},set(e,t,r){const n=pk(rs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Rh(rs(e),t),i=a==null?void 0:a[ur];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(L$(r,a)&&(r!==void 0||Cg(e.base_,t)))return!0;Dh(e),Ag(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Rh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Dh(e),Ag(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=rs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Ui(e.base_)},setPrototypeOf(){Vr(12)}},Ol={};_d(sx,(e,t)=>{Ol[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ol.deleteProperty=function(e,t){return Ol.set.call(this,e,t,void 0)};Ol.set=function(e,t,r){return sx.set.call(this,e[0],t,r,e[0])};function Rh(e,t){const r=e[ur];return(r?rs(r):e)[t]}function q$(e,t,r){var a;const n=pk(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function pk(e,t){if(!(t in e))return;let r=Ui(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ui(r)}}function Ag(e){e.modified_||(e.modified_=!0,e.parent_&&Ag(e.parent_))}function Dh(e){e.copy_||(e.copy_=kg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var W$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let a;if(qn(t)){const i=lj(this),o=Og(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Eg(i):Pg(i)}return oj(i,n),cj(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===dk&&(a=void 0),this.autoFreeze_&&ax(a,!0),n){const i=[],o=[];ks("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){qn(e)||Vr(8),Cs(e)&&(e=Tn(e));const t=lj(this),r=Og(e,void 0);return r[ur].isManual_=!0,Pg(t),r}finishDraft(e,t){const r=e&&e[ur];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return oj(n,t),cj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ks("Patches").applyPatches_;return Cs(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Og(e,t){const r=rc(e)?ks("MapSet").proxyMap_(e,t):nm(e)?ks("MapSet").proxySet_(e,t):U$(e,t);return(t?t.scope_:hk()).drafts_.push(r),r}function Tn(e){return Cs(e)||Vr(10,e),gk(e)}function gk(e){if(!qn(e)||am(e))return e;const t=e[ur];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=kg(e,t.scope_.immer_.useStrictShallowCopy_)}else r=kg(e,!0);return _d(r,(n,a)=>{mk(r,n,gk(a))}),t&&(t.finalized_=!1),r}var V$=new W$,vk=V$.produce;function xk(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var K$=xk(),G$=xk,H$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nd:Nd.apply(null,arguments)};function Tr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(lr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>uk(n)&&n.type===e,r}var yk=class Bo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Bo.prototype)}static get[Symbol.species](){return Bo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Bo(...t[0].concat(this)):new Bo(...t.concat(this))}};function dj(e){return qn(e)?vk(e,()=>{}):e}function Xc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Y$(e){return typeof e=="boolean"}var X$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new yk;return r&&(Y$(r)?o.push(K$):o.push(G$(r.extraArgument))),o},Q$="RTK_autoBatch",fj=e=>t=>{setTimeout(t,e)},J$=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fj(10):e.type==="callback"?e.queueNotification:fj(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[Q$]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},Z$=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new yk(e);return n&&a.push(J$(typeof n=="object"?n:void 0)),a};function eL(e){const t=X$(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(nx(r))l=ck(r);else throw new Error(lr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Nd;a&&(u=H$({trace:!1,...typeof a=="object"&&a}));const d=D$(...c),f=Z$(d);let m=typeof o=="function"?o(f):f();const h=u(...m);return lk(l,i,h)}function bk(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(lr(28));if(l in t)throw new Error(lr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function tL(e){return typeof e=="function"}function rL(e,t){let[r,n,a]=bk(t),i;if(tL(e))i=()=>dj(e());else{const l=dj(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Cs(d)){const h=f(d,c);return h===void 0?d:h}else{if(qn(d))return vk(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return o.getInitialState=i,o}var nL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aL=(e=21)=>{let t="",r=e;for(;r--;)t+=nL[Math.random()*64|0];return t},sL=Symbol.for("rtk-slice-createasyncthunk");function iL(e,t){return`${e}/${t}`}function oL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[sL];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(lr(11));const l=(typeof a.reducers=="function"?a.reducers(cL()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,N){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(lr(12));if(_ in u.sliceCaseReducersByType)throw new Error(lr(13));return u.sliceCaseReducersByType[_]=N,d},addMatcher(j,N){return u.sliceMatchers.push({matcher:j,reducer:N}),d},exposeAction(j,N){return u.actionCreators[j]=N,d},exposeCaseReducer(j,N){return u.sliceCaseReducersByName[j]=N,d}};c.forEach(j=>{const N=l[j],_={reducerName:j,type:iL(i,j),createNotation:typeof a.reducers=="function"};dL(N)?mL(_,N,d,t):uL(_,N,d)});function f(){const[j={},N=[],_=void 0]=typeof a.extraReducers=="function"?bk(a.extraReducers):[a.extraReducers],S={...j,...u.sliceCaseReducersByType};return rL(a.initialState,C=>{for(let A in S)C.addCase(A,S[A]);for(let A of u.sliceMatchers)C.addMatcher(A.matcher,A.reducer);for(let A of N)C.addMatcher(A.matcher,A.reducer);_&&C.addDefaultCase(_)})}const m=j=>j,h=new Map,g=new WeakMap;let v;function y(j,N){return v||(v=f()),v(j,N)}function w(){return v||(v=f()),v.getInitialState()}function b(j,N=!1){function _(C){let A=C[j];return typeof A>"u"&&N&&(A=Xc(g,_,w)),A}function S(C=m){const A=Xc(h,N,()=>new WeakMap);return Xc(A,C,()=>{const P={};for(const[O,T]of Object.entries(a.selectors??{}))P[O]=lL(T,C,()=>Xc(g,C,w),N);return P})}return{reducerPath:j,getSelectors:S,get selectors(){return S(_)},selectSlice:_}}const x={name:i,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...b(o),injectInto(j,{reducerPath:N,..._}={}){const S=N??o;return j.inject({reducerPath:S,reducer:y},_),{...x,...b(S,!0)}}};return x}}function lL(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var hr=oL();function cL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function uL({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!fL(n))throw new Error(lr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Tr(e,o):Tr(e))}function dL(e){return e._reducerDefinitionType==="asyncThunk"}function fL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function mL({type:e,reducerName:t},r,n,a){if(!a)throw new Error(lr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Qc,pending:l||Qc,rejected:c||Qc,settled:u||Qc})}function Qc(){}var hL="task",wk="listener",jk="completed",ix="cancelled",pL=`task-${ix}`,gL=`task-${jk}`,Tg=`${wk}-${ix}`,vL=`${wk}-${jk}`,sm=class{constructor(e){$m(this,"name","TaskAbortError");$m(this,"message");this.code=e,this.message=`${hL} ${ix} (reason: ${e})`}},ox=(e,t)=>{if(typeof e!="function")throw new TypeError(lr(32))},kd=()=>{},Nk=(e,t=kd)=>(e.catch(t),e),_k=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ps=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},gs=e=>{if(e.aborted){const{reason:t}=e;throw new sm(t)}};function Sk(e,t){let r=kd;return new Promise((n,a)=>{const i=()=>a(new sm(e.reason));if(e.aborted){i();return}r=_k(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=kd})}var xL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof sm?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ed=e=>t=>Nk(Sk(e,t).then(r=>(gs(e),r))),Ck=e=>{const t=Ed(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:bi}=Object,mj={},im="listenerMiddleware",yL=(e,t)=>{const r=n=>_k(e,()=>ps(n,e.reason));return(n,a)=>{ox(n);const i=new AbortController;r(i);const o=xL(async()=>{gs(e),gs(i.signal);const l=await n({pause:Ed(i.signal),delay:Ck(i.signal),signal:i.signal});return gs(i.signal),l},()=>ps(i,gL));return a!=null&&a.autoJoin&&t.push(o.catch(kd)),{result:Ed(e)(o),cancel(){ps(i,pL)}}}},bL=(e,t)=>{const r=async(n,a)=>{gs(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await Sk(t,Promise.race(l));return gs(t),c}finally{i()}};return(n,a)=>Nk(r(n,a))},kk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Tr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(lr(21));return ox(i),{predicate:a,type:t,effect:i}},Ek=bi(e=>{const{type:t,predicate:r,effect:n}=kk(e);return{id:aL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(lr(22))}}},{withTypes:()=>Ek}),hj=(e,t)=>{const{type:r,effect:n,predicate:a}=kk(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Ig=e=>{e.pending.forEach(t=>{ps(t,Tg)})},wL=e=>()=>{e.forEach(Ig),e.clear()},pj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Pk=bi(Tr(`${im}/add`),{withTypes:()=>Pk}),jL=Tr(`${im}/removeAll`),Ak=bi(Tr(`${im}/remove`),{withTypes:()=>Ak}),NL=(...e)=>{console.error(`${im}/error`,...e)},nc=(e={})=>{const t=new Map,{extra:r,onError:n=NL}=e;ox(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&Ig(d)}),i=d=>{const f=hj(t,d)??Ek(d);return a(f)};bi(i,{withTypes:()=>i});const o=d=>{const f=hj(t,d);return f&&(f.unsubscribe(),d.cancelActive&&Ig(f)),!!f};bi(o,{withTypes:()=>o});const l=async(d,f,m,h)=>{const g=new AbortController,v=bL(i,g.signal),y=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,bi({},m,{getOriginalState:h,condition:(w,b)=>v(w,b).then(Boolean),take:v,delay:Ck(g.signal),pause:Ed(g.signal),extra:r,signal:g.signal,fork:yL(g.signal,y),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((w,b,x)=>{w!==g&&(ps(w,Tg),x.delete(w))})},cancel:()=>{ps(g,Tg),d.pending.delete(g)},throwIfCancelled:()=>{gs(g.signal)}})))}catch(w){w instanceof sm||pj(n,w,{raisedBy:"effect"})}finally{await Promise.all(y),ps(g,vL),d.pending.delete(g)}},c=wL(t);return{middleware:d=>f=>m=>{if(!uk(m))return f(m);if(Pk.match(m))return i(m.payload);if(jL.match(m)){c();return}if(Ak.match(m))return o(m.payload);let h=d.getState();const g=()=>{if(h===mj)throw new Error(lr(23));return h};let v;try{if(v=f(m),t.size>0){const y=d.getState(),w=Array.from(t.values());for(const b of w){let x=!1;try{x=b.predicate(m,y,h)}catch(j){x=!1,pj(n,j,{raisedBy:"predicate"})}x&&l(b,m,d,g)}}}finally{h=mj}return v},startListening:i,stopListening:o,clearListeners:c}};function lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _L={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Ok=hr({name:"chartLayout",initialState:_L,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:SL,setLayout:CL,setChartSize:kL,setScale:EL}=Ok.actions,PL=Ok.reducer;function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){AL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AL(e,t,r){return(t=OL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OL(e){var t=TL(e,"string");return typeof t=="symbol"?t:t+""}function TL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pd=Math.PI/180,IL=e=>e*180/Math.PI,st=(e,t,r,n)=>({x:e+Math.cos(-Pd*n)*r,y:t+Math.sin(-Pd*n)*r}),Tk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ML=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},RL=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=ML({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:IL(c),angleInRadian:c}},DL=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},$L=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},LL=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=RL({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=DL(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?vj(vj({},t),{},{radius:a,angle:$L(d,t)}):null};function Ik(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){FL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FL(e,t,r){return(t=BL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BL(e){var t=zL(e,"string");return typeof t=="symbol"?t:t+""}function zL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _e(e,t,r){return De(e)||De(t)?r:un(t)?Ss(e,t,r):typeof t=="function"?t(e):r}var UL=(e,t,r,n,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(xt(d-u)!==xt(f-d)){var h=[];if(xt(f-d)===xt(a[1]-a[0])){m=f;var g=d+a[1]-a[0];h[0]=Math.min(g,(g+u)/2),h[1]=Math.max(g,(g+u)/2)}else{m=u;var v=f+a[1]-a[0];h[0]=Math.min(d,(v+d)/2),h[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){({index:o}=r[c]);break}}else{var w=Math.min(u,f),b=Math.max(u,f);if(e>(w+d)/2&&e<=(b+d)/2){({index:o}=r[c]);break}}}else if(t){for(var x=0;x<l;x++)if(x===0&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<l-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===l-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:o}=t[x]);break}}return o},qL=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&re(e[i]))return wr(wr({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&re(e[o]))return wr(wr({},e),{},{[o]:e[o]+(a||0)})}return e},pn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Mk=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},Rk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:h}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(v=h==="angleAxis"&&i&&i.length>=2?xt(i[0]-i[1])*2*v:v,f||m){var y=(f||m||[]).map((w,b)=>{var x=n?n.indexOf(w):w;return{coordinate:o(x)+v,value:w,offset:v,index:b}});return y.filter(w=>!Zt(w.coordinate))}return c&&u?u.map((w,b)=>({coordinate:o(w)+v,value:w,index:b,offset:v})):o.ticks&&d!=null?o.ticks(d).map((w,b)=>({coordinate:o(w)+v,value:w,offset:v,index:b})):o.domain().map((w,b)=>({coordinate:o(w)+v,value:n?n[w]:w,index:b,offset:v}))},yj=1e-4,WL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-yj,i=Math.max(n[0],n[1])+yj,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},VL=(e,t)=>{if(!t||t.length!==2||!re(t[0])||!re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(a[0]=r),(!re(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},KL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=Zt(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},GL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Zt(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},HL={sign:KL,expand:TD,none:Bi,silhouette:ID,wiggle:MD,positive:GL},YL=(e,t,r)=>{var n=HL[r],a=OD().keys(t).value((i,o)=>+_e(i,o,0)).order(Ng).offset(n);return a(e)};function Dk(e){return e==null?void 0:String(e)}function Ad(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!De(a[t.dataKey])){var l=fC(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=_e(a,De(o)?t.dataKey:o);return De(c)?null:t.scale(c)}var bj=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=_e(i,t.dataKey,t.scale.domain()[o]);return De(l)?null:t.scale(l)-a/2+n},XL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},QL=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},JL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ZL=(e,t,r)=>{if(e!=null)return JL(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=Ik(u,t,r),f=QL(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},wj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Es=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=tm(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Nj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return wr(wr({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Va(e,t){if(e)return String(e);if(typeof t=="string")return t}function e8(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?LL({x:e,y:t},n):null}var t8=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return wr(wr(wr({},n),st(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return wr(wr(wr({},n),st(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},r8=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Xn=e=>e.layout.width,Qn=e=>e.layout.height,n8=e=>e.layout.scale,$k=e=>e.layout.margin,om=R(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),lm=R(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Lk="data-recharts-item-index",Fk="data-recharts-item-data-key",ac=60;function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=i8(e,"string");return typeof t=="symbol"?t:t+""}function i8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o8=e=>e.brush.height;function l8(e){var t=lm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ac;return r+a}return r},0)}function c8(e){var t=lm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ac;return r+a}return r},0)}function u8(e){var t=om(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function d8(e){var t=om(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ft=R([Xn,Qn,$k,o8,l8,c8,u8,d8,ik,P$],(e,t,r,n,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=Jc(Jc({},f),d),h=m.bottom;m.bottom+=n,m=qL(m,c,u);var g=e-m.left-m.right,v=t-m.top-m.bottom;return Jc(Jc({brushBottom:h},m),{},{width:Math.max(g,0),height:Math.max(v,0)})}),f8=R(ft,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lx=R(Xn,Qn,(e,t)=>({x:0,y:0,width:e,height:t})),m8=p.createContext(null),Rt=()=>p.useContext(m8)!=null,cm=e=>e.brush,um=R([cm,ft,$k],(e,t,r)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:re(e.width)?e.width:t.width})),cx=()=>{var e,t=Rt(),r=te(f8),n=te(um),a=(e=te(cm))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},h8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Bk=()=>{var e;return(e=te(ft))!==null&&e!==void 0?e:h8},ux=()=>te(Xn),dx=()=>te(Qn),p8=()=>te(e=>e.layout.margin),de=e=>e.layout.layoutType,sc=()=>te(de),g8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},zk=hr({name:"legend",initialState:g8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Tn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Sj,setLegendSettings:v8,addLegendPayload:Uk,removeLegendPayload:qk}=zk.actions,x8=zk.reducer,y8=["contextPayload"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){fx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fx(e,t,r){return(t=b8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b8(e){var t=w8(e,"string");return typeof t=="symbol"?t:t+""}function w8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j8(e,t){if(e==null)return{};var r,n,a=N8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _8(e){return e.value}function S8(e){var{contextPayload:t}=e,r=j8(e,y8),n=YC(t,e.payloadUniqBy,_8),a=qi(qi({},r),{},{payload:n});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement(Wv,a)}function C8(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),qi(qi({},u),d)}function k8(e){var t=Ge();return p.useEffect(()=>{t(v8(e))},[t,e]),null}function E8(e){var t=Ge();return p.useEffect(()=>(t(Sj(e)),()=>{t(Sj({width:0,height:0}))}),[t,e]),null}function P8(e){var t=T$(),r=tD(),n=p8(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[c,u]=ok([t]),d=ux(),f=dx();if(d==null||f==null)return null;var m=d-(n.left||0)-(n.right||0),h=dm.getWidthOrHeight(e.layout,i,a,m),g=l?o:qi(qi({position:"absolute",width:(h==null?void 0:h.width)||a||"auto",height:(h==null?void 0:h.height)||i||"auto"},C8(o,e,n,d,f,c)),o),v=l??r;if(v==null)return null;var y=p.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},p.createElement(k8,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(E8,{width:c.width,height:c.height}),p.createElement(S8,Mg({},e,h,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return lv.createPortal(y,v)}class dm extends p.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&re(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return p.createElement(P8,this.props)}}fx(dm,"displayName","Legend");fx(dm,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(null,arguments)}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){A8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8(e,t,r){return(t=O8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8(e){var t=T8(e,"string");return typeof t=="symbol"?t:t+""}function T8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I8(e){return Array.isArray(e)&&un(e[0])&&un(e[1])?e.join(" ~ "):e}var M8=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},_=(l?tm(i,l):i).map((S,C)=>{if(S.type==="none")return null;var A=S.formatter||o||I8,{value:P,name:O}=S,T=P,U=O;if(A){var q=A(P,O,S,C,i);if(Array.isArray(q))[T,U]=q;else if(q!=null)T=q;else return null}var K=$h({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:K},un(U)?p.createElement("span",{className:"recharts-tooltip-item-name"},U):null,un(U)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},T),p.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:N},_)}return null},g=$h({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=$h({margin:0},a),y=!De(d),w=y?d:"",b=fe("recharts-default-tooltip",c),x=fe("recharts-tooltip-label",u);y&&f&&i!==void 0&&i!==null&&(w=f(d,i));var j=m?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",Rg({className:b,style:g},j),p.createElement("p",{className:x,style:v},p.isValidElement(w)?w:"".concat(w)),h())},So="recharts-tooltip-wrapper",R8={visibility:"hidden"};function D8(e){var{coordinate:t,translateX:r,translateY:n}=e;return fe(So,{["".concat(So,"-right")]:re(r)&&t&&re(t.x)&&r>=t.x,["".concat(So,"-left")]:re(r)&&t&&re(t.x)&&r<t.x,["".concat(So,"-bottom")]:re(n)&&t&&re(t.y)&&n>=t.y,["".concat(So,"-top")]:re(n)&&t&&re(t.y)&&n<t.y})}function Ej(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&re(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var m=c[n];if(m==null)return 0;if(o[n]){var h=d,g=m;return h<g?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var v=f+l,y=m+u;return v>y?Math.max(d,m):Math.max(f,m)}function $8(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function L8(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=Ej({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Ej({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=$8({translateX:d,translateY:f,useTranslate3d:l})):u=R8,{cssProperties:u,cssClasses:D8({translateX:d,translateY:f,coordinate:r})}}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){Dg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dg(e,t,r){return(t=F8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8(e){var t=B8(e,"string");return typeof t=="symbol"?t:t+""}function B8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class z8 extends p.PureComponent{constructor(){super(...arguments),Dg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Dg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:g,lastBoundingBox:v,innerRef:y,hasPortalFromProps:w}=this.props,{cssClasses:b,cssProperties:x}=L8({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:m,viewBox:h}),j=w?{}:Zc(Zc({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=Zc(Zc({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:N,ref:y},i)}}var U8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Jn={devToolsEnabled:!1,isSsr:U8()},Wk=()=>te(e=>e.rootProps.accessibilityLayer);function kt(e){return Number.isFinite(e)}function Wi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(null,arguments)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){q8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q8(e,t,r){return(t=W8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W8(e){var t=V8(e,"string");return typeof t=="symbol"?t:t+""}function V8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tj={curveBasisClosed:bD,curveBasisOpen:wD,curveBasis:yD,curveBumpX:sD,curveBumpY:iD,curveLinearClosed:jD,curveLinear:Qf,curveMonotoneX:ND,curveMonotoneY:_D,curveNatural:SD,curveStep:CD,curveStepAfter:ED,curveStepBefore:kD},eu=e=>kt(e.x)&&kt(e.y),Co=e=>e.x,ko=e=>e.y,K8=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ec(e));return(r==="curveMonotone"||r==="curveBump")&&t?Tj["".concat(r).concat(t==="vertical"?"Y":"X")]:Tj[r]||Qf},G8=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=K8(t,a),l=i?r.filter(eu):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>eu(f)):n,d=l.map((f,m)=>Oj(Oj({},f),{},{base:u[m]}));return a==="vertical"?c=Kc().y(ko).x1(Co).x0(f=>f.base.x):c=Kc().x(Co).y1(ko).y0(f=>f.base.y),c.defined(eu).curve(o),c(d)}return a==="vertical"&&re(n)?c=Kc().y(ko).x1(Co).x0(n):re(n)?c=Kc().x(Co).y1(ko).y0(n):c=wC().x(Co).y(ko),c.defined(eu).curve(o),c(l)},wi=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?G8(e):n;return p.createElement("path",$g({},Dr(e),Dv(e),{className:fe("recharts-curve",t),d:i===null?void 0:i,ref:a}))},H8=["x","y","top","left","width","height","className"];function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(null,arguments)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){X8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X8(e,t,r){return(t=Q8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8(e){var t=J8(e,"string");return typeof t=="symbol"?t:t+""}function J8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z8(e,t){if(e==null)return{};var r,n,a=eF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tF=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),rF=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=Z8(e,H8),u=Y8({x:t,y:r,top:n,left:a,width:i,height:o},c);return!re(t)||!re(r)||!re(i)||!re(o)||!re(n)||!re(a)?null:p.createElement("path",Lg({},$e(u,!0),{className:fe("recharts-cross",l),d:tF(t,r,i,o,n,a)}))};function nF(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){sF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sF(e,t,r){return(t=iF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mt(e,t){var r=aF({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function lF(){}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){cF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cF(e,t,r){return(t=uF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Vk=(e,t,r)=>e.map(n=>"".concat(fF(n)," ").concat(t,"ms ").concat(r)).join(","),mF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Tl=(e,t)=>Object.keys(t).reduce((r,n)=>Dj(Dj({},r),{},{[n]:e(n,t[n])}),{});function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){hF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hF(e,t,r){return(t=pF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=gF(e,"string");return typeof t=="symbol"?t:t+""}function gF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Od=(e,t,r)=>e+(t-e)*r,Fg=e=>{var{from:t,to:r}=e;return t!==r},Kk=(e,t,r)=>{var n=Tl((a,i)=>{if(Fg(i)){var[o,l]=e(i.from,i.to,i.velocity);return _t(_t({},i),{},{from:o,velocity:l})}return i},t);return r<1?Tl((a,i)=>Fg(i)?_t(_t({},i),{},{velocity:Od(i.velocity,n[a].velocity,r),from:Od(i.from,n[a].from,r)}):i,t):Kk(e,n,r-1)};function vF(e,t,r,n,a,i){var o,l=n.reduce((m,h)=>_t(_t({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>Tl((m,h)=>h.from,l),u=()=>!Object.values(l).filter(Fg).length,d=null,f=m=>{o||(o=m);var h=m-o,g=h/r.dt;l=Kk(r,l,g),a(_t(_t(_t({},e),t),c())),o=m,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function xF(e,t,r,n,a,i,o){var l=null,c=a.reduce((f,m)=>_t(_t({},f),{},{[m]:[e[m],t[m]]}),{}),u,d=f=>{u||(u=f);var m=(f-u)/n,h=Tl((v,y)=>Od(...y,r(m)),c);if(i(_t(_t(_t({},e),t),h)),m<1)l=o.setTimeout(d);else{var g=Tl((v,y)=>Od(...y,r(1)),c);i(_t(_t(_t({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{l()})}const yF=(e,t,r,n,a,i)=>{var o=mF(e,t);return r.isStepper===!0?vF(e,t,r,o,a,i):xF(e,t,r,n,o,a,i)};var Td=1e-4,Gk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Hk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Lj=(e,t)=>r=>{var n=Gk(e,t);return Hk(n,r)},bF=(e,t)=>r=>{var n=Gk(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return Hk(a,r)},Fj=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,n,r,a]=o);var u=Lj(t,r),d=Lj(n,a),f=bF(t,r),m=g=>g>1?1:g<0?0:g,h=g=>{for(var v=g>1?1:g,y=v,w=0;w<8;++w){var b=u(y)-v,x=f(y);if(Math.abs(b-v)<Td||x<Td)return d(y);y=m(y-b/x)}return d(y)};return h.isStepper=!1,h},wF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,m=c*a/1e3+o;return Math.abs(m-l)<Td&&Math.abs(f)<Td?[l,0]:[m,f]};return i.isStepper=!0,i.dt=a,i},jF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Fj(e);case"spring":return wF();default:if(e.split("(")[0]==="cubic-bezier")return Fj(e)}return typeof e=="function"?e:null};function NF(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class _F{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function SF(){return NF(new _F)}var CF=p.createContext(SF);function kF(e,t){var r=p.useContext(CF);return p.useMemo(()=>t??r(e),[e,t,r])}var EF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Bj={t:0},Lh={t:1};function no(e){var t=mt(e,EF),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=kF(t.animationId,t.animationManager),[f,m]=p.useState(r?Bj:Lh),h=p.useRef(null);return p.useEffect(()=>{r||m(Lh)},[r]),p.useEffect(()=>{if(!r||!n)return lF;var g=yF(Bj,Lh,jF(i),a,m,d.getTimeoutController()),v=()=>{h.current=g()};return d.start([c,o,v,a,l]),()=>{d.stop(),h.current&&h.current(),l()}},[r,n,a,i,o,c,l,d]),u(f.t)}function ao(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Pl(t)),n=p.useRef(e);return n.current!==e&&(r.current=Pl(t),n.current=e),r.current}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){PF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PF(e,t,r){return(t=AF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(null,arguments)}var qj=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);u="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},TF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yk=e=>{var t=mt(e,TF),r=p.useRef(null),[n,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var q=r.current.getTotalLength();q&&a(q)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:g,isUpdateAnimationActive:v}=t,y=p.useRef(l),w=p.useRef(c),b=p.useRef(i),x=p.useRef(o),j=p.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),N=ao(j,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var _=fe("recharts-rectangle",d);if(!v)return p.createElement("path",Id({},$e(t,!0),{className:_,d:qj(i,o,l,c,u)}));var S=y.current,C=w.current,A=b.current,P=x.current,O="0px ".concat(n===-1?1:n,"px"),T="".concat(n,"px 0px"),U=Vk(["strokeDasharray"],m,typeof f=="string"?f:void 0);return p.createElement(no,{animationId:N,key:N,canBegin:n>0,duration:m,easing:f,isActive:v,begin:h},q=>{var K=Ne(S,l,q),E=Ne(C,c,q),F=Ne(A,i,q),L=Ne(P,o,q);r.current&&(y.current=K,w.current=E,b.current=F,x.current=L);var z;return g?q>0?z={transition:U,strokeDasharray:T}:z={strokeDasharray:O}:z={strokeDasharray:T},p.createElement("path",Id({},$e(t,!0),{className:_,d:qj(F,L,K,E,u),ref:r,style:Uj(Uj({},z),t.style)}))})};function Xk(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=st(t,r,n,a),l=st(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(null,arguments)}var IF=(e,t)=>{var r=xt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},tu=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Pd,f=c?a:a+i*d,m=st(t,r,u,f),h=st(t,r,n,f),g=c?a-i*d:a,v=st(t,r,u*Math.cos(d*Pd),g);return{center:m,circleTangency:h,lineTangency:v,theta:d}},Qk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=IF(i,o),c=i+l,u=st(t,r,a,i),d=st(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var m=st(t,r,n,i),h=st(t,r,n,c);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},MF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=xt(u-c),{circleTangency:f,lineTangency:m,theta:h}=tu({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:v,theta:y}=tu({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),w=l?Math.abs(c-u):Math.abs(c-u)-h-y;if(w<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Qk({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var b="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:j,theta:N}=tu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:_,lineTangency:S,theta:C}=tu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-N-C;if(A<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},RF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jk=e=>{var t=mt(e,RF),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var m=fe("recharts-sector",f),h=i-a,g=It(o,h,0,!0),v;return g>0&&Math.abs(u-d)<360?v=MF({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=Qk({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),p.createElement("path",Bg({},$e(t,!0),{className:m,d:v}))};function DF(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,m=st(l,c,u,f),h=st(l,c,d,f);n=m.x,a=m.y,i=h.x,o=h.y}else return Xk(t);return[{x:n,y:a},{x:i,y:o}]}var Zk={},eE={},tE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(tE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tE;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(eE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx,r=eE;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(Zk);var $F=Zk.range;const rE=Gn($F);function Oa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mx(e){let t,r,n;e.length!==2?(t=Oa,r=(l,c)=>Oa(e(l),c),n=(l,c)=>e(l)-c):(t=e===Oa||e===LF?e:FF,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function FF(){return 0}function nE(e){return e===null?NaN:+e}function*BF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zF=mx(Oa),ic=zF.right;mx(nE).center;class Wj extends Map{constructor(t,r=WF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Vj(this,t))}has(t){return super.has(Vj(this,t))}set(t,r){return super.set(UF(this,t),r)}delete(t){return super.delete(qF(this,t))}}function Vj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function UF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function WF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VF(e=Oa){if(e===Oa)return aE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function aE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const KF=Math.sqrt(50),GF=Math.sqrt(10),HF=Math.sqrt(2);function Md(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=KF?10:i>=GF?5:i>=HF?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Md(e,t,r*2):[l,c,u]}function zg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Md(t,e,r):Md(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Ug(e,t,r){return t=+t,e=+e,r=+r,Md(e,t,r)[2]}function qg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ug(t,e,r):Ug(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Kj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Gj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sE(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?aE:VF(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),g=Math.min(n,Math.floor(t+(c-u)*f/c+m));sE(e,t,h,g,a)}const i=e[t];let o=r,l=n;for(Eo(e,r,t),a(e[n],i)>0&&Eo(e,r,n);o<l;){for(Eo(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Eo(e,r,l):(++l,Eo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Eo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function YF(e,t,r){if(e=Float64Array.from(BF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Gj(e);if(t>=1)return Kj(e);var n,a=(n-1)*t,i=Math.floor(a),o=Kj(sE(e,i).subarray(0,i+1)),l=Gj(e.subarray(i+1));return o+(l-o)*(a-i)}}function XF(e,t,r=nE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function QF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Wg=Symbol("implicit");function hx(){var e=new Wj,t=[],r=[],n=Wg;function a(i){let o=e.get(i);if(o===void 0){if(n!==Wg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Wj;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return hx(t,r).unknown(n)},$r.apply(a,arguments),a}function px(){var e=hx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=a<n,g=h?a:n,v=h?n:a;i=(v-g)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),g+=(v-g-i*(m-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=QF(m).map(function(w){return g+i*w});return r(h?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return px(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},$r.apply(f(),arguments)}function iE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iE(t())},e}function JF(){return iE(px.apply(null,arguments).paddingInner(1))}function gx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function oc(){}var Il=.7,Rd=1/Il,ji="\\s*([+-]?\\d+)\\s*",Ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZF=/^#([0-9a-f]{3,8})$/,eB=new RegExp(`^rgb\\(${ji},${ji},${ji}\\)$`),tB=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),rB=new RegExp(`^rgba\\(${ji},${ji},${ji},${Ml}\\)$`),nB=new RegExp(`^rgba\\(${ln},${ln},${ln},${Ml}\\)$`),aB=new RegExp(`^hsl\\(${Ml},${ln},${ln}\\)$`),sB=new RegExp(`^hsla\\(${Ml},${ln},${ln},${Ml}\\)$`),Hj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gx(oc,Rl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yj,formatHex:Yj,formatHex8:iB,formatHsl:oB,formatRgb:Xj,toString:Xj});function Yj(){return this.rgb().formatHex()}function iB(){return this.rgb().formatHex8()}function oB(){return lE(this).formatHsl()}function Xj(){return this.rgb().formatRgb()}function Rl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ZF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Qj(t):r===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ru(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ru(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eB.exec(e))?new Yt(t[1],t[2],t[3],1):(t=tB.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rB.exec(e))?ru(t[1],t[2],t[3],t[4]):(t=nB.exec(e))?ru(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aB.exec(e))?e1(t[1],t[2]/100,t[3]/100,1):(t=sB.exec(e))?e1(t[1],t[2]/100,t[3]/100,t[4]):Hj.hasOwnProperty(e)?Qj(Hj[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function Qj(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function ru(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yt(e,t,r,n)}function lB(e){return e instanceof oc||(e=Rl(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function Vg(e,t,r,n){return arguments.length===1?lB(e):new Yt(e,t,r,n??1)}function Yt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}gx(Yt,Vg,oE(oc,{brighter(e){return e=e==null?Rd:Math.pow(Rd,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Il:Math.pow(Il,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(vs(this.r),vs(this.g),vs(this.b),Dd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jj,formatHex:Jj,formatHex8:cB,formatRgb:Zj,toString:Zj}));function Jj(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}`}function cB(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}${cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zj(){const e=Dd(this.opacity);return`${e===1?"rgb(":"rgba("}${vs(this.r)}, ${vs(this.g)}, ${vs(this.b)}${e===1?")":`, ${e})`}`}function Dd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cs(e){return e=vs(e),(e<16?"0":"")+e.toString(16)}function e1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function lE(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof oc||(e=Rl(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Kr(o,l,c,e.opacity)}function uB(e,t,r,n){return arguments.length===1?lE(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}gx(Kr,uB,oE(oc,{brighter(e){return e=e==null?Rd:Math.pow(Rd,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Il:Math.pow(Il,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Yt(Fh(e>=240?e-240:e+120,a,n),Fh(e,a,n),Fh(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Kr(t1(this.h),nu(this.s),nu(this.l),Dd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dd(this.opacity);return`${e===1?"hsl(":"hsla("}${t1(this.h)}, ${nu(this.s)*100}%, ${nu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function t1(e){return e=(e||0)%360,e<0?e+360:e}function nu(e){return Math.max(0,Math.min(1,e||0))}function Fh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const vx=e=>()=>e;function dB(e,t){return function(r){return e+r*t}}function fB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mB(e){return(e=+e)==1?cE:function(t,r){return r-t?fB(t,r,e):vx(isNaN(t)?r:t)}}function cE(e,t){var r=t-e;return r?dB(e,r):vx(isNaN(e)?t:e)}const r1=function e(t){var r=mB(t);function n(a,i){var o=r((a=Vg(a)).r,(i=Vg(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=cE(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function hB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function pB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=so(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function vB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function $d(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function xB(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=so(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Kg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bh=new RegExp(Kg.source,"g");function yB(e){return function(){return e}}function bB(e){return function(t){return e(t)+""}}function wB(e,t){var r=Kg.lastIndex=Bh.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Kg.exec(e))&&(a=Bh.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:$d(n,a)})),r=Bh.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?bB(c[0].x):yB(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function so(e,t){var r=typeof t,n;return t==null||r==="boolean"?vx(t):(r==="number"?$d:r==="string"?(n=Rl(t))?(t=n,r1):wB:t instanceof Rl?r1:t instanceof Date?vB:pB(t)?hB:Array.isArray(t)?gB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xB:$d)(e,t)}function xx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function jB(e,t){t===void 0&&(t=e,e=so);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function NB(e){return function(){return e}}function Ld(e){return+e}var n1=[0,1];function Ft(e){return e}function Gg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:NB(isNaN(t)?NaN:.5)}function _B(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function SB(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Gg(a,n),i=r(o,i)):(n=Gg(n,a),i=r(i,o)),function(l){return i(n(l))}}function CB(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Gg(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=ic(e,l,1,n)-1;return i[c](a[c](l))}}function lc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fm(){var e=n1,t=n1,r=so,n,a,i,o=Ft,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Ft&&(o=_B(e[0],e[m-1])),l=m>2?CB:SB,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(n),$d)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,Ld),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=xx,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Ft,d()):o!==Ft},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return n=m,a=h,d()}}function yx(){return fm()(Ft,Ft)}function kB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vi(e){return e=Fd(Math.abs(e)),e?e[1]:NaN}function EB(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function PB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var AB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dl(e){if(!(t=AB.exec(e)))throw new Error("invalid format: "+e);var t;return new bx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dl.prototype=bx.prototype;function bx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OB(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var uE;function TB(e,t){var r=Fd(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(uE=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Fd(e,Math.max(0,t+i-1))[0]}function a1(e,t){var r=Fd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const s1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a1(e*100,t),r:a1,s:TB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function i1(e){return e}var o1=Array.prototype.map,l1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function IB(e){var t=e.grouping===void 0||e.thousands===void 0?i1:EB(o1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?i1:PB(o1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Dl(f);var m=f.fill,h=f.align,g=f.sign,v=f.symbol,y=f.zero,w=f.width,b=f.comma,x=f.precision,j=f.trim,N=f.type;N==="n"?(b=!0,N="g"):s1[N]||(x===void 0&&(x=12),j=!0,N="g"),(y||m==="0"&&h==="=")&&(y=!0,m="0",h="=");var _=v==="$"?r:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=v==="$"?n:/[%p]/.test(N)?o:"",C=s1[N],A=/[defgprs%]/.test(N);x=x===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function P(O){var T=_,U=S,q,K,E;if(N==="c")U=C(O)+U,O="";else{O=+O;var F=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),x),j&&(O=OB(O)),F&&+O==0&&g!=="+"&&(F=!1),T=(F?g==="("?g:l:g==="-"||g==="("?"":g)+T,U=(N==="s"?l1[8+uE/3]:"")+U+(F&&g==="("?")":""),A){for(q=-1,K=O.length;++q<K;)if(E=O.charCodeAt(q),48>E||E>57){U=(E===46?a+O.slice(q+1):O.slice(q))+U,O=O.slice(0,q);break}}}b&&!y&&(O=t(O,1/0));var L=T.length+O.length+U.length,z=L<w?new Array(w-L+1).join(m):"";switch(b&&y&&(O=t(z+O,z.length?w-U.length:1/0),z=""),h){case"<":O=T+O+U+z;break;case"=":O=T+z+O+U;break;case"^":O=z.slice(0,L=z.length>>1)+T+O+U+z.slice(L);break;default:O=z+T+O+U;break}return i(O)}return P.toString=function(){return f+""},P}function d(f,m){var h=u((f=Dl(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Vi(m)/3)))*3,v=Math.pow(10,-g),y=l1[8+g/3];return function(w){return h(v*w)+y}}return{format:u,formatPrefix:d}}var au,wx,dE;MB({thousands:",",grouping:[3],currency:["$",""]});function MB(e){return au=IB(e),wx=au.format,dE=au.formatPrefix,au}function RB(e){return Math.max(0,-Vi(Math.abs(e)))}function DB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vi(t)/3)))*3-Vi(Math.abs(e)))}function $B(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vi(t)-Vi(e))+1}function fE(e,t,r,n){var a=qg(e,t,r),i;switch(n=Dl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=DB(a,o))&&(n.precision=i),dE(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=$B(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=RB(a))&&(n.precision=i-(n.type==="%")*2);break}}return wx(n)}function Ka(e){var t=e.domain;return e.ticks=function(r){var n=t();return zg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return fE(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Ug(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function mE(){var e=yx();return e.copy=function(){return lc(e,mE())},$r.apply(e,arguments),Ka(e)}function hE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ld),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return hE(e).unknown(t)},e=arguments.length?Array.from(e,Ld):[0,1],Ka(r)}function pE(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function c1(e){return Math.log(e)}function u1(e){return Math.exp(e)}function LB(e){return-Math.log(-e)}function FB(e){return-Math.exp(-e)}function BB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zB(e){return e===10?BB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function UB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function d1(e){return(t,r)=>-e(-t,r)}function jx(e){const t=e(c1,u1),r=t.domain;let n=10,a,i;function o(){return a=UB(n),i=zB(n),r()[0]<0?(a=d1(a),i=d1(i),e(LB,FB)):e(c1,u1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),g,v;const y=l==null?10:+l;let w=[];if(!(n%1)&&h-m<y){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(g=1;g<n;++g)if(v=m<0?g/i(-m):g*i(m),!(v<u)){if(v>d)break;w.push(v)}}else for(;m<=h;++m)for(g=n-1;g>=1;--g)if(v=m>0?g/i(-m):g*i(m),!(v<u)){if(v>d)break;w.push(v)}w.length*2<y&&(w=zg(u,d,y))}else w=zg(m,h,Math.min(h-m,y)).map(i);return f?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Dl(c)).precision==null&&(c.trim=!0),c=wx(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(pE(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function gE(){const e=jx(fm()).domain([1,10]);return e.copy=()=>lc(e,gE()).base(e.base()),$r.apply(e,arguments),e}function f1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function m1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Nx(e){var t=1,r=e(f1(t),m1(t));return r.constant=function(n){return arguments.length?e(f1(t=+n),m1(t)):t},Ka(r)}function vE(){var e=Nx(fm());return e.copy=function(){return lc(e,vE()).constant(e.constant())},$r.apply(e,arguments)}function h1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WB(e){return e<0?-e*e:e*e}function _x(e){var t=e(Ft,Ft),r=1;function n(){return r===1?e(Ft,Ft):r===.5?e(qB,WB):e(h1(r),h1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ka(t)}function Sx(){var e=_x(fm());return e.copy=function(){return lc(e,Sx()).exponent(e.exponent())},$r.apply(e,arguments),e}function VB(){return Sx.apply(null,arguments).exponent(.5)}function p1(e){return Math.sign(e)*e*e}function KB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xE(){var e=yx(),t=[0,1],r=!1,n;function a(i){var o=KB(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(p1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ld)).map(p1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$r.apply(a,arguments),Ka(a)}function yE(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=XF(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[ic(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Oa),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return yE().domain(e).range(t).unknown(n)},$r.apply(i,arguments)}function bE(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[ic(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return bE().domain([e,t]).range(a).unknown(i)},$r.apply(Ka(o),arguments)}function wE(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ic(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return wE().domain(e).range(t).unknown(r)},$r.apply(a,arguments)}const zh=new Date,Uh=new Date;function ht(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ht(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(zh.setTime(+i),Uh.setTime(+o),e(zh),e(Uh),Math.floor(r(zh,Uh))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Bd=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Bd);Bd.range;const kn=1e3,_r=kn*60,En=_r*60,Wn=En*24,Cx=Wn*7,g1=Wn*30,qh=Wn*365,us=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCSeconds());us.range;const kx=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getMinutes());kx.range;const Ex=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_r)},(e,t)=>(t-e)/_r,e=>e.getUTCMinutes());Ex.range;const Px=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn-e.getMinutes()*_r)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getHours());Px.range;const Ax=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getUTCHours());Ax.range;const cc=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_r)/Wn,e=>e.getDate()-1);cc.range;const mm=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>e.getUTCDate()-1);mm.range;const jE=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>Math.floor(e/Wn));jE.range;function Ls(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_r)/Cx)}const hm=Ls(0),zd=Ls(1),GB=Ls(2),HB=Ls(3),Ki=Ls(4),YB=Ls(5),XB=Ls(6);hm.range;zd.range;GB.range;HB.range;Ki.range;YB.range;XB.range;function Fs(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Cx)}const pm=Fs(0),Ud=Fs(1),QB=Fs(2),JB=Fs(3),Gi=Fs(4),ZB=Fs(5),ez=Fs(6);pm.range;Ud.range;QB.range;JB.range;Gi.range;ZB.range;ez.range;const Ox=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ox.range;const Tx=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tx.range;const Vn=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vn.range;const Kn=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kn.range;function NE(e,t,r,n,a,i){const o=[[us,1,kn],[us,5,5*kn],[us,15,15*kn],[us,30,30*kn],[i,1,_r],[i,5,5*_r],[i,15,15*_r],[i,30,30*_r],[a,1,En],[a,3,3*En],[a,6,6*En],[a,12,12*En],[n,1,Wn],[n,2,2*Wn],[r,1,Cx],[t,1,g1],[t,3,3*g1],[e,1,qh]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,f){const m=Math.abs(d-u)/f,h=mx(([,,y])=>y).right(o,m);if(h===o.length)return e.every(qg(u/qh,d/qh,f));if(h===0)return Bd.every(Math.max(qg(u,d,f),1));const[g,v]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return g.every(v)}return[l,c]}const[tz,rz]=NE(Kn,Tx,pm,jE,Ax,Ex),[nz,az]=NE(Vn,Ox,hm,cc,Px,kx);function Wh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Vh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Po(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function sz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ao(a),d=Oo(a),f=Ao(i),m=Oo(i),h=Ao(o),g=Oo(o),v=Ao(l),y=Oo(l),w=Ao(c),b=Oo(c),x={a:F,A:L,b:z,B:W,c:null,d:j1,e:j1,f:Ez,g:Lz,G:Bz,H:Sz,I:Cz,j:kz,L:_E,m:Pz,M:Az,p:G,q:Y,Q:S1,s:C1,S:Oz,u:Tz,U:Iz,V:Mz,w:Rz,W:Dz,x:null,X:null,y:$z,Y:Fz,Z:zz,"%":_1},j={a:rt,A:ve,b:ke,B:Xe,c:null,d:N1,e:N1,f:Vz,g:tU,G:nU,H:Uz,I:qz,j:Wz,L:CE,m:Kz,M:Gz,p:$,q:ne,Q:S1,s:C1,S:Hz,u:Yz,U:Xz,V:Qz,w:Jz,W:Zz,x:null,X:null,y:eU,Y:rU,Z:aU,"%":_1},N={a:P,A:O,b:T,B:U,c:q,d:b1,e:b1,f:wz,g:y1,G:x1,H:w1,I:w1,j:vz,L:bz,m:gz,M:xz,p:A,q:pz,Q:Nz,s:_z,S:yz,u:uz,U:dz,V:fz,w:cz,W:mz,x:K,X:E,y:y1,Y:x1,Z:hz,"%":jz};x.x=_(r,x),x.X=_(n,x),x.c=_(t,x),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(k,I){return function(B){var M=[],ie=-1,D=0,Q=k.length,se,me,Qe;for(B instanceof Date||(B=new Date(+B));++ie<Q;)k.charCodeAt(ie)===37&&(M.push(k.slice(D,ie)),(me=v1[se=k.charAt(++ie)])!=null?se=k.charAt(++ie):me=se==="e"?" ":"0",(Qe=I[se])&&(se=Qe(B,me)),M.push(se),D=ie+1);return M.push(k.slice(D,ie)),M.join("")}}function S(k,I){return function(B){var M=Po(1900,void 0,1),ie=C(M,k,B+="",0),D,Q;if(ie!=B.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(I&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(D=Vh(Po(M.y,0,1)),Q=D.getUTCDay(),D=Q>4||Q===0?Ud.ceil(D):Ud(D),D=mm.offset(D,(M.V-1)*7),M.y=D.getUTCFullYear(),M.m=D.getUTCMonth(),M.d=D.getUTCDate()+(M.w+6)%7):(D=Wh(Po(M.y,0,1)),Q=D.getDay(),D=Q>4||Q===0?zd.ceil(D):zd(D),D=cc.offset(D,(M.V-1)*7),M.y=D.getFullYear(),M.m=D.getMonth(),M.d=D.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),Q="Z"in M?Vh(Po(M.y,0,1)).getUTCDay():Wh(Po(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(Q+5)%7:M.w+M.U*7-(Q+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,Vh(M)):Wh(M)}}function C(k,I,B,M){for(var ie=0,D=I.length,Q=B.length,se,me;ie<D;){if(M>=Q)return-1;if(se=I.charCodeAt(ie++),se===37){if(se=I.charAt(ie++),me=N[se in v1?I.charAt(ie++):se],!me||(M=me(k,B,M))<0)return-1}else if(se!=B.charCodeAt(M++))return-1}return M}function A(k,I,B){var M=u.exec(I.slice(B));return M?(k.p=d.get(M[0].toLowerCase()),B+M[0].length):-1}function P(k,I,B){var M=h.exec(I.slice(B));return M?(k.w=g.get(M[0].toLowerCase()),B+M[0].length):-1}function O(k,I,B){var M=f.exec(I.slice(B));return M?(k.w=m.get(M[0].toLowerCase()),B+M[0].length):-1}function T(k,I,B){var M=w.exec(I.slice(B));return M?(k.m=b.get(M[0].toLowerCase()),B+M[0].length):-1}function U(k,I,B){var M=v.exec(I.slice(B));return M?(k.m=y.get(M[0].toLowerCase()),B+M[0].length):-1}function q(k,I,B){return C(k,t,I,B)}function K(k,I,B){return C(k,r,I,B)}function E(k,I,B){return C(k,n,I,B)}function F(k){return o[k.getDay()]}function L(k){return i[k.getDay()]}function z(k){return c[k.getMonth()]}function W(k){return l[k.getMonth()]}function G(k){return a[+(k.getHours()>=12)]}function Y(k){return 1+~~(k.getMonth()/3)}function rt(k){return o[k.getUTCDay()]}function ve(k){return i[k.getUTCDay()]}function ke(k){return c[k.getUTCMonth()]}function Xe(k){return l[k.getUTCMonth()]}function $(k){return a[+(k.getUTCHours()>=12)]}function ne(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var I=_(k+="",x);return I.toString=function(){return k},I},parse:function(k){var I=S(k+="",!1);return I.toString=function(){return k},I},utcFormat:function(k){var I=_(k+="",j);return I.toString=function(){return k},I},utcParse:function(k){var I=S(k+="",!0);return I.toString=function(){return k},I}}}var v1={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,iz=/^%/,oz=/[\\^$*+?|[\]().{}]/g;function pe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function lz(e){return e.replace(oz,"\\$&")}function Ao(e){return new RegExp("^(?:"+e.map(lz).join("|")+")","i")}function Oo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cz(e,t,r){var n=bt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function uz(e,t,r){var n=bt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function dz(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fz(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function mz(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function x1(e,t,r){var n=bt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function y1(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pz(e,t,r){var n=bt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function gz(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function b1(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function vz(e,t,r){var n=bt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function w1(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function xz(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yz(e,t,r){var n=bt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bz(e,t,r){var n=bt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function wz(e,t,r){var n=bt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jz(e,t,r){var n=iz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Nz(e,t,r){var n=bt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _z(e,t,r){var n=bt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function j1(e,t){return pe(e.getDate(),t,2)}function Sz(e,t){return pe(e.getHours(),t,2)}function Cz(e,t){return pe(e.getHours()%12||12,t,2)}function kz(e,t){return pe(1+cc.count(Vn(e),e),t,3)}function _E(e,t){return pe(e.getMilliseconds(),t,3)}function Ez(e,t){return _E(e,t)+"000"}function Pz(e,t){return pe(e.getMonth()+1,t,2)}function Az(e,t){return pe(e.getMinutes(),t,2)}function Oz(e,t){return pe(e.getSeconds(),t,2)}function Tz(e){var t=e.getDay();return t===0?7:t}function Iz(e,t){return pe(hm.count(Vn(e)-1,e),t,2)}function SE(e){var t=e.getDay();return t>=4||t===0?Ki(e):Ki.ceil(e)}function Mz(e,t){return e=SE(e),pe(Ki.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function Rz(e){return e.getDay()}function Dz(e,t){return pe(zd.count(Vn(e)-1,e),t,2)}function $z(e,t){return pe(e.getFullYear()%100,t,2)}function Lz(e,t){return e=SE(e),pe(e.getFullYear()%100,t,2)}function Fz(e,t){return pe(e.getFullYear()%1e4,t,4)}function Bz(e,t){var r=e.getDay();return e=r>=4||r===0?Ki(e):Ki.ceil(e),pe(e.getFullYear()%1e4,t,4)}function zz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pe(t/60|0,"0",2)+pe(t%60,"0",2)}function N1(e,t){return pe(e.getUTCDate(),t,2)}function Uz(e,t){return pe(e.getUTCHours(),t,2)}function qz(e,t){return pe(e.getUTCHours()%12||12,t,2)}function Wz(e,t){return pe(1+mm.count(Kn(e),e),t,3)}function CE(e,t){return pe(e.getUTCMilliseconds(),t,3)}function Vz(e,t){return CE(e,t)+"000"}function Kz(e,t){return pe(e.getUTCMonth()+1,t,2)}function Gz(e,t){return pe(e.getUTCMinutes(),t,2)}function Hz(e,t){return pe(e.getUTCSeconds(),t,2)}function Yz(e){var t=e.getUTCDay();return t===0?7:t}function Xz(e,t){return pe(pm.count(Kn(e)-1,e),t,2)}function kE(e){var t=e.getUTCDay();return t>=4||t===0?Gi(e):Gi.ceil(e)}function Qz(e,t){return e=kE(e),pe(Gi.count(Kn(e),e)+(Kn(e).getUTCDay()===4),t,2)}function Jz(e){return e.getUTCDay()}function Zz(e,t){return pe(Ud.count(Kn(e)-1,e),t,2)}function eU(e,t){return pe(e.getUTCFullYear()%100,t,2)}function tU(e,t){return e=kE(e),pe(e.getUTCFullYear()%100,t,2)}function rU(e,t){return pe(e.getUTCFullYear()%1e4,t,4)}function nU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gi(e):Gi.ceil(e),pe(e.getUTCFullYear()%1e4,t,4)}function aU(){return"+0000"}function _1(){return"%"}function S1(e){return+e}function C1(e){return Math.floor(+e/1e3)}var Ys,EE,PE;sU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sU(e){return Ys=sz(e),EE=Ys.format,Ys.parse,PE=Ys.utcFormat,Ys.utcParse,Ys}function iU(e){return new Date(e)}function oU(e){return e instanceof Date?+e:+new Date(+e)}function Ix(e,t,r,n,a,i,o,l,c,u){var d=yx(),f=d.invert,m=d.domain,h=u(".%L"),g=u(":%S"),v=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),b=u("%b %d"),x=u("%B"),j=u("%Y");function N(_){return(c(_)<_?h:l(_)<_?g:o(_)<_?v:i(_)<_?y:n(_)<_?a(_)<_?w:b:r(_)<_?x:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?m(Array.from(_,oU)):m().map(iU)},d.ticks=function(_){var S=m();return e(S[0],S[S.length-1],_??10)},d.tickFormat=function(_,S){return S==null?N:u(S)},d.nice=function(_){var S=m();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?m(pE(S,_)):d},d.copy=function(){return lc(d,Ix(e,t,r,n,a,i,o,l,c,u))},d}function lU(){return $r.apply(Ix(nz,az,Vn,Ox,hm,cc,Px,kx,us,EE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cU(){return $r.apply(Ix(tz,rz,Kn,Tx,pm,mm,Ax,Ex,us,PE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gm(){var e=0,t=1,r,n,a,i,o=Ft,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,g;return arguments.length?([h,g]=m,o=f(h,g),u):[o(0),o(1)]}}return u.range=d(so),u.rangeRound=d(xx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ga(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AE(){var e=Ka(gm()(Ft));return e.copy=function(){return Ga(e,AE())},Zn.apply(e,arguments)}function OE(){var e=jx(gm()).domain([1,10]);return e.copy=function(){return Ga(e,OE()).base(e.base())},Zn.apply(e,arguments)}function TE(){var e=Nx(gm());return e.copy=function(){return Ga(e,TE()).constant(e.constant())},Zn.apply(e,arguments)}function Mx(){var e=_x(gm());return e.copy=function(){return Ga(e,Mx()).exponent(e.exponent())},Zn.apply(e,arguments)}function uU(){return Mx.apply(null,arguments).exponent(.5)}function IE(){var e=[],t=Ft;function r(n){if(n!=null&&!isNaN(n=+n))return t((ic(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Oa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>YF(e,i/n))},r.copy=function(){return IE(t).domain(e)},Zn.apply(r,arguments)}function vm(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Ft,d,f=!1,m;function h(v){return isNaN(v=+v)?m:(v=.5+((v=+d(v))-i)*(n*v<n*i?l:c),u(f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(u=v,h):u};function g(v){return function(y){var w,b,x;return arguments.length?([w,b,x]=y,u=jB(v,[w,b,x]),h):[u(0),u(.5),u(1)]}}return h.range=g(so),h.rangeRound=g(xx),h.unknown=function(v){return arguments.length?(m=v,h):m},function(v){return d=v,a=v(e),i=v(t),o=v(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function ME(){var e=Ka(vm()(Ft));return e.copy=function(){return Ga(e,ME())},Zn.apply(e,arguments)}function RE(){var e=jx(vm()).domain([.1,1,10]);return e.copy=function(){return Ga(e,RE()).base(e.base())},Zn.apply(e,arguments)}function DE(){var e=Nx(vm());return e.copy=function(){return Ga(e,DE()).constant(e.constant())},Zn.apply(e,arguments)}function Rx(){var e=_x(vm());return e.copy=function(){return Ga(e,Rx()).exponent(e.exponent())},Zn.apply(e,arguments)}function dU(){return Rx.apply(null,arguments).exponent(.5)}const zo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:px,scaleDiverging:ME,scaleDivergingLog:RE,scaleDivergingPow:Rx,scaleDivergingSqrt:dU,scaleDivergingSymlog:DE,scaleIdentity:hE,scaleImplicit:Wg,scaleLinear:mE,scaleLog:gE,scaleOrdinal:hx,scalePoint:JF,scalePow:Sx,scaleQuantile:yE,scaleQuantize:bE,scaleRadial:xE,scaleSequential:AE,scaleSequentialLog:OE,scaleSequentialPow:Mx,scaleSequentialQuantile:IE,scaleSequentialSqrt:uU,scaleSequentialSymlog:TE,scaleSqrt:VB,scaleSymlog:vE,scaleThreshold:wE,scaleTime:lU,scaleUtc:cU,tickFormat:fE},Symbol.toStringTag,{value:"Module"}));var Ha=e=>e.chartData,Dx=R([Ha],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),uc=(e,t,r,n)=>n?Dx(e):Ha(e);function Hi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(kt(t)&&kt(r))return!0}return!1}function k1(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function fU(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(kt(r))a=r;else if(typeof r=="function")return;if(kt(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Hi(o))return o}}function mU(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Hi(n))return k1(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(re(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&wj.test(a)){var c=wj.exec(a);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(re(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&jj.test(i)){var d=jj.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var m=[o,l];if(Hi(m))return t==null?m:k1(m,t,r)}}}var io=1e9,hU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lx,ze=!0,Ir="[DecimalError] ",xs=Ir+"Invalid argument: ",$x=Ir+"Exponent out of range: ",oo=Math.floor,ns=Math.pow,pU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,gt=1e7,Me=7,$E=9007199254740991,qd=oo($E/Me),Z={};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Z.comparedTo=Z.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Z.decimalPlaces=Z.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Me;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Z.dividedBy=Z.div=function(e){return In(this,new this.constructor(e))};Z.dividedToIntegerBy=Z.idiv=function(e){var t=this,r=t.constructor;return Se(In(t,new r(e),0,1),r.precision)};Z.equals=Z.eq=function(e){return!this.cmp(e)};Z.exponent=function(){return it(this)};Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0};Z.greaterThanOrEqualTo=Z.gte=function(e){return this.cmp(e)>=0};Z.isInteger=Z.isint=function(){return this.e>this.d.length-2};Z.isNegative=Z.isneg=function(){return this.s<0};Z.isPositive=Z.ispos=function(){return this.s>0};Z.isZero=function(){return this.s===0};Z.lessThan=Z.lt=function(e){return this.cmp(e)<0};Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1};Z.logarithm=Z.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sr))throw Error(Ir+"NaN");if(r.s<1)throw Error(Ir+(r.s?"NaN":"-Infinity"));return r.eq(sr)?new n(0):(ze=!1,t=In($l(r,i),$l(e,i),i),ze=!0,Se(t,a))};Z.minus=Z.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BE(t,e):LE(t,(e.s=-e.s,e))};Z.modulo=Z.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ir+"NaN");return r.s?(ze=!1,t=In(r,e,0,1).times(e),ze=!0,r.minus(t)):Se(new n(r),a)};Z.naturalExponential=Z.exp=function(){return FE(this)};Z.naturalLogarithm=Z.ln=function(){return $l(this)};Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Z.plus=Z.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LE(t,e):BE(t,(e.s=-e.s,e))};Z.precision=Z.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xs+e);if(t=it(a)+1,n=a.d.length-1,r=n*Me+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Z.squareRoot=Z.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ir+"NaN")}for(e=it(l),ze=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=nn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=oo((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(In(l,i,o+2)).times(.5),nn(i.d).slice(0,o)===(t=nn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Se(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ze=!0,Se(n,r)};Z.times=Z.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+h[n]*m[a-n-1]+t,i[a--]=l%gt|0,t=l/gt|0;i[a]=(i[a]+t)%gt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ze?Se(e,f.precision):e};Z.toDecimalPlaces=Z.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(dn(e,0,io),t===void 0?t=n.rounding:dn(t,0,8),Se(r,e+it(r)+1,t))};Z.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ps(n,!0):(dn(e,0,io),t===void 0?t=a.rounding:dn(t,0,8),n=Se(new a(n),e+1,t),r=Ps(n,!0,e+1)),r};Z.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ps(a):(dn(e,0,io),t===void 0?t=i.rounding:dn(t,0,8),n=Se(new i(a),e+it(a)+1,t),r=Ps(n.abs(),!1,e+it(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Z.toInteger=Z.toint=function(){var e=this,t=e.constructor;return Se(new t(e),it(e)+1,t.rounding)};Z.toNumber=function(){return+this};Z.toPower=Z.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(sr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ir+"Infinity");return l}if(l.eq(sr))return l;if(n=c.precision,e.eq(sr))return Se(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=$E){for(a=new c(sr),t=Math.ceil(n/Me+4),ze=!1;r%2&&(a=a.times(l),P1(a.d,t)),r=oo(r/2),r!==0;)l=l.times(l),P1(l.d,t);return ze=!0,e.s<0?new c(sr).div(a):Se(a,n)}}else if(i<0)throw Error(Ir+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ze=!1,a=e.times($l(l,n+u)),ze=!0,a=FE(a),a.s=i,a};Z.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=it(a),n=Ps(a,r<=i.toExpNeg||r>=i.toExpPos)):(dn(e,1,io),t===void 0?t=i.rounding:dn(t,0,8),a=Se(new i(a),e,t),r=it(a),n=Ps(a,e<=r||r<=i.toExpNeg,e)),n};Z.toSignificantDigits=Z.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(dn(e,1,io),t===void 0?t=n.rounding:dn(t,0,8)),Se(new n(r),e,t)};Z.toString=Z.valueOf=Z.val=Z.toJSON=Z[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=it(e),r=e.constructor;return Ps(e,t<=r.toExpNeg||t>=r.toExpPos)};function LE(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ze?Se(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Me),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/gt|0,c[i]%=gt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ze?Se(t,f):t}function dn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xs+e)}function nn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Me-n.length,r&&(i+=da(r)),i+=n;o=e[t],n=o+"",r=Me-n.length,r&&(i+=da(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var In=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%gt|0,o=i/gt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*gt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,m,h,g,v,y,w,b,x,j,N,_,S,C,A=n.constructor,P=n.s==a.s?1:-1,O=n.d,T=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Ir+"Division by zero");for(c=n.e-a.e,S=T.length,N=O.length,h=new A(P),g=h.d=[],u=0;T[u]==(O[u]||0);)++u;if(T[u]>(O[u]||0)&&--c,i==null?b=i=A.precision:o?b=i+(it(n)-it(a))+1:b=i,b<0)return new A(0);if(b=b/Me+2|0,u=0,S==1)for(d=0,T=T[0],b++;(u<N||d)&&b--;u++)x=d*gt+(O[u]||0),g[u]=x/T|0,d=x%T|0;else{for(d=gt/(T[0]+1)|0,d>1&&(T=e(T,d),O=e(O,d),S=T.length,N=O.length),j=S,v=O.slice(0,S),y=v.length;y<S;)v[y++]=0;C=T.slice(),C.unshift(0),_=T[0],T[1]>=gt/2&&++_;do d=0,l=t(T,v,S,y),l<0?(w=v[0],S!=y&&(w=w*gt+(v[1]||0)),d=w/_|0,d>1?(d>=gt&&(d=gt-1),f=e(T,d),m=f.length,y=v.length,l=t(f,v,m,y),l==1&&(d--,r(f,S<m?C:T,m))):(d==0&&(l=d=1),f=T.slice()),m=f.length,m<y&&f.unshift(0),r(v,f,y),l==-1&&(y=v.length,l=t(T,v,S,y),l<1&&(d++,r(v,S<y?C:T,y))),y=v.length):l===0&&(d++,v=[0]),g[u++]=d,l&&v[0]?v[y++]=O[j]||0:(v=[O[j]],y=1);while((j++<N||v[0]!==void 0)&&b--)}return g[0]||g.shift(),h.e=c,Se(h,o?i+it(h)+1:i)}}();function FE(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(it(e)>16)throw Error($x+it(e));if(!e.s)return new d(sr);for(ze=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ns(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(sr),d.precision=l;;){if(a=Se(a.times(e),l),r=r.times(++c),o=i.plus(In(a,r,l)),nn(o.d).slice(0,l)===nn(i.d).slice(0,l)){for(;u--;)i=Se(i.times(i),l);return d.precision=f,t==null?(ze=!0,Se(i,f)):i}i=o}}function it(e){for(var t=e.e*Me,r=e.d[0];r>=10;r/=10)t++;return t}function Kh(e,t,r){if(t>e.LN10.sd())throw ze=!0,r&&(e.precision=r),Error(Ir+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function da(e){for(var t="";e--;)t+="0";return t}function $l(e,t){var r,n,a,i,o,l,c,u,d,f=1,m=10,h=e,g=h.d,v=h.constructor,y=v.precision;if(h.s<1)throw Error(Ir+(h.s?"NaN":"-Infinity"));if(h.eq(sr))return new v(0);if(t==null?(ze=!1,u=y):u=t,h.eq(10))return t==null&&(ze=!0),Kh(v,u);if(u+=m,v.precision=u,r=nn(g),n=r.charAt(0),i=it(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=nn(h.d),n=r.charAt(0),f++;i=it(h),n>1?(h=new v("0."+r),i++):h=new v(n+"."+r.slice(1))}else return c=Kh(v,u+2,y).times(i+""),h=$l(new v(n+"."+r.slice(1)),u-m).plus(c),v.precision=y,t==null?(ze=!0,Se(h,y)):h;for(l=o=h=In(h.minus(sr),h.plus(sr),u),d=Se(h.times(h),u),a=3;;){if(o=Se(o.times(d),u),c=l.plus(In(o,new v(a),u)),nn(c.d).slice(0,u)===nn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Kh(v,u+2,y).times(i+""))),l=In(l,new v(f),u),v.precision=y,t==null?(ze=!0,Se(l,y)):l;l=c,a+=2}}function E1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=oo(r/Me),e.d=[],n=(r+1)%Me,r<0&&(n+=Me),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Me;n<a;)e.d.push(+t.slice(n,n+=Me));t=t.slice(n),n=Me-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ze&&(e.e>qd||e.e<-qd))throw Error($x+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Me,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Me),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Me,a=n-Me+o}if(r!==void 0&&(i=ns(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ns(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=it(e),f.length=1,t=t-i-1,f[0]=ns(10,(Me-t%Me)%Me),e.e=oo(-t/Me)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ns(10,Me-n),f[d]=a>0?(u/ns(10,o-a)%ns(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==gt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=gt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ze&&(e.e>qd||e.e<-qd))throw Error($x+it(e));return e}function BE(e,t){var r,n,a,i,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),ze?Se(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Me),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=gt-1;--c[i],c[a]+=gt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ze?Se(t,h):t):new m(0)}function Ps(e,t,r){var n,a=it(e),i=nn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+da(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+da(-a-1)+i,r&&(n=r-o)>0&&(i+=da(n))):a>=o?(i+=da(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+da(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=da(n))),e.s<0?"-"+i:i}function P1(e,t){if(e.length>t)return e.length=t,!0}function zE(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xs+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return E1(o,i.toString())}else if(typeof i!="string")throw Error(xs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,pU.test(i))E1(o,i);else throw Error(xs+i)}if(a.prototype=Z,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=zE,a.config=a.set=gU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function gU(e){if(!e||typeof e!="object")throw Error(Ir+"Object expected");var t,r,n,a=["precision",1,io,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(oo(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(xs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xs+r+": "+n);return this}var Lx=zE(hU);sr=new Lx(1);const ye=Lx;var vU=e=>e,UE={},qE=e=>e===UE,A1=e=>function t(){return arguments.length===0||arguments.length===1&&qE(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},WE=(e,t)=>e===1?t:A1(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==UE).length;return i>=e?t(...n):WE(e-i,A1(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>qE(d)?l.shift():d);return t(...u,...l)}))}),xm=e=>WE(e.length,e),Hg=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},xU=xm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),yU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vU;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},Yg=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),VE=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function KE(e){var t;return e===0?t=1:t=Math.floor(new ye(e).abs().log(10).toNumber())+1,t}function GE(e,t,r){for(var n=new ye(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}xm((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});xm((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});xm((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var HE=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},YE=(e,t,r)=>{if(e.lte(0))return new ye(0);var n=KE(e.toNumber()),a=new ye(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ye(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new ye(c.toNumber()):new ye(Math.ceil(c.toNumber()))},bU=(e,t,r)=>{var n=new ye(1),a=new ye(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ye(10).pow(KE(e)-1),a=new ye(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ye(Math.floor(e)))}else e===0?a=new ye(Math.floor((t-1)/2)):r||(a=new ye(Math.floor(e)));var o=Math.floor((t-1)/2),l=yU(xU(c=>a.add(new ye(c-o).mul(n)).toNumber()),Hg);return l(0,t)},XE=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ye(0),tickMin:new ye(0),tickMax:new ye(0)};var o=YE(new ye(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new ye(0):(l=new ye(t).add(r).div(2),l=l.sub(new ye(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new ye(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?XE(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new ye(c).mul(o)),tickMax:l.add(new ye(u).mul(o))})};function wU(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=HE([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Hg(0,n-1).map(()=>1/0)]:[...Hg(0,n-1).map(()=>-1/0),l];return t>r?Yg(c):c}if(o===l)return bU(o,n,a);var{step:u,tickMin:d,tickMax:f}=XE(o,l,i,a,0),m=GE(d,f.add(new ye(.1).mul(u)),u);return t>r?Yg(m):m}function jU(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=HE([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=YE(new ye(o).sub(i).div(l-1),a,0),u=[...GE(new ye(i),new ye(o),c),o];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?Yg(u):u}var NU=VE(wU),_U=VE(jU),QE=e=>e.rootProps.maxBarSize,SU=e=>e.rootProps.barGap,JE=e=>e.rootProps.barCategoryGap,CU=e=>e.rootProps.barSize,dc=e=>e.rootProps.stackOffset,Fx=e=>e.options.chartName,Bx=e=>e.rootProps.syncId,ZE=e=>e.rootProps.syncMethod,zx=e=>e.options.eventEmitter,Nn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ym=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},kU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Nn.angleAxisId,includeHidden:!1,name:void 0,reversed:Nn.reversed,scale:Nn.scale,tick:Nn.tick,tickCount:void 0,ticks:void 0,type:Nn.type,unit:void 0},EU={allowDataOverflow:nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,ticks:void 0,type:nr.type,unit:void 0},PU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nn.scale,tick:Nn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},AU={allowDataOverflow:nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,ticks:void 0,type:"category",unit:void 0},Ux=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?PU:kU,qx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?AU:EU,bm=e=>e.polarOptions,Wx=R([Xn,Qn,ft],Tk),eP=R([bm,Wx],(e,t)=>{if(e!=null)return It(e.innerRadius,t,0)}),tP=R([bm,Wx],(e,t)=>{if(e!=null)return It(e.outerRadius,t,t*.8)}),OU=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},rP=R([bm],OU);R([Ux,rP],ym);var nP=R([Wx,eP,tP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});R([qx,nP],ym);var aP=R([de,bm,eP,tP,Xn,Qn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:It(o,a,a/2),cy:It(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ue=(e,t)=>t,fc=(e,t,r)=>r;function wm(e){return e==null?void 0:e.id}var pt=e=>{var t=de(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},lo=e=>e.tooltip.settings.axisId,wt=e=>{var t=pt(e),r=lo(e);return mc(e,t,r)},sP=R([wt],e=>e==null?void 0:e.dataKey);function iP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=wm(l);u.forEach((f,m)=>{var h=i==null||a?m:String(_e(f,i,null)),g=_e(f,l.dataKey,0),v;o.has(h)?v=o.get(h):v={},Object.assign(v,{[d]:g}),o.set(h,v)})}}),Array.from(o.values())}function jm(e){return e.stackId!=null&&e.dataKey!=null}function O1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(r),!0).forEach(function(n){TU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TU(e,t,r){return(t=IU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IU(e){var t=MU(e,"string");return typeof t=="symbol"?t:t+""}function MU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xg=[0,"auto"],er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},oP=(e,t)=>e.cartesianAxis.xAxis[t],ea=(e,t)=>{var r=oP(e,t);return r??er},tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Xg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ac},lP=(e,t)=>e.cartesianAxis.yAxis[t],ta=(e,t)=>{var r=lP(e,t);return r??tr},RU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Vx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??RU},tt=(e,t,r)=>{switch(t){case"xAxis":return ea(e,r);case"yAxis":return ta(e,r);case"zAxis":return Vx(e,r);case"angleAxis":return Ux(e,r);case"radiusAxis":return qx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DU=(e,t,r)=>{switch(t){case"xAxis":return ea(e,r);case"yAxis":return ta(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mc=(e,t,r)=>{switch(t){case"xAxis":return ea(e,r);case"yAxis":return ta(e,r);case"angleAxis":return Ux(e,r);case"radiusAxis":return qx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Kx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var hc=e=>e.graphicalItems.cartesianItems,$U=R([Ue,fc],Kx),Gx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),pc=R([hc,tt,$U],Gx),uP=R([pc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jm)),dP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),fP=R([pc],dP),Hx=e=>e.map(t=>t.data).filter(Boolean).flat(1),LU=R([pc],Hx),Yx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Xx=R([LU,uc],Yx),Qx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:_e(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:_e(a,n)}))):e.map(n=>({value:n})),Nm=R([Xx,tt,pc],Qx);function mP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Bs(e){return e.filter(t=>un(t)||t instanceof Date).map(Number).filter(t=>Zt(t)===!1)}function FU(e,t,r){return!r||typeof t!="number"||Zt(t)?[]:r.length?Bs(r.flatMap(n=>{var a=_e(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!kt(i)||!kt(o)))return[t-i,t+o]})):[]}var BU=R([uP,uc,wt],iP),hP=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(wm);return[o,{stackedData:YL(e,c,r),graphicalItems:l}]}))},Ll=R([BU,uP,dc],hP),pP=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=ZL(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},zU=R([Ll,Ha,Ue],pP),gP=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,u=(l=n[o.id])===null||l===void 0?void 0:l.filter(f=>mP(a,f)),d=_e(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:FU(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:_e(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),_m=e=>e.errorBars,vP=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>mP(r,n));R([fP,_m,Ue],vP);var UU=R([Xx,tt,fP,_m,Ue],gP);function qU(e){var{value:t}=e;if(un(t)||t instanceof Date)return t}var T1=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Bs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},WU=(e,t,r)=>{var n=e.map(qU).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&dC(n))?rE(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Jx=e=>{var t;if(e==null||!("domain"in e))return Xg;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Bs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Xg},Vd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},xP=e=>e.referenceElements.dots,co=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),VU=R([xP,Ue,fc],co),yP=e=>e.referenceElements.areas,KU=R([yP,Ue,fc],co),bP=e=>e.referenceElements.lines,GU=R([bP,Ue,fc],co),wP=(e,t)=>{var r=Bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},HU=R(VU,Ue,wP),jP=(e,t)=>{var r=Bs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},YU=R([KU,Ue],jP),NP=(e,t)=>{var r=Bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},XU=R(GU,Ue,NP),QU=R(HU,XU,YU,(e,t,r)=>Vd(e,r,t)),_P=R([tt],Jx),Zx=(e,t,r,n,a,i,o)=>{var l=fU(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=c?Vd(r,a,T1(n)):Vd(a,T1(n));return mU(t,u,e.allowDataOverflow)},JU=R([tt,_P,zU,UU,QU,de,Ue],Zx),ZU=[0,1],ey=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=pn(t,i);return u&&l==null?rE(0,r.length):c==="category"?WU(n,e,u):a==="expand"?ZU:o}},ty=R([tt,de,Xx,Nm,dc,Ue,JU],ey),SP=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(ec(i));return l in zo?l:"point"}}},uo=R([tt,de,cP,Fx,Ue],SP);function e9(e){if(e!=null){if(e in zo)return zo[e]();var t="scale".concat(ec(e));if(t in zo)return zo[t]()}}function ry(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=e9(t);if(a!=null){var i=a.domain(r).range(n);return WL(i),i}}}var ny=(e,t,r)=>{var n=Jx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Hi(e))return NU(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Hi(e))return _U(e,t.tickCount,t.allowDecimals)}},ay=R([ty,mc,uo],ny),sy=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Hi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},t9=R([tt,ty,ay,Ue],sy),r9=R(Nm,tt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Bs(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),CP=R(r9,de,JE,ft,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!kt(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=It(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),n9=(e,t)=>{var r=ea(e,t);return r==null||typeof r.padding!="string"?0:CP(e,"xAxis",t,r.padding)},a9=(e,t)=>{var r=ta(e,t);return r==null||typeof r.padding!="string"?0:CP(e,"yAxis",t,r.padding)},s9=R(ea,n9,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),i9=R(ta,a9,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),o9=R([ft,s9,um,cm,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),l9=R([ft,de,i9,um,cm,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gc=(e,t,r,n)=>{var a;switch(t){case"xAxis":return o9(e,r,n);case"yAxis":return l9(e,r,n);case"zAxis":return(a=Vx(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return rP(e);case"radiusAxis":return nP(e,r);default:return}},kP=R([tt,gc],ym),fo=R([tt,uo,t9,kP],ry);R([pc,_m,Ue],vP);function EP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Sm=(e,t)=>t,Cm=(e,t,r)=>r,c9=R(om,Sm,Cm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EP)),u9=R(lm,Sm,Cm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EP)),PP=(e,t)=>({width:e.width,height:t.height}),d9=(e,t)=>{var r=typeof t.width=="number"?t.width:ac;return{width:r,height:e.height}},AP=R(ft,ea,PP),f9=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},m9=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},h9=R(Qn,ft,c9,Sm,Cm,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=PP(t,l);o==null&&(o=f9(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),p9=R(Xn,ft,u9,Sm,Cm,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=d9(t,l);o==null&&(o=m9(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),g9=(e,t)=>{var r=ea(e,t);if(r!=null)return h9(e,r.orientation,r.mirror)},v9=R([ft,ea,g9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),x9=(e,t)=>{var r=ta(e,t);if(r!=null)return p9(e,r.orientation,r.mirror)},y9=R([ft,ta,x9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),OP=R(ft,ta,(e,t)=>{var r=typeof t.width=="number"?t.width:ac;return{width:r,height:e.height}}),I1=(e,t,r)=>{switch(t){case"xAxis":return AP(e,r).width;case"yAxis":return OP(e,r).height;default:return}},TP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=pn(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&dC(c))return c}},iy=R([de,Nm,tt,Ue],TP),IP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=pn(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},oy=R([de,Nm,mc,Ue],IP),M1=R([de,DU,uo,fo,iy,oy,gc,ay,Ue],(e,t,r,n,a,i,o,l,c)=>{if(t==null)return null;var u=pn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}),b9=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var u=pn(e,c),{type:d,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/h:0;g=c==="angleAxis"&&i!=null&&i.length>=2?xt(i[0]-i[1])*2*g:g;var v=f||a;if(v){var y=v.map((w,b)=>{var x=o?o.indexOf(w):w;return{index:b,coordinate:n(x)+g,value:w,offset:g}});return y.filter(w=>!Zt(w.coordinate))}return u&&l?l.map((w,b)=>({coordinate:n(w)+g,value:w,index:b,offset:g})):n.ticks?n.ticks(m).map(w=>({coordinate:n(w)+g,value:w,offset:g})):n.domain().map((w,b)=>({coordinate:n(w)+g,value:o?o[w]:w,index:b,offset:g}))}},MP=R([de,mc,uo,fo,ay,gc,iy,oy,Ue],b9),w9=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=pn(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?xt(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},fn=R([de,mc,fo,gc,iy,oy,Ue],w9),mn=R(tt,fo,(e,t)=>{if(!(e==null||t==null))return Wd(Wd({},e),{},{scale:t})}),j9=R([tt,uo,ty,kP],ry);R((e,t,r)=>Vx(e,r),j9,(e,t)=>{if(!(e==null||t==null))return Wd(Wd({},e),{},{scale:t})});var N9=R([de,om,lm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RP=e=>e.options.defaultTooltipEventType,DP=e=>e.options.validateTooltipEventTypes;function $P(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ly(e,t){var r=RP(e),n=DP(e);return $P(t,r,n)}function _9(e){return te(t=>ly(t,e))}var LP=(e,t)=>{var r,n=Number(t);if(!(Zt(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},S9=e=>e.tooltip.settings,ga={active:!1,index:null,dataKey:void 0,coordinate:void 0},C9={itemInteraction:{click:ga,hover:ga},axisInteraction:{click:ga,hover:ga},keyboardInteraction:ga,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FP=hr({name:"tooltip",initialState:C9,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Tn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:k9,removeTooltipEntrySettings:E9,setTooltipSettingsState:P9,setActiveMouseOverItemIndex:BP,mouseLeaveItem:A9,mouseLeaveChart:zP,setActiveClickItemIndex:O9,setMouseOverAxisIndex:UP,setMouseClickAxisIndex:T9,setSyncInteraction:Qg,setKeyboardInteraction:Jg}=FP.actions,I9=FP.reducer;function R1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(r),!0).forEach(function(n){M9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M9(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $9(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function L9(e){return e.index!=null}var qP=(e,t,r,n)=>{if(t==null)return ga;var a=$9(e,t,r);if(a==null)return ga;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(L9(a)){if(i)return su(su({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return su(su({},ga),{},{coordinate:a.coordinate})},cy=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!kt(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},WP=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},VP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},vc=e=>e.options.tooltipPayloadSearcher,mo=e=>e.tooltip;function D1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9(e,t,r){return(t=B9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B9(e){var t=z9(e,"string");return typeof t=="symbol"?t:t+""}function z9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U9(e,t){return e??t}var KP=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,h)=>{var g,{dataDefinedOnItem:v,settings:y}=h,w=U9(v,l),b=Array.isArray(w)?Ik(w,u,d):w,x=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n,j=y==null?void 0:y.nameKey,N;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?N=fC(b,n,a):N=i(b,t,c,j),Array.isArray(N))N.forEach(S=>{var C=$1($1({},y),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});m.push(Nj({tooltipEntrySettings:C,dataKey:S.dataKey,payload:S.payload,value:_e(S.payload,S.dataKey),name:S.name}))});else{var _;m.push(Nj({tooltipEntrySettings:y,dataKey:x,payload:N,value:_e(N,x),name:(_=_e(N,j))!==null&&_!==void 0?_:y==null?void 0:y.name}))}return m},f)}},uy=R([wt,de,cP,Fx,pt],SP),q9=R([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),W9=R([pt,lo],Kx),xc=R([q9,wt,W9],Gx),V9=R([xc],e=>e.filter(jm)),K9=R([xc],Hx),ho=R([K9,Ha],Yx),G9=R([V9,Ha,wt],iP),dy=R([ho,wt,xc],Qx),H9=R([wt],Jx),Y9=R([xc],e=>e.filter(jm)),X9=R([G9,Y9,dc],hP),Q9=R([X9,Ha,pt],pP),J9=R([xc],dP),Z9=R([ho,wt,J9,_m,pt],gP),e7=R([xP,pt,lo],co),t7=R([e7,pt],wP),r7=R([yP,pt,lo],co),n7=R([r7,pt],jP),a7=R([bP,pt,lo],co),s7=R([a7,pt],NP),i7=R([t7,s7,n7],Vd),o7=R([wt,H9,Q9,Z9,i7,de,pt],Zx),GP=R([wt,de,ho,dy,dc,pt,o7],ey),l7=R([GP,wt,uy],ny),c7=R([wt,GP,l7,pt],sy),HP=e=>{var t=pt(e),r=lo(e),n=!1;return gc(e,t,r,n)},YP=R([wt,HP],ym),XP=R([wt,uy,c7,YP],ry),u7=R([de,dy,wt,pt],TP),d7=R([de,dy,wt,pt],IP),f7=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,u=pn(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?xt(a[0]-a[1])*2*f:f,u&&o?o.map((m,h)=>({coordinate:n(m)+f,value:m,index:h,offset:f})):n.domain().map((m,h)=>({coordinate:n(m)+f,value:i?i[m]:m,index:h,offset:f}))}}},ra=R([de,wt,uy,XP,HP,u7,d7,pt],f7),fy=R([RP,DP,S9],(e,t,r)=>$P(r.shared,e,t)),QP=e=>e.tooltip.settings.trigger,my=e=>e.tooltip.settings.defaultIndex,km=R([mo,fy,QP,my],qP),Da=R([km,ho],cy),JP=R([ra,Da],LP),ZP=R([km],e=>{if(e)return e.dataKey}),eA=R([mo,fy,QP,my],VP),m7=R([Xn,Qn,de,ft,ra,my,eA,vc],WP),h7=R([km,m7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),p7=R([km],e=>e.active),g7=R([eA,Da,Ha,sP,JP,vc,fy],KP),v7=R([g7],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function L1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(r),!0).forEach(function(n){x7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x7(e,t,r){return(t=y7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w7=()=>te(wt),j7=()=>{var e=w7(),t=te(ra),r=te(XP);return Es(F1(F1({},e),{},{scale:r}),t)},tA=()=>te(Fx),hy=(e,t)=>t,rA=(e,t,r)=>r,py=(e,t,r,n)=>n,N7=R(ra,e=>tm(e,t=>t.coordinate)),gy=R([mo,hy,rA,py],qP),nA=R([gy,ho],cy),_7=(e,t,r)=>{if(t!=null){var n=mo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aA=R([mo,hy,rA,py],VP),Kd=R([Xn,Qn,de,ft,ra,py,aA,vc],WP),S7=R([gy,Kd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),sA=R(ra,nA,LP),C7=R([aA,nA,Ha,sP,sA,vc,hy],KP),k7=R([gy],e=>({isActive:e.active,activeIndex:e.index})),E7=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var c=e8(e.chartX,e.chartY,t,r,l);if(c){var u=r8(c,t),d=UL(u,o,i,n,a),f=t8(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(null,arguments)}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){P7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P7(e,t,r){return(t=A7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=O7(e,"string");return typeof t=="symbol"?t:t+""}function O7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T7(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,m=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var h,g;if(u==="ScatterChart")h=d,g=rF;else if(u==="BarChart")h=nF(o,d,a,i),g=Yk;else if(o==="radial"){var{cx:v,cy:y,radius:w,startAngle:b,endAngle:x}=Xk(d);h={cx:v,cy:y,startAngle:b,endAngle:x,innerRadius:w,outerRadius:w},g=Jk}else h={points:DF(o,d,a)},g=wi;var j=typeof l=="object"&&"className"in l?l.className:void 0,N=iu(iu(iu(iu({stroke:"#ccc",pointerEvents:"none"},a),h),$e(l,!1)),{},{payload:f,payloadIndex:m,className:fe("recharts-tooltip-cursor",j)});return p.isValidElement(l)?p.cloneElement(l,N):p.createElement(g,N)}function I7(e){var t=j7(),r=Bk(),n=sc(),a=tA();return p.createElement(T7,Zg({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var iA=p.createContext(null),M7=()=>p.useContext(iA),oA={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,g=new Array(h);m<h;m++)g[m]=f[m].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,g){var v=r?r+u:u;if(!this._events[v])return!1;var y=this._events[v],w=arguments.length,b,x;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,h),!0;case 6:return y.fn.call(y.context,d,f,m,h,g),!0}for(x=1,b=new Array(w-1);x<w;x++)b[x-1]=arguments[x];y.fn.apply(y.context,b)}else{var j=y.length,N;for(x=0;x<j;x++)switch(y[x].once&&this.removeListener(u,y[x].fn,void 0,!0),w){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,d);break;case 3:y[x].fn.call(y[x].context,d,f);break;case 4:y[x].fn.call(y[x].context,d,f,m);break;default:if(!b)for(N=1,b=new Array(w-1);N<w;N++)b[N-1]=arguments[N];y[x].fn.apply(y[x].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&o(this,h);else{for(var v=0,y=[],w=g.length;v<w;v++)(g[v].fn!==d||m&&!g[v].once||f&&g[v].context!==f)&&y.push(g[v]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(oA);var R7=oA.exports;const D7=Gn(R7);var Fl=new D7,e0="recharts.syncEvent.tooltip",z1="recharts.syncEvent.brush";function Em(e,t){if(t){var r=Number.parseInt(t,10);if(!Zt(r))return e==null?void 0:e[r]}}var $7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lA=hr({name:"options",initialState:$7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),L7=lA.reducer,{createEventEmitter:F7}=lA.actions;function B7(e){return e.tooltip.syncInteraction}var z7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},cA=hr({name:"chartData",initialState:z7,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:U1,setDataStartEndIndexes:U7,setComputedData:YJ}=cA.actions,q7=cA.reducer,W7=["x","y"];function q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(r),!0).forEach(function(n){V7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V7(e,t,r){return(t=K7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K7(e){var t=G7(e,"string");return typeof t=="symbol"?t:t+""}function G7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H7(e,t){if(e==null)return{};var r,n,a=Y7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Y7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uA=()=>{};function X7(){var e=te(Bx),t=te(zx),r=Ge(),n=te(ZE),a=te(ra),i=sc(),o=cx(),l=te(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return uA;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate){var h=d.payload.coordinate,{x:g,y:v}=h,y=H7(h,W7),w=Qa(Qa(Qa({},y),typeof g=="number"&&{x:Math.max(o.x,Math.min(g,o.x+o.width))}),typeof v=="number"&&{y:Math.max(o.y,Math.min(v,o.y+o.height))}),b=Qa(Qa({},d),{},{payload:Qa(Qa({},d.payload),{},{coordinate:w})});r(b)}else r(d);return}if(a!=null){var x;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=n(a,j);x=a[N]}else n==="value"&&(x=a.find(U=>String(U.value)===d.payload.label));var{coordinate:_}=d.payload;if(x==null||d.payload.active===!1||_==null||o==null){r(Qg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:C}=_,A=Math.min(S,o.x+o.width),P=Math.min(C,o.y+o.height),O={x:i==="horizontal"?x.coordinate:A,y:i==="horizontal"?P:x.coordinate},T=Qg({active:d.payload.active,coordinate:O,dataKey:d.payload.dataKey,index:String(x.index),label:d.payload.label});r(T)}}};return Fl.on(e0,c),()=>{Fl.off(e0,c)}},[l,r,t,e,n,a,i,o])}function Q7(){var e=te(Bx),t=te(zx),r=Ge();p.useEffect(()=>{if(e==null)return uA;var n=(a,i,o)=>{t!==o&&e===a&&r(U7(i))};return Fl.on(z1,n),()=>{Fl.off(z1,n)}},[r,t,e])}function J7(){var e=Ge();p.useEffect(()=>{e(F7())},[e]),X7(),Q7()}function Z7(e,t,r,n,a,i){var o=te(m=>_7(m,e,t)),l=te(zx),c=te(Bx),u=te(ZE),d=te(B7),f=d==null?void 0:d.active;p.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=Qg({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n});Fl.emit(e0,c,m,l)}},[f,r,o,a,n,l,c,u,i])}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eq(e,t,r){return(t=tq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nq(e){return e.dataKey}function aq(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(M8,t)}var K1=[],sq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Jn.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ou(e){var t=mt(e,sq),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:m,useTranslate3d:h,wrapperStyle:g,cursor:v,shared:y,trigger:w,defaultIndex:b,portal:x,axisId:j}=t,N=Ge(),_=typeof b=="number"?String(b):b;p.useEffect(()=>{N(P9({shared:y,trigger:w,axisId:j,active:r,defaultIndex:_}))},[N,y,w,j,r,_]);var S=cx(),C=Wk(),A=_9(y),{activeIndex:P,isActive:O}=te(ke=>k7(ke,A,w,_)),T=te(ke=>C7(ke,A,w,_)),U=te(ke=>sA(ke,A,w,_)),q=te(ke=>S7(ke,A,w,_)),K=T,E=M7(),F=r??O,[L,z]=ok([K,F]),W=A==="axis"?U:void 0;Z7(A,w,q,W,P,F);var G=x??E;if(G==null)return null;var Y=K??K1;F||(Y=K1),l&&Y.length&&(Y=YC(K.filter(ke=>ke.value!=null&&(ke.hide!==!0||t.includeHidden)),d,nq));var rt=Y.length>0,ve=p.createElement(z8,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:F,coordinate:q,hasPayload:rt,offset:u,position:f,reverseDirection:m,useTranslate3d:h,viewBox:S,wrapperStyle:g,lastBoundingBox:L,innerRef:z,hasPortalFromProps:!!x},aq(o,V1(V1({},t),{},{payload:Y,label:W,active:F,coordinate:q,accessibilityLayer:C})));return p.createElement(p.Fragment,null,lv.createPortal(ve,G),F&&p.createElement(I7,{cursor:v,tooltipEventType:A,coordinate:q,payload:K,index:P}))}var dA={},fA={},mA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),v()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},g=()=>{m!==null&&(clearTimeout(m),m=null)},v=()=>{g(),o=void 0,l=null},y=()=>{d()},w=function(...b){if(a!=null&&a.aborted)return;o=this,l=b;const x=m==null;h(),c&&x&&d()};return w.schedule=h,w.cancel=v,w.flush=y,a==null||a.addEventListener("abort",v,{once:!0}),w}e.debounce=t})(mA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mA;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...v){d=n.apply(this,v),f=null},a,{edges:u}),h=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,v),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,v),d)},g=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=g,h}e.debounce=r})(fA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fA;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(dA);var iq=dA.throttle;const oq=Gn(iq);var al=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lq(e,t,r){return(t=cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lu=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:m,onResize:h,style:g={}}=e,v=p.useRef(null),y=p.useRef();y.current=h,p.useImperativeHandle(t,()=>v.current);var[w,b]=p.useState({containerWidth:n.width,containerHeight:n.height}),x=p.useCallback((N,_)=>{b(S=>{var C=Math.round(N),A=Math.round(_);return S.containerWidth===C&&S.containerHeight===A?S:{containerWidth:C,containerHeight:A}})},[]);p.useEffect(()=>{var N=A=>{var P,{width:O,height:T}=A[0].contentRect;x(O,T),(P=y.current)===null||P===void 0||P.call(y,O,T)};d>0&&(N=oq(N,d,{trailing:!0,leading:!1}));var _=new ResizeObserver(N),{width:S,height:C}=v.current.getBoundingClientRect();return x(S,C),_.observe(v.current),()=>{_.disconnect()}},[x,d]);var j=p.useMemo(()=>{var{containerWidth:N,containerHeight:_}=w;if(N<0||_<0)return null;al(ls(a)||ls(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),al(!r||r>0,"The aspect(%s) must be greater than zero.",r);var S=ls(a)?N:a,C=ls(i)?_:i;return r&&r>0&&(S?C=S/r:C&&(S=C*r),c&&C>c&&(C=c)),al(S>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,C,a,i,o,l,r),p.Children.map(u,A=>p.cloneElement(A,{width:S,height:C,style:Gh({width:S,height:C},A.props.style)}))},[r,u,i,c,l,o,w,a]);return p.createElement("div",{id:f?"".concat(f):void 0,className:fe("recharts-responsive-container",m),style:Gh(Gh({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:v},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),yc=e=>null;yc.displayName="Cell";function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hq{constructor(t){dq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t,r){return(t=vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=xq(e,"string");return typeof t=="symbol"?t:t+""}function xq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yq={cacheSize:2e3,enableCache:!0},hA=pq({},yq),Y1=new hq(hA.cacheSize),bq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},X1="recharts_measurement_span";function wq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var Q1=(e,t)=>{try{var r=document.getElementById(X1);r||(r=document.createElement("span"),r.setAttribute("id",X1),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,bq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},sl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Jn.isSsr)return{width:0,height:0};if(!hA.enableCache)return Q1(t,r);var n=wq(t,r),a=Y1.get(n);if(a)return a;var i=Q1(t,r);return Y1.set(n,i),i},J1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Z1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Nq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_q=Object.keys(pA),ui="NaN";function Sq(e,t){return e*pA[t]}class Wt{static parse(t){var r,[,n,a]=(r=Nq.exec(t))!==null&&r!==void 0?r:[];return new Wt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Zt(t)&&(this.unit=""),r!==""&&!jq.test(r)&&(this.num=NaN,this.unit=""),_q.includes(r)&&(this.num=Sq(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zt(this.num)}}function gA(e){if(e.includes(ui))return ui;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=J1.exec(t))!==null&&r!==void 0?r:[],o=Wt.parse(n??""),l=Wt.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return ui;t=t.replace(J1,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=Z1.exec(t))!==null&&u!==void 0?u:[],h=Wt.parse(d??""),g=Wt.parse(m??""),v=f==="+"?h.add(g):h.subtract(g);if(v.isNaN())return ui;t=t.replace(Z1,v.toString())}return t}var eN=/\(([^()]*)\)/;function Cq(e){for(var t=e,r;(r=eN.exec(t))!=null;){var[,n]=r;t=t.replace(eN,gA(n))}return t}function kq(e){var t=e.replace(/\s+/g,"");return t=Cq(t),t=gA(t),t}function Eq(e){try{return kq(e)}catch{return ui}}function Hh(e){var t=Eq(e.slice(5,-1));return t===ui?"":t}var Pq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Aq=["dx","dy","angle","className","breakAll"];function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}function tN(e,t){if(e==null)return{};var r,n,a=Oq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vA=/[ \f\n\r\t\v\u2028\u2029]+/,xA=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];De(t)||(r?a=t.toString().split(""):a=t.toString().split(vA));var i=a.map(l=>({word:l,width:sl(l,n).width})),o=r?0:sl(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},Tq=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=re(i),d=o,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((T,U)=>{var{word:q,width:K}=U,E=T[T.length-1];if(E&&(n==null||a||E.width+K+r<Number(n)))E.words.push(q),E.width+=K+r;else{var F={words:[q],width:K};T.push(F)}return T},[])},m=f(t),h=P=>P.reduce((O,T)=>O.width>T.width?O:T);if(!u||a)return m;var g=m.length>i||h(m).width>Number(n);if(!g)return m;for(var v="…",y=P=>{var O=d.slice(0,P),T=xA({breakAll:c,style:l,children:O+v}).wordsWithComputedWidth,U=f(T),q=U.length>i||h(U).width>Number(n);return[q,U]},w=0,b=d.length-1,x=0,j;w<=b&&x<=d.length-1;){var N=Math.floor((w+b)/2),_=N-1,[S,C]=y(_),[A]=y(N);if(!S&&!A&&(w=N+1),S&&A&&(b=N-1),!S&&A){j=C;break}x++}return j||m},rN=e=>{var t=De(e)?[]:e.toString().split(vA);return[{words:t}]},Iq=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Jn.isSsr){var l,c,u=xA({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return rN(n);return Tq({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return rN(n)},nN="#808080",Pm=p.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=nN}=e,d=tN(e,Pq),f=p.useMemo(()=>Iq({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:m,dy:h,angle:g,className:v,breakAll:y}=d,w=tN(d,Aq);if(!un(r)||!un(n)||f.length===0)return null;var b=r+(re(m)?m:0),x=n+(re(h)?h:0),j;switch(c){case"start":j=Hh("calc(".concat(i,")"));break;case"middle":j=Hh("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:j=Hh("calc(".concat(f.length-1," * -").concat(a,")"));break}var N=[];if(o){var _=f[0].width,{width:S}=d;N.push("scale(".concat(re(S)?S/_:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(b,", ").concat(x,")")),N.length&&(w.transform=N.join(" ")),p.createElement("text",t0({},$e(w,!0),{ref:t,x:b,y:x,className:fe("recharts-text",v),textAnchor:l,fill:u.includes("url")?nN:u}),f.map((C,A)=>{var P=C.words.join(y?"":" ");return p.createElement("tspan",{x:b,dy:A===0?j:a,key:"".concat(P,"-").concat(A)},P)}))});Pm.displayName="Text";var Mq=["labelRef"];function Rq(e,t){if(e==null)return{};var r,n,a=Dq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){$q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $q(e,t,r){return(t=Lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_n.apply(null,arguments)}var yA=p.createContext(null),Bq=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,o=p.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return p.createElement(yA.Provider,{value:o},i)},bA=()=>{var e=p.useContext(yA),t=cx();return e||t},zq=p.createContext(null),Uq=()=>{var e=p.useContext(zq),t=te(aP);return e||t},qq=e=>{var{value:t,formatter:r}=e,n=De(e.children)?t:e.children;return typeof r=="function"?r(n):n},vy=e=>e!=null&&typeof e=="function",Wq=(e,t)=>{var r=xt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Vq=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:h}=a,g=(u+d)/2,v=Wq(f,m),y=v>=0?1:-1,w,b;switch(t){case"insideStart":w=f+y*i,b=h;break;case"insideEnd":w=m-y*i,b=!h;break;case"end":w=m+y*i,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var x=st(l,c,g,w),j=st(l,c,g,w+(b?1:-1)*359),N="M".concat(x.x,",").concat(x.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),_=De(e.id)?Pl("recharts-radial-line-"):e.id;return p.createElement("text",_n({},n,{dominantBaseline:"central",className:fe("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:_,d:N})),p.createElement("textPath",{xlinkHref:"#".concat(_)},r))},Kq=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=st(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:h,y:g}=st(n,a,m,u);return{x:h,y:g,textAnchor:"middle",verticalAnchor:"middle"}},wA=e=>"cx"in e&&re(e.cx),Gq=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!wA(r)&&(i=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,m=d>0?"end":"start",h=d>0?"start":"end",g=c>=0?1:-1,v=g*n,y=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var b={x:o+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:m};return Je(Je({},b),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var x={x:o+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:h};return Je(Je({},x),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(a==="left"){var j={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Je(Je({},j),i?{width:Math.max(j.x-i.x,0),height:u}:{})}if(a==="right"){var N={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Je(Je({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:u}:{})}var _=i?{width:c,height:u}:{};return a==="insideLeft"?Je({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},_):a==="insideRight"?Je({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideTop"?Je({x:o+c/2,y:l+f,textAnchor:"middle",verticalAnchor:h},_):a==="insideBottom"?Je({x:o+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:m},_):a==="insideTopLeft"?Je({x:o+v,y:l+f,textAnchor:w,verticalAnchor:h},_):a==="insideTopRight"?Je({x:o+c-v,y:l+f,textAnchor:y,verticalAnchor:h},_):a==="insideBottomLeft"?Je({x:o+v,y:l+u-f,textAnchor:w,verticalAnchor:m},_):a==="insideBottomRight"?Je({x:o+c-v,y:l+u-f,textAnchor:y,verticalAnchor:m},_):a&&typeof a=="object"&&(re(a.x)||ls(a.x))&&(re(a.y)||ls(a.y))?Je({x:o+It(a.x,c),y:l+It(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):Je({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Hq={offset:5};function fa(e){var t=mt(e,Hq),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=Uq(),f=bA(),m=n==="center"?f:d??f,h=r||m;if(!h||De(a)&&De(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var g=Je(Je({},t),{},{viewBox:h});if(p.isValidElement(o)){var{labelRef:v}=g,y=Rq(g,Mq);return p.cloneElement(o,y)}var w;if(typeof o=="function"){if(w=p.createElement(o,g),p.isValidElement(w))return w}else w=qq(t);var b=wA(h),x=$e(t,!0);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Vq(t,n,w,x,h);var j=b?Kq(h,t.offset,t.position):Gq(t,h);return p.createElement(Pm,_n({ref:u,className:fe("recharts-label",l)},x,j,{breakAll:c}),w)}fa.displayName="Label";var Yq=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(fa,_n({key:"label-implicit"},n)):un(e)?p.createElement(fa,_n({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===fa?p.cloneElement(e,Je({key:"label-implicit"},n)):p.createElement(fa,_n({key:"label-implicit",content:e},n)):vy(e)?p.createElement(fa,_n({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(fa,_n({},e,{key:"label-implicit"},n)):null};function Xq(e){var{label:t}=e,r=bA();return Yq(t,r)||null}var jA={},NA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(NA);var _A={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(_A);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NA,r=_A,n=Zf;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(jA);var Qq=jA.last;const Jq=Gn(Qq);var Zq=["valueAccessor"],eW=["dataKey","clockWise","id","textBreakAll"];function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(null,arguments)}function sN(e,t){if(e==null)return{};var r,n,a=tW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rW=e=>Array.isArray(e.value)?Jq(e.value):e.value,SA=p.createContext(void 0),xy=SA.Provider,CA=p.createContext(void 0),nW=CA.Provider;function aW(){return p.useContext(SA)}function sW(){return p.useContext(CA)}function Pu(e){var{valueAccessor:t=rW}=e,r=sN(e,Zq),{dataKey:n,clockWise:a,id:i,textBreakAll:o}=r,l=sN(r,eW),c=aW(),u=sW(),d=c||u;return!d||!d.length?null:p.createElement(Ye,{className:"recharts-label-list"},d.map((f,m)=>{var h,g=De(n)?t(f,m):_e(f&&f.payload,n),v=De(i)?{}:{id:"".concat(i,"-").concat(m)};return p.createElement(fa,Gd({},$e(f,!0),l,v,{fill:(h=r.fill)!==null&&h!==void 0?h:f.fill,parentViewBox:f.parentViewBox,value:g,textBreakAll:o,viewBox:f.viewBox,key:"label-".concat(m),index:m}))}))}Pu.displayName="LabelList";function Am(e){var{label:t}=e;return t?t===!0?p.createElement(Pu,{key:"labelList-implicit"}):p.isValidElement(t)||vy(t)?p.createElement(Pu,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Pu,Gd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}var yy=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=fe("recharts-dot",a);return t===+t&&r===+r&&n===+n?p.createElement("circle",r0({},Dr(e),Dv(e),{className:i,cx:t,cy:r,r:n})):null},kA=e=>e.graphicalItems.polarItems,iW=R([Ue,fc],Kx),by=R([kA,tt,iW],Gx),oW=R([by],Hx),wy=R([oW,Dx],Yx),lW=R([wy,tt,by],Qx),cW=R([wy,tt,by],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=_e(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:_e(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),iN=()=>{},uW=R([tt,_P,iN,cW,iN,de,Ue],Zx),EA=R([tt,de,wy,lW,dc,Ue,uW],ey),dW=R([EA,tt,uo],ny);R([tt,EA,dW,Ue],sy);var fW={radiusAxis:{},angleAxis:{}},PA=hr({name:"polarAxis",initialState:fW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:XJ,removeRadiusAxis:QJ,addAngleAxis:JJ,removeAngleAxis:ZJ}=PA.actions,mW=PA.reducer;function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){hW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hW(e,t,r){return(t=pW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vW=(e,t)=>t,jy=R([kA,vW],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),xW=[],Ny=(e,t,r)=>(r==null?void 0:r.length)===0?xW:r,AA=R([Dx,jy,Ny],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>lN(lN({},t.presentationProps),i.props))),a!=null)return a}}),yW=R([AA,jy,Ny],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=_e(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Va(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),bW=R([AA,jy,Ny,ft],(e,t,r,n)=>{if(!(t==null||e==null))return pV({offset:n,pieSettings:t,displayedData:e,cells:r})}),OA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(OA);var wW=OA.isPlainObject;const jW=Gn(wW);function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){NW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NW(e,t,r){return(t=_W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hd.apply(null,arguments)}var dN=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},CW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kW=e=>{var t=mt(e,CW),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=p.useRef(),[h,g]=p.useState(-1),v=p.useRef(a),y=p.useRef(i),w=p.useRef(o),b=p.useRef(r),x=p.useRef(n),j=ao(e,"trapezoid-");if(p.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var q=m.current.getTotalLength();q&&g(q)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var N=fe("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",Hd({},$e(t,!0),{className:N,d:dN(r,n,a,i,o)})));var _=v.current,S=y.current,C=w.current,A=b.current,P=x.current,O="0px ".concat(h===-1?1:h,"px"),T="".concat(h,"px 0px"),U=Vk(["strokeDasharray"],u,c);return p.createElement(no,{animationId:j,key:j,canBegin:h>0,duration:u,easing:c,isActive:f,begin:d},q=>{var K=Ne(_,a,q),E=Ne(S,i,q),F=Ne(C,o,q),L=Ne(A,r,q),z=Ne(P,n,q);m.current&&(v.current=K,y.current=E,w.current=F,b.current=L,x.current=z);var W=q>0?{transition:U,strokeDasharray:T}:{strokeDasharray:O};return p.createElement("path",Hd({},$e(t,!0),{className:N,d:dN(L,z,K,E,F),ref:m,style:uN(uN({},W),t.style)}))})},EW=["option","shapeType","propTransformer","activeClassName","isActive"];function PW(e,t){if(e==null)return{};var r,n,a=AW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){OW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OW(e,t,r){return(t=TW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MW(e,t){return Yd(Yd({},t),e)}function RW(e,t){return e==="symbols"}function mN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(Yk,r);case"trapezoid":return p.createElement(kW,r);case"sector":return p.createElement(Jk,r);case"symbols":if(RW(t))return p.createElement(Uv,r);break;default:return null}}function DW(e){return p.isValidElement(e)?e.props:e}function TA(e){var{option:t,shapeType:r,propTransformer:n=MW,activeClassName:a="recharts-active-shape",isActive:i}=e,o=PW(e,EW),l;if(p.isValidElement(t))l=p.cloneElement(t,Yd(Yd({},o),DW(t)));else if(typeof t=="function")l=t(o);else if(jW(t)&&typeof t!="boolean"){var c=n(t,o);l=p.createElement(mN,{shapeType:r,elementProps:c})}else{var u=o;l=p.createElement(mN,{shapeType:r,elementProps:u})}return i?p.createElement(Ye,{className:a},l):l}var _y=(e,t)=>{var r=Ge();return(n,a)=>i=>{e==null||e(n,a,i),r(BP({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Sy=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(A9())}},Cy=(e,t)=>{var r=Ge();return(n,a)=>i=>{e==null||e(n,a,i),r(O9({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Om(e){var{fn:t,args:r}=e,n=Ge(),a=Rt();return p.useEffect(()=>{if(!a){var i=t(r);return n(k9(i)),()=>{n(E9(i))}}},[t,r,n,a]),null}var IA=()=>{};function ky(e){var{legendPayload:t}=e,r=Ge(),n=Rt();return p.useEffect(()=>n?IA:(r(Uk(t)),()=>{r(qk(t))}),[r,n,t]),null}function $W(e){var{legendPayload:t}=e,r=Ge(),n=te(de);return p.useEffect(()=>n!=="centric"&&n!=="radial"?IA:(r(Uk(t)),()=>{r(qk(t))}),[r,n,t]),null}var Yh,LW=()=>{var[e]=p.useState(()=>Pl("uid-"));return e},FW=(Yh=lf.useId)!==null&&Yh!==void 0?Yh:LW;function BW(e,t){var r=FW();return t||(e?"".concat(e,"-").concat(r):r)}var zW=p.createContext(void 0),Tm=e=>{var{id:t,type:r,children:n}=e,a=BW("recharts-".concat(r),t);return p.createElement(zW.Provider,{value:a},n(a))},UW={cartesianItems:[],polarItems:[]},MA=hr({name:"graphicalItems",initialState:UW,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Tn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Tn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Tn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:qW,replaceCartesianGraphicalItem:WW,removeCartesianGraphicalItem:VW,addPolarGraphicalItem:KW,removePolarGraphicalItem:GW}=MA.actions,HW=MA.reducer;function Ey(e){var t=Ge(),r=p.useRef(null);return p.useEffect(()=>{r.current===null?t(qW(e)):r.current!==e&&t(WW({prev:r.current,next:e})),r.current=e},[t,e]),p.useEffect(()=>()=>{r.current&&(t(VW(r.current)),r.current=null)},[t]),null}function YW(e){var t=Ge();return p.useEffect(()=>(t(KW(e)),()=>{t(GW(e))}),[t,e]),null}var XW=["onMouseEnter","onClick","onMouseLeave"],QW=["id"],JW=["id"];function Py(e,t){if(e==null)return{};var r,n,a=ZW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){eV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eV(e,t,r){return(t=tV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e){var t=rV(e,"string");return typeof t=="symbol"?t:t+""}function rV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$a.apply(null,arguments)}function nV(e){var t=p.useMemo(()=>$v(e.children,yc),[e.children]),r=te(n=>yW(n,e.id,t));return r==null?null:p.createElement($W,{legendPayload:r})}function aV(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Va(l,t),hide:c,type:u,color:o,unit:""}}}var sV=(e,t)=>e>t?"start":e<t?"end":"middle",iV=(e,t,r)=>It(typeof t=="function"?t(e):t,r,r*.8),oV=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=Tk(i,o),c=a+It(e.cx,i,i/2),u=n+It(e.cy,o,o/2),d=It(e.innerRadius,l,0),f=iV(r,e.outerRadius,l),m=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:m}},lV=(e,t)=>{var r=xt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function cV(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var uV=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=fe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(wi,$a({},t,{type:"linear",className:r}))},dV=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var a=fe("recharts-pie-label-text",cV(e));return p.createElement(Pm,$a({},t,{alignmentBaseline:"middle",className:a}),n)};function fV(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=Dr(r),c=$e(a,!1),u=$e(i,!1),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((m,h)=>{var g=(m.startAngle+m.endAngle)/2,v=st(m.cx,m.cy,m.outerRadius+d,g),y=Fe(Fe(Fe(Fe({},l),m),{},{stroke:"none"},c),{},{index:h,textAnchor:sV(v.x,m.cx)},v),w=Fe(Fe(Fe(Fe({},l),m),{},{fill:"none",stroke:m.fill},u),{},{index:h,points:[st(m.cx,m.cy,m.outerRadius,g),v],key:"line"});return p.createElement(Ye,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(h)},i&&uV(i,w),dV(a,y,_e(m,o)))});return p.createElement(Ye,{className:"recharts-pie-labels"},f)}function mV(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?p.createElement(Am,{label:a}):p.createElement(fV,{sectors:t,props:r,showLabels:n})}function hV(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=te(Da),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=Py(a,XW),d=_y(o,a.dataKey),f=Sy(c),m=Cy(l,a.dataKey);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((h,g)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var v=r&&String(g)===i,y=i?n:null,w=v?r:y,b=Fe(Fe({},h),{},{stroke:h.stroke,tabIndex:-1,[Lk]:g,[Fk]:a.dataKey});return p.createElement(Ye,$a({tabIndex:-1,className:"recharts-pie-sector"},tc(u,h,g),{onMouseEnter:d(h,g),onMouseLeave:f(h,g),onClick:m(h,g),key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(g)}),p.createElement(TA,$a({option:w,isActive:v,shapeType:"sector"},b)))}))}function pV(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,m=Math.abs(r.minAngle),h=lV(l,c),g=Math.abs(h),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(_=>_e(_,u,0)!==0).length,w=(g>=360?y:y-1)*v,b=g-y*m-w,x=n.reduce((_,S)=>{var C=_e(S,u,0);return _+(re(C)?C:0)},0),j;if(x>0){var N;j=n.map((_,S)=>{var C=_e(_,u,0),A=_e(_,d,S),P=oV(r,i,_),O=(re(C)?C:0)/x,T,U=Fe(Fe({},_),a&&a[S]&&a[S].props);S?T=N.endAngle+xt(h)*v*(C!==0?1:0):T=l;var q=T+xt(h)*((C!==0?m:0)+O*b),K=(T+q)/2,E=(P.innerRadius+P.outerRadius)/2,F=[{name:A,value:C,payload:U,dataKey:u,type:f}],L=st(P.cx,P.cy,E,K);return N=Fe(Fe(Fe(Fe({},r.presentationProps),{},{percent:O,cornerRadius:o,name:A,tooltipPayload:F,midAngle:K,middleRadius:E,tooltipPosition:L},U),P),{},{value:C,startAngle:T,endAngle:q,payload:U,paddingAngle:xt(h)*v}),N})}return j}function gV(e){var{showLabels:t,sectors:r,children:n}=e,a=p.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return p.createElement(nW,{value:t?a:void 0},n)}function vV(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,m=ao(t,"recharts-pie-"),h=r.current,[g,v]=p.useState(!1),y=p.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),w=p.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return p.createElement(gV,{showLabels:!g,sectors:n},p.createElement(no,{animationId:m,begin:i,duration:o,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:y,key:m},b=>{var x=[],j=n&&n[0],N=j==null?void 0:j.startAngle;return n==null||n.forEach((_,S)=>{var C=h&&h[S],A=S>0?Ss(_,"paddingAngle",0):0;if(C){var P=Ne(C.endAngle-C.startAngle,_.endAngle-_.startAngle,b),O=Fe(Fe({},_),{},{startAngle:N+A,endAngle:N+P+A});x.push(O),N=O.endAngle}else{var{endAngle:T,startAngle:U}=_,q=Ne(0,T-U,b),K=Fe(Fe({},_),{},{startAngle:N+A,endAngle:N+q+A});x.push(K),N=K.endAngle}}),r.current=x,p.createElement(Ye,null,p.createElement(hV,{sectors:x,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),p.createElement(mV,{showLabels:!g,sectors:n,props:t}),t.children)}var xV={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Jn.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function yV(e){var{id:t}=e,r=Py(e,QW),{hide:n,className:a,rootTabIndex:i}=e,o=p.useMemo(()=>$v(e.children,yc),[e.children]),l=te(d=>bW(d,t,o)),c=p.useRef(null),u=fe("recharts-pie",a);return n||l==null?(c.current=null,p.createElement(Ye,{tabIndex:i,className:u})):p.createElement(p.Fragment,null,p.createElement(Om,{fn:aV,args:Fe(Fe({},e),{},{sectors:l})}),p.createElement(Ye,{tabIndex:i,className:u},p.createElement(vV,{props:Fe(Fe({},r),{},{sectors:l}),previousSectorsRef:c})))}function RA(e){var t=mt(e,xV),{id:r}=t,n=Py(t,JW),a=Dr(n);return p.createElement(Tm,{id:r,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(YW,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),p.createElement(nV,$a({},n,{id:i})),p.createElement(yV,$a({},n,{id:i}))))}RA.displayName="Pie";function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){bV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bV(e,t,r){return(t=wV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NV={xAxis:{},yAxis:{},zAxis:{}},DA=hr({name:"cartesianAxis",initialState:NV,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=gN(gN({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:_V,removeXAxis:SV,addYAxis:CV,removeYAxis:kV,addZAxis:eZ,removeZAxis:tZ,updateYAxisWidth:EV}=DA.actions,PV=DA.reducer,AV=R([ft],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),OV=R([AV,Xn,Qn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Im=()=>te(OV),TV=()=>te(v7);function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){IV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IV(e,t,r){return(t=MV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=RV(e,"string");return typeof t=="symbol"?t:t+""}function RV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DV=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=xN(xN({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},$e(a,!1)),Dv(a)),l;return p.isValidElement(a)?l=p.cloneElement(a,o):typeof a=="function"?l=a(o):l=p.createElement(yy,o),p.createElement(Ye,{className:"recharts-active-dot"},l)};function n0(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=te(Da),o=TV();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return De(l)?null:DV({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var $V="Invariant failed";function LV(e,t){throw new Error($V)}var FV=["x","y"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=zV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qV(e,t){if(e==null)return{};var r,n,a=WV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VV(e,t){var{x:r,y:n}=e,a=qV(e,FV),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return To(To(To(To(To({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function Ay(e){return p.createElement(TA,a0({shapeType:"rectangle",propTransformer:VV,activeClassName:"recharts-active-bar"},e))}var KV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(re(t))return t;var i=re(n)||De(n);return i?t(n,a):(i||LV(),r)}},GV={},$A=hr({name:"errorBars",initialState:GV,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:rZ,replaceErrorBar:nZ,removeErrorBar:aZ}=$A.actions,HV=$A.reducer,YV=["children"];function XV(e,t){if(e==null)return{};var r,n,a=QV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JV={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ZV=p.createContext(JV);function LA(e){var{children:t}=e,r=XV(e,YV);return p.createElement(ZV.Provider,{value:r},t)}function Mm(e,t){var r,n,a=te(u=>ea(u,e)),i=te(u=>ta(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:er.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function Oy(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Im(),{needClipX:i,needClipY:o,needClip:l}=Mm(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var eK=["onMouseEnter","onMouseLeave","onClick"],tK=["value","background","tooltipPosition"],rK=["id"],nK=["onMouseEnter","onClick","onMouseLeave"];function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},La.apply(null,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){aK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xd(e,t){if(e==null)return{};var r,n,a=oK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lK=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Va(r,t),payload:e}]};function cK(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Va(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function uK(e){var t=te(Da),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=Xd(i,eK),d=_y(o,n),f=Sy(l),m=Cy(c,n);if(!a||r==null)return null;var h=$e(a,!1);return p.createElement(p.Fragment,null,r.map((g,v)=>{var{value:y,background:w,tooltipPosition:b}=g,x=Xd(g,tK);if(!w)return null;var j=d(g,v),N=f(g,v),_=m(g,v),S=Lt(Lt(Lt(Lt(Lt({option:a,isActive:String(v)===t},x),{},{fill:"#eee"},w),h),tc(u,g,v)),{},{onMouseEnter:j,onMouseLeave:N,onClick:_,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return p.createElement(Ay,La({key:"background-bar-".concat(S.index)},S))}))}function dK(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Lt(Lt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(xy,{value:t?a:void 0},r)}function fK(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=te(Da),c=te(ZP),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return p.createElement(Ay,La({},n,a,{isActive:u,option:d,index:i,dataKey:o}))}function mK(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return p.createElement(Ay,La({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function hK(e){var{data:t,props:r}=e,n=Dr(r),{id:a}=n,i=Xd(n,rK),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:f}=r,m=Xd(r,nK),h=_y(u,l),g=Sy(f),v=Cy(d,l);return t?p.createElement(p.Fragment,null,t.map((y,w)=>p.createElement(Ye,La({className:"recharts-bar-rectangle"},tc(m,y,w),{onMouseEnter:h(y,w),onMouseLeave:g(y,w),onClick:v(y,w),key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(w)}),c?p.createElement(fK,{shape:o,activeBar:c,baseProps:i,entry:y,index:w,dataKey:l}):p.createElement(mK,{shape:o,baseProps:i,entry:y,index:w,dataKey:l})))):null}function pK(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=ao(t,"recharts-bar-"),[h,g]=p.useState(!1),v=!h,y=p.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),w=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(dK,{showLabels:v,rects:n},p.createElement(no,{animationId:m,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:y,onAnimationStart:w,key:m},b=>{var x=b===1?n:n==null?void 0:n.map((j,N)=>{var _=f&&f[N];if(_)return Lt(Lt({},j),{},{x:Ne(_.x,j.x,b),y:Ne(_.y,j.y,b),width:Ne(_.width,j.width,b),height:Ne(_.height,j.height,b)});if(a==="horizontal"){var S=Ne(0,j.height,b);return Lt(Lt({},j),{},{y:j.y+j.height-S,height:S})}var C=Ne(0,j.width,b);return Lt(Lt({},j),{},{width:C})});return b>0&&(r.current=x??null),x==null?null:p.createElement(Ye,null,p.createElement(hK,{props:t,data:x}))}),p.createElement(Am,{label:t.label}),t.children)}function gK(e){var t=p.useRef(null);return p.createElement(pK,{previousRectanglesRef:t,props:e})}var FA=0,vK=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:_e(e,t)}};class xK extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=fe("recharts-bar",a),f=u;return p.createElement(Ye,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(Oy,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(Ye,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(uK,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(gK,this.props)))}}var yK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Jn.isSsr,legendType:"rect",minPointSize:FA,xAxisId:0,yAxisId:0};function bK(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Mm(t,r),m=sc(),h=Rt(),g=$v(e.children,yc),v=te(b=>HK(b,t,r,h,e.id,g));if(m!=="vertical"&&m!=="horizontal")return null;var y,w=v==null?void 0:v[0];return w==null||w.height==null||w.width==null?y=0:y=m==="vertical"?w.height/2:w.width/2,p.createElement(LA,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:vK,errorBarOffset:y},p.createElement(xK,La({},e,{layout:m,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function wK(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:h,parentViewBox:g}=e,v=t==="horizontal"?l:o,y=d?v.scale.domain():null,w=XL({numericAxis:v});return f.map((b,x)=>{var j,N,_,S,C,A;d?j=VL(d[x],y):(j=_e(b,r),Array.isArray(j)||(j=[w,j]));var P=KV(n,FA)(j[1],x);if(t==="horizontal"){var O,[T,U]=[l.scale(j[0]),l.scale(j[1])];N=bj({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:b,index:x}),_=(O=U??T)!==null&&O!==void 0?O:void 0,S=a.size;var q=T-U;if(C=Zt(q)?0:q,A={x:N,y:m.top,width:S,height:m.height},Math.abs(P)>0&&Math.abs(C)<Math.abs(P)){var K=xt(C||P)*(Math.abs(P)-Math.abs(C));_-=K,C+=K}}else{var[E,F]=[o.scale(j[0]),o.scale(j[1])];if(N=E,_=bj({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:b,index:x}),S=F-E,C=a.size,A={x:m.left,y:_,width:m.width,height:C},Math.abs(P)>0&&Math.abs(S)<Math.abs(P)){var L=xt(S||P)*(Math.abs(P)-Math.abs(S));S+=L}}if(N==null||_==null||S==null||C==null)return null;var z=Lt(Lt({},b),{},{x:N,y:_,width:S,height:C,value:d?j:j[1],payload:b,background:A,tooltipPosition:{x:N+S/2,y:_+C/2},parentViewBox:g},h&&h[x]&&h[x].props);return z}).filter(Boolean)}function jK(e){var t=mt(e,yK),r=Rt();return p.createElement(Tm,{id:t.id,type:"bar"},n=>p.createElement(p.Fragment,null,p.createElement(ky,{legendPayload:lK(t)}),p.createElement(Om,{fn:cK,args:t}),p.createElement(Ey,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Dk(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(bK,La({},t,{id:n}))))}var BA=p.memo(jK);BA.displayName="Bar";function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){NK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NK(e,t,r){return(t=_K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=SK(e,"string");return typeof t=="symbol"?t:t+""}function SK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CK=(e,t)=>t,kK=(e,t,r)=>r,EK=(e,t,r,n)=>n,PK=(e,t,r,n,a)=>a,bc=R([hc,PK],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),AK=R([bc],e=>e==null?void 0:e.maxBarSize),OK=(e,t,r,n,a,i)=>i,jN=(e,t,r)=>{var n=r??e;if(!De(n))return It(n,t,0)},TK=R([de,hc,CK,kK,EK],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),IK=(e,t,r,n)=>{var a=de(e);return a==="horizontal"?Ll(e,"yAxis",r,n):Ll(e,"xAxis",t,n)},MK=(e,t,r)=>{var n=de(e);return n==="horizontal"?I1(e,"xAxis",t):I1(e,"yAxis",r)},RK=(e,t,r)=>{var n={},a=e.filter(jm),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,m=f.map(g=>g.dataKey),h=jN(t,r,f[0].barSize);return{stackId:d,dataKeys:m,barSize:h}}),c=i.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=jN(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},DK=R([TK,CU,MK],RK),$K=(e,t,r,n,a)=>{var i,o,l=bc(e,t,r,n,a);if(l!=null){var c=de(e),u=QE(e),{maxBarSize:d}=l,f=De(d)?u:d,m,h;return c==="horizontal"?(m=mn(e,"xAxis",t,n),h=fn(e,"xAxis",t,n)):(m=mn(e,"yAxis",r,n),h=fn(e,"yAxis",r,n)),(i=(o=Es(m,h,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},zA=(e,t,r,n)=>{var a=de(e),i,o;return a==="horizontal"?(i=mn(e,"xAxis",t,n),o=fn(e,"xAxis",t,n)):(i=mn(e,"yAxis",r,n),o=fn(e,"yAxis",r,n)),Es(i,o)};function LK(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=It(e,r,0,!0),l,c=[];if(kt(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((w,b)=>w+(b.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var m=(r-f)/2>>0,h={offset:m-o,size:0};l=n.reduce((w,b)=>{var x,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+o,size:u?d:(x=b.barSize)!==null&&x!==void 0?x:0}},N=[...w,j];return h=N[N.length-1].position,N},c)}else{var g=It(t,r,0,!0);r-2*g-(i-1)*o<=0&&(o=0);var v=(r-2*g-(i-1)*o)/i;v>1&&(v>>=0);var y=kt(a)?Math.min(v,a):v;l=n.reduce((w,b,x)=>[...w,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(v+o)*x+(v-y)/2,size:y}}],c)}return l}}var FK=(e,t,r,n,a,i,o)=>{var l=De(o)?t:o,c=LK(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>cu(cu({},u),{},{position:cu(cu({},u.position),{},{offset:u.position.offset-a/2})}))),c},BK=R([DK,QE,SU,JE,$K,zA,AK],FK),zK=(e,t,r,n)=>mn(e,"xAxis",t,n),UK=(e,t,r,n)=>mn(e,"yAxis",r,n),qK=(e,t,r,n)=>fn(e,"xAxis",t,n),WK=(e,t,r,n)=>fn(e,"yAxis",r,n),VK=R([BK,bc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),KK=(e,t)=>{var r=wm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},GK=R([IK,bc],KK),HK=R([ft,lx,zK,UK,qK,WK,VK,de,uc,zA,GK,bc,OK],(e,t,r,n,a,i,o,l,c,u,d,f,m)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:y}=f,w;if(y!=null&&y.length>0?w=y:w=h==null?void 0:h.slice(g,v+1),w!=null)return wK({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:w,offset:e,cells:m})}}),UA=e=>{var{chartData:t}=e,r=Ge(),n=Rt();return p.useEffect(()=>n?()=>{}:(r(U1(t)),()=>{r(U1(void 0))}),[t,r,n]),null},NN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qA=hr({name:"brush",initialState:NN,reducers:{setBrushSettings(e,t){return t.payload==null?NN:t.payload}}}),{setBrushSettings:sZ}=qA.actions,YK=qA.reducer;function XK(e,t,r){return(t=QK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ty{static create(t){return new Ty(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}XK(Ty,"EPS",1e-4);function ZK(e){return(e%180+180)%180}var eG=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ZK(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},tG={dots:[],areas:[],lines:[]},WA=hr({name:"referenceElements",initialState:tG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Tn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Tn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Tn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:iZ,removeDot:oZ,addArea:lZ,removeArea:cZ,addLine:uZ,removeLine:dZ}=WA.actions,rG=WA.reducer,nG=p.createContext(void 0),aG=e=>{var{children:t}=e,[r]=p.useState("".concat(Pl("recharts"),"-clip")),n=Im();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return p.createElement(nG.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function Yi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function VA(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function sG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return eG(n,r)}function iG(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Qd(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function oG(e,t){return VA(e,t+1)}function lG(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:VA(n,u)};var v=c,y,w=()=>(y===void 0&&(y=r(g,v)),y),b=g.coordinate,x=c===0||Qd(e,b,w,d,l);x||(c=0,d=o,u+=1),x&&(d=b+e*(w()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t,r){return(t=uG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fG(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(m){var h=i[m],g,v=()=>(g===void 0&&(g=r(h,m)),g);if(m===o-1){var y=e*(h.coordinate+e*v()/2-c);i[m]=h=At(At({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else i[m]=h=At(At({},h),{},{tickCoord:h.coordinate});var w=Qd(e,h.tickCoord,v,l,c);w&&(c=h.tickCoord-e*(v()/2+a),i[m]=At(At({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function mG(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=At(At({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var h=Qd(e,d.tickCoord,()=>f,c,u);h&&(u=d.tickCoord-e*(f/2+a),o[l-1]=At(At({},d),{},{isShow:!0}))}for(var g=i?l-1:l,v=function(b){var x=o[b],j,N=()=>(j===void 0&&(j=r(x,b)),j);if(b===0){var _=e*(x.coordinate-e*N()/2-c);o[b]=x=At(At({},x),{},{tickCoord:_<0?x.coordinate-_*e:x.coordinate})}else o[b]=x=At(At({},x),{},{tickCoord:x.coordinate});var S=Qd(e,x.tickCoord,N,c,u);S&&(c=x.tickCoord+e*(N()/2+a),o[b]=At(At({},x),{},{isShow:!0}))},y=0;y<g;y++)v(y);return o}function Iy(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(re(c)||Jn.isSsr){var m;return(m=oG(a,re(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?sl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(x,j)=>{var N=typeof u=="function"?u(x.value,j):x.value;return g==="width"?sG(sl(N,{fontSize:t,letterSpacing:r}),v,f):sl(N,{fontSize:t,letterSpacing:r})[g]},w=a.length>=2?xt(a[1].coordinate-a[0].coordinate):1,b=iG(i,w,g);return c==="equidistantPreserveStart"?lG(w,b,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=mG(w,b,y,a,o,c==="preserveStartEnd"):h=fG(w,b,y,a,o),h.filter(x=>x.isShow))}var hG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},pG=["axisLine","width","height","className","hide","ticks"],gG=["viewBox"],vG=["viewBox"];function s0(e,t){if(e==null)return{};var r,n,a=xG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(null,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=wG(e,"string");return typeof t=="symbol"?t:t+""}function wG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var My={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function jG(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=ut(ut(ut({},c),$e(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=ut(ut({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=ut(ut({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return p.createElement("line",As({},u,{className:fe("recharts-cartesian-axis-line",Ss(l,"className"))}))}function NG(e,t,r,n,a,i,o,l,c){var u,d,f,m,h,g,v=l?-1:1,y=e.tickSize||o,w=re(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,m=r+ +!l*a,f=m-v*y,g=f-v*c,h=w;break;case"left":f=m=e.coordinate,d=t+ +!l*n,u=d-v*y,h=u-v*c,g=w;break;case"right":f=m=e.coordinate,d=t+ +l*n,u=d+v*y,h=u+v*c,g=w;break;default:u=d=e.coordinate,m=r+ +l*a,f=m+v*y,g=f+v*c,h=w;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:h,y:g}}}function _G(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function SG(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function CG(e){var{option:t,tickProps:r,value:n}=e,a,i=fe(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,ut(ut({},r),{},{className:i}));else if(typeof t=="function")a=t(ut(ut({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=fe(o,t==null?void 0:t.className)),a=p.createElement(Pm,As({},r,{className:o}),n)}return a}function kG(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:m,width:h,height:g,tickSize:v,tickMargin:y,fontSize:w,letterSpacing:b,getTicksConfig:x,events:j}=e,N=Iy(ut(ut({},x),{},{ticks:t}),w,b),_=_G(u,d),S=SG(u,d),C=Dr(x),A=$e(r,!1),P=ut(ut({},C),{},{fill:"none"},$e(n,!1)),O=N.map((T,U)=>{var{line:q,tick:K}=NG(T,f,m,h,g,u,v,d,y),E=ut(ut(ut(ut({textAnchor:_,verticalAnchor:S},C),{},{stroke:"none",fill:a},A),K),{},{index:U,payload:T,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return p.createElement(Ye,As({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},tc(j,T,U)),n&&p.createElement("line",As({},P,q,{className:fe("recharts-cartesian-axis-tick-line",Ss(n,"className"))})),r&&p.createElement(CG,{option:r,tickProps:E,value:"".concat(typeof i=="function"?i(T.value,U):T.value).concat(o||"")}))});return O.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},O):null}var EG=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l}=e,c=s0(e,pG),[u,d]=p.useState(""),[f,m]=p.useState(""),h=p.useRef([]);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return hG({ticks:h.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=p.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(y);var w=y[0];if(w){var b=window.getComputedStyle(w),x=b.fontSize,j=b.letterSpacing;(x!==u||j!==f)&&(d(x),m(j))}}},[u,f]);return o||n!=null&&n<=0||a!=null&&a<=0?null:p.createElement(Ye,{className:fe("recharts-cartesian-axis",i),ref:g},p.createElement(jG,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Dr(e)}),p.createElement(kG,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),p.createElement(Bq,{x:e.x,y:e.y,width:e.width,height:e.height},p.createElement(Xq,{label:e.label}),e.children))}),PG=p.memo(EG,(e,t)=>{var{viewBox:r}=e,n=s0(e,gG),{viewBox:a}=t,i=s0(t,vG);return Yi(r,a)&&Yi(n,i)}),Ry=p.forwardRef((e,t)=>{var r=mt(e,My);return p.createElement(PG,As({},r,{ref:t}))});Ry.displayName="CartesianAxis";var AG=["x1","y1","x2","y2","key"],OG=["offset"],TG=["xAxisId","yAxisId"],IG=["xAxisId","yAxisId"];function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(null,arguments)}function Jd(e,t){if(e==null)return{};var r,n,a=$G(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $G(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LG=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KA(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,c=Jd(t,AG),u=Dr(c),{offset:d}=u,f=Jd(u,OG);r=p.createElement("line",ds({},f,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function FG(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Jd(e,TG),c=a.map((u,d)=>{var f=Tt(Tt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return KA(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function BG(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Jd(e,IG),c=a.map((u,d)=>{var f=Tt(Tt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return KA(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function zG(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],g=h?a+o-f:u[m+1]-f;if(g<=0)return null;var v=m%t.length;return p.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function UG(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],g=h?a+o-f:u[m+1]-f;if(g<=0)return null;var v=m%r.length;return p.createElement("rect",{key:"react-".concat(m),x:f,y:i,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var qG=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return Mk(Iy(Tt(Tt(Tt({},My),r),{},{ticks:Rk(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},WG=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return Mk(Iy(Tt(Tt(Tt({},My),r),{},{ticks:Rk(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},VG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Au(e){var t=ux(),r=dx(),n=Bk(),a=Tt(Tt({},mt(e,VG)),{},{x:re(e.x)?e.x:n.left,y:re(e.y)?e.y:n.top,width:re(e.width)?e.width:n.width,height:re(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:h}=a,g=Rt(),v=te(A=>M1(A,"xAxis",i,g)),y=te(A=>M1(A,"yAxis",o,g));if(!re(u)||u<=0||!re(d)||d<=0||!re(l)||l!==+l||!re(c)||c!==+c)return null;var w=a.verticalCoordinatesGenerator||qG,b=a.horizontalCoordinatesGenerator||WG,{horizontalPoints:x,verticalPoints:j}=a;if((!x||!x.length)&&typeof b=="function"){var N=m&&m.length,_=b({yAxis:y?Tt(Tt({},y),{},{ticks:N?m:y.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);al(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(x=_)}if((!j||!j.length)&&typeof w=="function"){var S=h&&h.length,C=w({xAxis:v?Tt(Tt({},v),{},{ticks:S?h:v.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);al(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(j=C)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(LG,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(zG,ds({},a,{horizontalPoints:x})),p.createElement(UG,ds({},a,{verticalPoints:j})),p.createElement(FG,ds({},a,{offset:n,horizontalPoints:x,xAxis:v,yAxis:y})),p.createElement(BG,ds({},a,{offset:n,verticalPoints:j,xAxis:v,yAxis:y})))}Au.displayName="CartesianGrid";var GA=(e,t,r,n)=>mn(e,"xAxis",t,n),HA=(e,t,r,n)=>fn(e,"xAxis",t,n),YA=(e,t,r,n)=>mn(e,"yAxis",r,n),XA=(e,t,r,n)=>fn(e,"yAxis",r,n),KG=R([de,GA,YA,HA,XA],(e,t,r,n,a)=>pn(e,"xAxis")?Es(t,n,!1):Es(r,a,!1)),GG=(e,t,r,n,a)=>a;function HG(e){return e.type==="line"}var YG=R([hc,GG],(e,t)=>e.filter(HG).find(r=>r.id===t)),XG=R([de,GA,YA,HA,XA,YG,KG,uc],(e,t,r,n,a,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:f,data:m}=i,h;if(m!=null&&m.length>0?h=m:h=c==null?void 0:c.slice(u,d+1),h!=null)return xH({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:h})}}),QG=["id"],JG=["type","layout","connectNulls","needClip"],ZG=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){eH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eH(e,t,r){return(t=tH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=rH(e,"string");return typeof t=="symbol"?t:t+""}function rH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dy(e,t){if(e==null)return{};var r,n,a=nH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(null,arguments)}var aH=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Va(r,t),payload:e}]};function sH(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Va(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var QA=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function iH(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var oH=(e,t,r)=>{var n=r.reduce((f,m)=>f+m);if(!n)return QA(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...iH(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function lH(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=fe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=p.createElement(yy,Os({},t,{className:n}))}return r}function cH(e,t){return e==null?!1:t?!0:e.length===1}function uH(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!cH(r,a))return null;var{id:l}=n,c=Dy(n,QG),u=Yf(a),d=Dr(c),f=$e(a,!0),m=r.map((g,v)=>{var y=ar(ar(ar({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return lH(a,y)}),h={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return p.createElement(Ye,Os({className:"recharts-line-dots",key:"dots"},h),m)}function dH(e){var{showLabels:t,children:r,points:n}=e,a=p.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return ar(ar({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return p.createElement(xy,{value:t?a:null},r)}function EN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:u}=i,d=Dy(i,JG),f=ar(ar({},$e(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return p.createElement(p.Fragment,null,(n==null?void 0:n.length)>1&&p.createElement(wi,Os({},f,{pathRef:r})),p.createElement(uH,{points:n,clipPathId:t,props:i}))}function fH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function mH(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:m,width:h,height:g,onAnimationEnd:v,onAnimationStart:y}=r,w=a.current,b=ao(r,"recharts-line-"),[x,j]=p.useState(!1),N=!x,_=p.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),S=p.useCallback(()=>{typeof y=="function"&&y(),j(!0)},[y]),C=fH(n.current),A=i.current;return p.createElement(dH,{points:o,showLabels:N},r.children,p.createElement(no,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:_,onAnimationStart:S,key:b},P=>{var O=Ne(A,C+A,P),T=Math.min(O,C),U;if(c)if(l){var q="".concat(l).split(/[,\s]+/gim).map(F=>parseFloat(F));U=oH(T,C,q)}else U=QA(C,T);else U=l==null?void 0:String(l);if(w){var K=w.length/o.length,E=P===1?o:o.map((F,L)=>{var z=Math.floor(L*K);if(w[z]){var W=w[z];return ar(ar({},F),{},{x:Ne(W.x,F.x,P),y:Ne(W.y,F.y,P)})}return m?ar(ar({},F),{},{x:Ne(h*2,F.x,P),y:Ne(g/2,F.y,P)}):ar(ar({},F),{},{x:F.x,y:F.y})});return a.current=E,p.createElement(EN,{props:r,points:E,clipPathId:t,pathRef:n,strokeDasharray:U})}return P>0&&C>0&&(a.current=o,i.current=T),p.createElement(EN,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:U})}),p.createElement(Am,{label:r.label}))}function hH(e){var{clipPathId:t,props:r}=e,n=p.useRef(null),a=p.useRef(0),i=p.useRef(null);return p.createElement(mH,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var pH=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:_e(e.payload,t)});class gH extends p.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:l,top:c,left:u,width:d,height:f,id:m,needClip:h}=this.props;if(r)return null;var g=fe("recharts-line",i),v=m,{r:y=3,strokeWidth:w=2}=(t=$e(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=Yf(n),x=y*2+w;return p.createElement(p.Fragment,null,p.createElement(Ye,{className:g},h&&p.createElement("defs",null,p.createElement(Oy,{clipPathId:v,xAxisId:o,yAxisId:l}),!b&&p.createElement("clipPath",{id:"clipPath-dots-".concat(v)},p.createElement("rect",{x:u-x/2,y:c-x/2,width:d+x,height:f+x}))),p.createElement(LA,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:pH,errorBarOffset:0},p.createElement(hH,{props:this.props,clipPathId:v}))),p.createElement(n0,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var JA={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Jn.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function vH(e){var t=mt(e,JA),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:m,xAxisId:h,yAxisId:g,id:v}=t,y=Dy(t,ZG),{needClip:w}=Mm(h,g),b=Im(),x=sc(),j=Rt(),N=te(P=>XG(P,h,g,j,v));if(x!=="horizontal"&&x!=="vertical"||N==null||b==null)return null;var{height:_,width:S,x:C,y:A}=b;return p.createElement(gH,Os({},y,{id:v,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:m,xAxisId:h,yAxisId:g,points:N,layout:x,height:_,width:S,left:C,top:A,needClip:w}))}function xH(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=_e(u,o);if(t==="horizontal"){var m=Ad({axis:r,ticks:a,bandSize:l,entry:u,index:d}),h=De(f)?null:n.scale(f);return{x:m,y:h,value:f,payload:u}}var g=De(f)?null:r.scale(f),v=Ad({axis:n,ticks:i,bandSize:l,entry:u,index:d});return g==null||v==null?null:{x:g,y:v,value:f,payload:u}}).filter(Boolean)}function yH(e){var t=mt(e,JA),r=Rt();return p.createElement(Tm,{id:t.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(ky,{legendPayload:aH(t)}),p.createElement(Om,{fn:sH,args:t}),p.createElement(Ey,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),p.createElement(vH,Os({},t,{id:n}))))}var Ou=p.memo(yH);Ou.displayName="Line";var ZA=(e,t,r,n)=>mn(e,"xAxis",t,n),eO=(e,t,r,n)=>fn(e,"xAxis",t,n),tO=(e,t,r,n)=>mn(e,"yAxis",r,n),rO=(e,t,r,n)=>fn(e,"yAxis",r,n),bH=R([de,ZA,tO,eO,rO],(e,t,r,n,a)=>pn(e,"xAxis")?Es(t,n,!1):Es(r,a,!1)),wH=(e,t,r,n,a)=>a,nO=R([hc,wH],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),jH=(e,t,r,n,a)=>{var i,o=nO(e,t,r,n,a);if(o!=null){var l=de(e),c=pn(l,"xAxis"),u;if(c?u=Ll(e,"yAxis",r,n):u=Ll(e,"xAxis",t,n),u!=null){var{stackId:d}=o,f=wm(o);if(!(d==null||f==null)){var m=(i=u[d])===null||i===void 0?void 0:i.stackedData;return m==null?void 0:m.find(h=>h.key===f)}}}},NH=R([de,ZA,tO,eO,rO,jH,uc,bH,nO],(e,t,r,n,a,i,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:m}=c,h;if(m&&m.length>0?h=m:h=u==null?void 0:u.slice(d,f+1),h!=null){var g=void 0;return WH({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:h,chartBaseValue:g,bandSize:l})}}}),_H=["id"],SH=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function aO(e,t){if(e==null)return{};var r,n,a=CH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=EH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=PH(e,"string");return typeof t=="symbol"?t:t+""}function PH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mn.apply(null,arguments)}function Zd(e,t){return e&&e!=="none"?e:t}var AH=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Zd(n,a),value:Va(r,t),payload:e}]};function OH(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Va(o,t),hide:l,type:e.tooltipType,color:Zd(n,i),unit:c}}}var TH=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=fe("recharts-area-dot",typeof e!="boolean"?e.className:"");r=p.createElement(yy,Mn({},t,{className:n}))}return r};function IH(e,t){return e==null?!1:t?!0:e.length===1}function MH(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n;if(!IH(r,i))return null;var l=Yf(i),c=Dr(n),u=$e(i,!0),d=r.map((m,h)=>{var g=Pn(Pn(Pn({key:"dot-".concat(h),r:3},c),u),{},{index:h,cx:m.x,cy:m.y,dataKey:o,value:m.value,payload:m.payload,points:r});return TH(i,g)}),f={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return p.createElement(Ye,Mn({className:"recharts-area-dots"},f),d)}function RH(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Pn(Pn({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return p.createElement(xy,{value:t?a:null},r)}function AN(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:f}=i,m=aO(i,_H),h=Dr(m);return p.createElement(p.Fragment,null,(t==null?void 0:t.length)>1&&p.createElement(Ye,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},p.createElement(wi,Mn({},h,{id:f,points:t,connectNulls:u,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&p.createElement(wi,Mn({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&p.createElement(wi,Mn({},h,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:r}))),p.createElement(MH,{points:t,props:m,clipPathId:a}))}function DH(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!kt(i)||!kt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.x||0));return re(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),re(c)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function $H(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!kt(i)||!kt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.y||0));return re(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),re(c)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function LH(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?p.createElement(DH,{alpha:t,points:n,baseLine:a,strokeWidth:i}):p.createElement($H,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function FH(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:m,onAnimationEnd:h}=n,g=ao(n,"recharts-area-"),[v,y]=p.useState(!1),w=!v,b=p.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),x=p.useCallback(()=>{typeof m=="function"&&m(),y(!0)},[m]),j=a.current,N=i.current;return p.createElement(RH,{showLabels:w,points:o},n.children,p.createElement(no,{animationId:g,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:b,onAnimationStart:x,key:g},_=>{if(j){var S=j.length/o.length,C=_===1?o:o.map((P,O)=>{var T=Math.floor(O*S);if(j[T]){var U=j[T];return Pn(Pn({},P),{},{x:Ne(U.x,P.x,_),y:Ne(U.y,P.y,_)})}return P}),A;return re(l)?A=Ne(N,l,_):De(l)||Zt(l)?A=Ne(N,0,_):A=l.map((P,O)=>{var T=Math.floor(O*S);if(Array.isArray(N)&&N[T]){var U=N[T];return Pn(Pn({},P),{},{x:Ne(U.x,P.x,_),y:Ne(U.y,P.y,_)})}return P}),_>0&&(a.current=C,i.current=A),p.createElement(AN,{points:C,baseLine:A,needClip:t,clipPathId:r,props:n})}return _>0&&(a.current=o,i.current=l),p.createElement(Ye,null,c&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(LH,{alpha:_,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),p.createElement(Ye,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(AN,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),p.createElement(Am,{label:n.label}))}function BH(e){var{needClip:t,clipPathId:r,props:n}=e,a=p.useRef(null),i=p.useRef();return p.createElement(FH,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class zH extends p.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:o,left:l,needClip:c,xAxisId:u,yAxisId:d,width:f,height:m,id:h,baseLine:g}=this.props;if(r)return null;var v=fe("recharts-area",i),y=h,{r:w=3,strokeWidth:b=2}=(t=$e(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},x=Yf(n),j=w*2+b;return p.createElement(p.Fragment,null,p.createElement(Ye,{className:v},c&&p.createElement("defs",null,p.createElement(Oy,{clipPathId:y,xAxisId:u,yAxisId:d}),!x&&p.createElement("clipPath",{id:"clipPath-dots-".concat(y)},p.createElement("rect",{x:l-j/2,y:o-j/2,width:f+j,height:m+j}))),p.createElement(BH,{needClip:c,clipPathId:y,props:this.props})),p.createElement(n0,{points:a,mainColor:Zd(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&p.createElement(n0,{points:g,mainColor:Zd(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var sO={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Jn.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function UH(e){var t,r=mt(e,sO),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:f,isAnimationActive:m,legendType:h,stroke:g,xAxisId:v,yAxisId:y}=r,w=aO(r,SH),b=sc(),x=tA(),{needClip:j}=Mm(v,y),N=Rt(),{points:_,isRange:S,baseLine:C}=(t=te(q=>NH(q,v,y,N,e.id)))!==null&&t!==void 0?t:{},A=Im();if(b!=="horizontal"&&b!=="vertical"||A==null||x!=="AreaChart"&&x!=="ComposedChart")return null;var{height:P,width:O,x:T,y:U}=A;return!_||!_.length?null:p.createElement(zH,Mn({},w,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:C,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:P,hide:f,layout:b,isAnimationActive:m,isRange:S,legendType:h,needClip:j,points:_,stroke:g,width:O,left:T,top:U,xAxisId:v,yAxisId:y}))}var qH=(e,t,r,n,a)=>{var i=r??t;if(re(i))return i;var o=e==="horizontal"?a:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function WH(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:m,bandSize:h}=e,g=a&&a.length,v=qH(i,o,r,l,c),y=i==="horizontal",w=!1,b=u.map((j,N)=>{var _;g?_=a[d+N]:(_=_e(j,n),Array.isArray(_)?w=!0:_=[v,_]);var S=_[1]==null||g&&!t&&_e(j,n)==null;return y?{x:Ad({axis:l,ticks:f,bandSize:h,entry:j,index:N}),y:S?null:c.scale(_[1]),value:_,payload:j}:{x:S?null:l.scale(_[1]),y:Ad({axis:c,ticks:m,bandSize:h,entry:j,index:N}),value:_,payload:j}}),x;return g||w?x=b.map(j=>{var N=Array.isArray(j.value)?j.value[0]:null;return y?{x:j.x,y:N!=null&&j.y!=null?c.scale(N):null,payload:j.payload}:{x:N!=null?l.scale(N):null,y:j.y,payload:j.payload}}):x=y?c.scale(v):l.scale(v),{points:b,baseLine:x,isRange:w}}function VH(e){var t=mt(e,sO),r=Rt();return p.createElement(Tm,{id:t.id,type:"area"},n=>p.createElement(p.Fragment,null,p.createElement(ky,{legendPayload:AH(t)}),p.createElement(Om,{fn:OH,args:t}),p.createElement(Ey,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Dk(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(UH,Mn({},t,{id:n}))))}var iO=p.memo(VH);iO.displayName="Area";var KH=["dangerouslySetInnerHTML","ticks"],GH=["id"],HH=["domain"],YH=["domain"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}function ef(e,t){if(e==null)return{};var r,n,a=XH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QH(e){var t=Ge();return p.useEffect(()=>(t(_V(e)),()=>{t(SV(e))}),[e,t]),null}var JH=e=>{var{xAxisId:t,className:r}=e,n=te(lx),a=Rt(),i="xAxis",o=te(y=>fo(y,i,t,a)),l=te(y=>MP(y,i,t,a)),c=te(y=>AP(y,t)),u=te(y=>v9(y,t)),d=te(y=>oP(y,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:m}=e,h=ef(e,KH),{id:g}=d,v=ef(d,GH);return p.createElement(Ry,i0({},h,v,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:fe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},ZH={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,height:er.height,hide:!1,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tickCount:er.tickCount,type:er.type,xAxisId:0},eY=e=>{var t,r,n,a,i,o=mt(e,ZH);return p.createElement(p.Fragment,null,p.createElement(QH,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(JH,o))},tY=(e,t)=>{var{domain:r}=e,n=ef(e,HH),{domain:a}=t,i=ef(t,YH);return Yi(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Yi({domain:r},{domain:a}):!1},Tu=p.memo(eY,tY);Tu.displayName="XAxis";var rY=["dangerouslySetInnerHTML","ticks"],nY=["id"],aY=["domain"],sY=["domain"];function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(null,arguments)}function tf(e,t){if(e==null)return{};var r,n,a=iY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oY(e){var t=Ge();return p.useEffect(()=>(t(CV(e)),()=>{t(kV(e))}),[e,t]),null}var lY=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=p.useRef(null),o=p.useRef(null),l=te(lx),c=Rt(),u=Ge(),d="yAxis",f=te(N=>fo(N,d,t,c)),m=te(N=>OP(N,t)),h=te(N=>y9(N,t)),g=te(N=>MP(N,d,t,c)),v=te(N=>lP(N,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!m||vy(a)||p.isValidElement(a)||v==null)){var N=i.current;if(N){var _=N.getCalculatedWidth();Math.round(m.width)!==Math.round(_)&&u(EV({id:t,width:_}))}}},[g,m,u,a,t,n,v]),m==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:y,ticks:w}=e,b=tf(e,rY),{id:x}=v,j=tf(v,nY);return p.createElement(Ry,o0({},b,j,{ref:i,labelRef:o,scale:f,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:fe("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:g}))},cY={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,hide:!1,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tickCount:tr.tickCount,type:tr.type,width:tr.width,yAxisId:0},uY=e=>{var t,r,n,a,i,o=mt(e,cY);return p.createElement(p.Fragment,null,p.createElement(oY,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(lY,o))},dY=(e,t)=>{var{domain:r}=e,n=tf(e,aY),{domain:a}=t,i=tf(t,sY);return Yi(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Yi({domain:r},{domain:a}):!1},Iu=p.memo(uY,dY);Iu.displayName="YAxis";var fY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=p;function mY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hY=typeof Object.is=="function"?Object.is:mY,pY=wc.useSyncExternalStore,gY=wc.useRef,vY=wc.useEffect,xY=wc.useMemo,yY=wc.useDebugValue;fY.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=gY(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=xY(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var g=o.value;if(a(g,h))return f=g}return f=h}if(g=f,hY(d,h))return g;var v=n(h);return a!==void 0&&a(g,v)?(d=h,g):(d=h,f=v)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=pY(e,i[0],i[1]);return vY(function(){o.hasValue=!0,o.value=l},[l]),yY(l),l};function bY(e){e()}function wY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){bY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var ON={notify(){},get:()=>[]};function jY(e,t){let r,n=ON,a=0,i=!1;function o(v){d();const y=n.subscribe(v);let w=!1;return()=>{w||(w=!0,y(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=wY())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=ON)}function m(){i||(i=!0,d())}function h(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return g}var NY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_Y=NY(),SY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",CY=SY(),kY=()=>_Y||CY?p.useLayoutEffect:p.useEffect,EY=kY(),Xh=Symbol.for("react-redux-context"),Qh=typeof globalThis<"u"?globalThis:{};function PY(){if(!p.createContext)return{};const e=Qh[Xh]??(Qh[Xh]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var AY=PY();function OY(e){const{children:t,context:r,serverState:n,store:a}=e,i=p.useMemo(()=>{const c=jY(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=p.useMemo(()=>a.getState(),[a]);EY(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||AY;return p.createElement(l.Provider,{value:i},t)}var TY=OY,IY=(e,t)=>t,$y=R([IY,de,aP,pt,YP,ra,N7,ft],E7),Ly=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},oO=Tr("mouseClick"),lO=nc();lO.startListening({actionCreator:oO,effect:(e,t)=>{var r=e.payload,n=$y(t.getState(),Ly(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(T9({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var l0=Tr("mouseMove"),cO=nc();cO.startListening({actionCreator:l0,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=ly(n,n.tooltip.settings.shared),i=$y(n,Ly(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(UP({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(zP()))}});var TN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},uO=hr({name:"rootProps",initialState:TN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:TN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),MY=uO.reducer,{updateOptions:RY}=uO.actions,dO=hr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:DY}=dO.actions,$Y=dO.reducer,fO=Tr("keyDown"),mO=Tr("focus"),Fy=nc();Fy.startListening({actionCreator:fO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(cy(a,ho(r))),l=ra(r);if(i==="Enter"){var c=Kd(r,"axis","hover",String(a.index));t.dispatch(Jg({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=N9(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,m=o+f*d;if(!(l==null||m>=l.length||m<0)){var h=Kd(r,"axis","hover",String(m));t.dispatch(Jg({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});Fy.startListening({actionCreator:mO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Kd(r,"axis","hover",String(i));t.dispatch(Jg({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var xr=Tr("externalEvent"),hO=nc();hO.startListening({actionCreator:xr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:h7(r),activeDataKey:ZP(r),activeIndex:Da(r),activeLabel:JP(r),activeTooltipIndex:Da(r),isTooltipActive:p7(r)};e.payload.handler(n,e.payload.reactEvent)}}});var LY=R([mo],e=>e.tooltipItemPayloads),FY=R([LY,vc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),pO=Tr("touchMove"),gO=nc();gO.startListening({actionCreator:pO,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=ly(n,n.tooltip.settings.shared);if(a==="axis"){var i=$y(n,Ly({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(UP({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(Lk),d=(o=c.getAttribute(Fk))!==null&&o!==void 0?o:void 0,f=FY(t.getState(),u,d);t.dispatch(BP({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var BY=ck({brush:YK,cartesianAxis:PV,chartData:q7,errorBars:HV,graphicalItems:HW,layout:PL,legend:x8,options:L7,polarAxis:mW,polarOptions:$Y,referenceElements:rG,rootProps:MY,tooltip:I9}),zY=function(t){return eL({reducer:BY,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([lO.middleware,cO.middleware,Fy.middleware,hO.middleware,gO.middleware]),devTools:Jn.devToolsEnabled})};function vO(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Rt(),i=p.useRef(null);if(a)return r;i.current==null&&(i.current=zY(t));var o=ex;return p.createElement(TY,{context:o,store:i.current},r)}function xO(e){var{layout:t,width:r,height:n,margin:a}=e,i=Ge(),o=Rt();return p.useEffect(()=>{o||(i(CL(t)),i(kL({width:r,height:n})),i(SL(a)))},[i,o,t,r,n,a]),null}function yO(e){var t=Ge();return p.useEffect(()=>{t(RY(e))},[t,e]),null}var UY=["children"];function qY(e,t){if(e==null)return{};var r,n,a=WY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(null,arguments)}var VY={width:"100%",height:"100%"},KY=p.forwardRef((e,t)=>{var r=ux(),n=dx(),a=Wk();if(!Wi(r)||!Wi(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0,p.createElement(Lv,rf({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:VY,ref:t}),i)}),GY=e=>{var{children:t}=e,r=te(um);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return p.createElement(Lv,{width:n,height:a,x:o,y:i},t)},IN=p.forwardRef((e,t)=>{var{children:r}=e,n=qY(e,UY),a=Rt();return a?p.createElement(GY,null,r):p.createElement(KY,rf({ref:t},n),r)});function HY(){var e=Ge(),[t,r]=p.useState(null),n=te(n8);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;kt(i)&&i!==n&&e(EL(i))}},[t,e,n]),r}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return(t=QY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=JY(e,"string");return typeof t=="symbol"?t:t+""}function JY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZY=p.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:g,onTouchStart:v,style:y,width:w}=e,b=Ge(),[x,j]=p.useState(null),[N,_]=p.useState(null);J7();var S=HY(),C=p.useCallback(Y=>{S(Y),typeof t=="function"&&t(Y),j(Y),_(Y)},[S,t,j,_]),A=p.useCallback(Y=>{b(oO(Y)),b(xr({handler:i,reactEvent:Y}))},[b,i]),P=p.useCallback(Y=>{b(l0(Y)),b(xr({handler:u,reactEvent:Y}))},[b,u]),O=p.useCallback(Y=>{b(zP()),b(xr({handler:d,reactEvent:Y}))},[b,d]),T=p.useCallback(Y=>{b(l0(Y)),b(xr({handler:f,reactEvent:Y}))},[b,f]),U=p.useCallback(()=>{b(mO())},[b]),q=p.useCallback(Y=>{b(fO(Y.key))},[b]),K=p.useCallback(Y=>{b(xr({handler:o,reactEvent:Y}))},[b,o]),E=p.useCallback(Y=>{b(xr({handler:l,reactEvent:Y}))},[b,l]),F=p.useCallback(Y=>{b(xr({handler:c,reactEvent:Y}))},[b,c]),L=p.useCallback(Y=>{b(xr({handler:m,reactEvent:Y}))},[b,m]),z=p.useCallback(Y=>{b(xr({handler:v,reactEvent:Y}))},[b,v]),W=p.useCallback(Y=>{b(pO(Y)),b(xr({handler:g,reactEvent:Y}))},[b,g]),G=p.useCallback(Y=>{b(xr({handler:h,reactEvent:Y}))},[b,h]);return p.createElement(iA.Provider,{value:x},p.createElement(pC.Provider,{value:N},p.createElement("div",{className:fe("recharts-wrapper",n),style:YY({position:"relative",cursor:"default",width:w,height:a},y),onClick:A,onContextMenu:K,onDoubleClick:E,onFocus:U,onKeyDown:q,onMouseDown:F,onMouseEnter:P,onMouseLeave:O,onMouseMove:T,onMouseUp:L,onTouchEnd:G,onTouchMove:W,onTouchStart:z,ref:C},r)))}),eX=["children","className","width","height","style","compact","title","desc"];function tX(e,t){if(e==null)return{};var r,n,a=rX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bO=p.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:o,compact:l,title:c,desc:u}=e,d=tX(e,eX),f=Dr(d);return l?p.createElement(IN,{otherAttributes:f,title:c,desc:u},r):p.createElement(ZY,{className:n,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(IN,{otherAttributes:f,title:c,desc:u,ref:t},p.createElement(aG,null,r)))}),nX=["width","height"];function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(null,arguments)}function aX(e,t){if(e==null)return{};var r,n,a=sX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iX={top:5,right:5,bottom:5,left:5},oX={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:iX,reverseStackOrder:!1,syncMethod:"index"},By=p.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,oX),{width:i,height:o}=a,l=aX(a,nX);if(!Wi(i)||!Wi(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(vO,{preloadedState:{options:h},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:c},p.createElement(UA,{chartData:m.data}),p.createElement(xO,{width:i,height:o,layout:a.layout,margin:a.margin}),p.createElement(yO,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(bO,c0({},l,{width:i,height:o,ref:r})))}),lX=["axis"],cX=p.forwardRef((e,t)=>p.createElement(By,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lX,tooltipPayloadSearcher:Em,categoricalChartProps:e,ref:t})),uX=["axis","item"],dX=p.forwardRef((e,t)=>p.createElement(By,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uX,tooltipPayloadSearcher:Em,categoricalChartProps:e,ref:t}));function fX(e){var t=Ge();return p.useEffect(()=>{t(DY(e))},[t,e]),null}var mX=["width","height","layout"];function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(null,arguments)}function hX(e,t){if(e==null)return{};var r,n,a=pX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gX={top:5,right:5,bottom:5,left:5},vX={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:gX,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},xX=p.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,vX),{width:i,height:o,layout:l}=a,c=hX(a,mX);if(!Wi(i)||!Wi(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m}=t,h={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return p.createElement(vO,{preloadedState:{options:h},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},p.createElement(UA,{chartData:a.data}),p.createElement(xO,{width:i,height:o,layout:l,margin:a.margin}),p.createElement(yO,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(fX,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),p.createElement(bO,u0({width:i,height:o},c,{ref:r})))}),yX=["item"],bX={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wX=p.forwardRef((e,t)=>{var r=mt(e,bX);return p.createElement(xX,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yX,tooltipPayloadSearcher:Em,categoricalChartProps:r,ref:t})}),jX=["axis"],NX=p.forwardRef((e,t)=>p.createElement(By,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jX,tooltipPayloadSearcher:Em,categoricalChartProps:e,ref:t}));function _X({vendasMensais:e,gastosCategoria:t,receitasPopulares:r,crescimentoMensal:n}){const a=["#8884d8","#82ca9d","#ffc658","#ff7300","#0088FE","#00C49F"],i=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),o=({active:l,payload:c,label:u})=>l&&c&&c.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:u}),c.map((d,f)=>s.jsxs("p",{className:"text-sm",style:{color:d.color},children:[d.name,": ",typeof d.value=="number"?i(d.value):d.value]},f))]}):null;return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Evolução Financeira - Últimos 12 Meses"}),s.jsx("div",{className:"h-80",children:s.jsx(lu,{width:"100%",height:"100%",children:s.jsxs(cX,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Au,{strokeDasharray:"3 3"}),s.jsx(Tu,{dataKey:"name"}),s.jsx(Iu,{tickFormatter:i}),s.jsx(ou,{content:s.jsx(o,{})}),s.jsx(dm,{}),s.jsx(Ou,{type:"monotone",dataKey:"vendas",stroke:"#10b981",strokeWidth:3,name:"Vendas",dot:{fill:"#10b981",strokeWidth:2,r:4}}),s.jsx(Ou,{type:"monotone",dataKey:"gastos",stroke:"#ef4444",strokeWidth:3,name:"Gastos",dot:{fill:"#ef4444",strokeWidth:2,r:4}}),s.jsx(Ou,{type:"monotone",dataKey:"lucro",stroke:"#3b82f6",strokeWidth:3,name:"Lucro",dot:{fill:"#3b82f6",strokeWidth:2,r:4}})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Distribuição de Gastos"}),s.jsx("div",{className:"h-80",children:s.jsx(lu,{width:"100%",height:"100%",children:s.jsxs(wX,{children:[s.jsx(RA,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percent:c})=>`${l}: ${(c*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((l,c)=>s.jsx(yc,{fill:a[c%a.length]},`cell-${c}`))}),s.jsx(ou,{formatter:l=>[i(l),"Valor"]})]})})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Receitas Mais Lucrativas"}),s.jsx("div",{className:"h-80",children:s.jsx(lu,{width:"100%",height:"100%",children:s.jsxs(dX,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(Au,{strokeDasharray:"3 3"}),s.jsx(Tu,{dataKey:"name",angle:-45,textAnchor:"end",height:100,fontSize:12}),s.jsx(Iu,{tickFormatter:i}),s.jsx(ou,{content:s.jsx(o,{})}),s.jsx(BA,{dataKey:"value",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Tendência de Crescimento"}),s.jsx("div",{className:"h-80",children:s.jsx(lu,{width:"100%",height:"100%",children:s.jsxs(NX,{data:n,margin:{top:10,right:30,left:0,bottom:0},children:[s.jsx(Au,{strokeDasharray:"3 3"}),s.jsx(Tu,{dataKey:"name"}),s.jsx(Iu,{tickFormatter:l=>`${l}%`}),s.jsx(ou,{formatter:l=>[`${l}%`,"Crescimento"],labelFormatter:l=>`Mês: ${l}`}),s.jsx(iO,{type:"monotone",dataKey:"value",stroke:"#f59e0b",fill:"#fbbf24",fillOpacity:.6})]})})})]})]})}function SX(){const{user:e}=Ke(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState("30"),[f,m]=p.useState("overview"),[h,g]=p.useState(!1),[v,y]=p.useState(null);p.useEffect(()=>{if(e){const P=ee(X.ORCAMENTOS,[]),O=ee(X.CLIENTES,[]),T=ee(X.RECEITAS,[]),U=ee(X.DOCUMENTOS_FISCAIS,[]);r(P.filter(q=>q.usuario_id===e.id)),a(O.filter(q=>q.usuario_id===e.id&&q.ativo)),o(T.filter(q=>q.usuario_id===e.id&&q.ativo)),c(U.filter(q=>q.usuario_id===e.id))}},[e]);const w=()=>{const P=new Date,O=parseInt(u);return new Date(P.getTime()-O*24*60*60*1e3)},b=t.filter(P=>new Date(P.data_criacao)>=w()),x=b.filter(P=>P.status==="aprovado"),j={totalVendas:x.reduce((P,O)=>P+O.valor_total,0),totalOrcamentos:b.length,orcamentosAprovados:x.length,taxaAprovacao:b.length>0?x.length/b.length*100:0,ticketMedio:x.length>0?x.reduce((P,O)=>P+O.valor_total,0)/x.length:0,clientesAtivos:new Set(x.map(P=>P.cliente_id)).size,totalGastos:l.reduce((P,O)=>P+O.valor_total,0)},N=()=>{const P={};return x.forEach(O=>{O.itens.forEach(T=>{const U=i.find(q=>q.id===T.receita_id);U&&(P[T.receita_id]||(P[T.receita_id]={nome:U.nome,quantidade:0,valor:0}),P[T.receita_id].quantidade+=T.quantidade,P[T.receita_id].valor+=T.valor_total)})}),Object.values(P).sort((O,T)=>T.valor-O.valor).slice(0,5)},_=async()=>{if(l.length!==0){g(!0);try{const P=await UM(l);y(P)}catch(P){console.error("Erro ao analisar documentos:",P)}finally{g(!1)}}},C=(()=>{const P=new Date,O=[];for(let K=5;K>=0;K--){const E=new Date(P.getFullYear(),P.getMonth()-K,1),F=E.toLocaleDateString("pt-BR",{month:"short"}),L=x.filter(W=>{const G=new Date(W.data_criacao);return G.getMonth()===E.getMonth()&&G.getFullYear()===E.getFullYear()}).reduce((W,G)=>W+G.valor_total,0),z=l.filter(W=>{const G=new Date(W.data);return G.getMonth()===E.getMonth()&&G.getFullYear()===E.getFullYear()}).reduce((W,G)=>W+G.valor_total,0);O.push({name:F,vendas:L,gastos:z,lucro:L-z})}const T=v?Object.entries(v.gastos_por_categoria).map(([K,E])=>({name:K.charAt(0).toUpperCase()+K.slice(1).replace("_"," "),value:E})):[{name:"Ingredientes",value:j.totalGastos*.4},{name:"Embalagens",value:j.totalGastos*.2},{name:"Marketing",value:j.totalGastos*.15},{name:"Equipamentos",value:j.totalGastos*.15},{name:"Outros",value:j.totalGastos*.1}],U=N().map(K=>({name:K.nome.length>15?K.nome.substring(0,15)+"...":K.nome,value:K.valor})),q=O.map((K,E)=>{if(E===0)return{name:K.name,value:0};const F=O[E-1],L=F.vendas>0?(K.vendas-F.vendas)/F.vendas*100:0;return{name:K.name,value:Math.round(L)}}).slice(1);return{vendasMensais:O,gastosCategoria:T,receitasPopulares:U,crescimentoMensal:q}})(),A=()=>{const P={periodo:`${u} dias`,dataGeracao:new Date().toLocaleDateString("pt-BR"),metricas:j,produtosMaisVendidos:N(),documentosAnalisados:l.length,totalGastos:j.totalGastos,insights:v},O="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(P,null,2)),T=document.createElement("a");T.setAttribute("href",O),T.setAttribute("download",`relatorio-avancado-${new Date().toISOString().split("T")[0]}.json`),document.body.appendChild(T),T.click(),T.remove()};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Relatórios Avançados"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Análise completa com documentos fiscais e IA"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("select",{value:u,onChange:P=>d(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"7",children:"Últimos 7 dias"}),s.jsx("option",{value:"30",children:"Últimos 30 dias"}),s.jsx("option",{value:"90",children:"Últimos 90 dias"}),s.jsx("option",{value:"365",children:"Último ano"})]}),l.length>0&&s.jsxs("button",{onClick:_,disabled:h,className:"flex items-center space-x-2 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Ti,{className:"h-5 w-5"}),s.jsx("span",{children:h?"Analisando...":"Analisar IA"})]}),s.jsxs("button",{onClick:A,className:"flex items-center space-x-2 bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors",children:[s.jsx($s,{className:"h-5 w-5"}),s.jsx("span",{children:"Exportar"})]})]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[s.jsx("button",{onClick:()=>m("overview"),className:`flex-1 text-center py-2 px-4 rounded-md transition-colors ${f==="overview"?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ti,{className:"h-4 w-4"}),s.jsx("span",{children:"Visão Geral"})]})}),s.jsx("button",{onClick:()=>m("documentos"),className:`flex-1 text-center py-2 px-4 rounded-md transition-colors ${f==="documentos"?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Gt,{className:"h-4 w-4"}),s.jsx("span",{children:"Documentos Fiscais"})]})}),s.jsx("button",{onClick:()=>m("insights"),className:`flex-1 text-center py-2 px-4 rounded-md transition-colors ${f==="insights"?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Cr,{className:"h-4 w-4"}),s.jsx("span",{children:"Gráficos Avançados"})]})})]}),f==="overview"&&s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Vendas"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",j.totalVendas.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x.length," orçamentos aprovados"]})]}),s.jsx(Ma,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Gastos"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["R$ ",j.totalGastos.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," documentos analisados"]})]}),s.jsx(Gt,{className:"h-8 w-8 text-red-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Margem de Lucro"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",(j.totalVendas-j.totalGastos).toFixed(2)]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j.totalVendas>0?((j.totalVendas-j.totalGastos)/j.totalVendas*100).toFixed(1):0,"% de margem"]})]}),s.jsx(Cr,{className:"h-8 w-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taxa de Aprovação"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[j.taxaAprovacao.toFixed(1),"%"]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[j.orcamentosAprovados," de ",j.totalOrcamentos," orçamentos"]})]}),s.jsx(Yl,{className:"h-8 w-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo Executivo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Principais Indicadores"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:x.length})," vendas realizadas no período"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:l.length})," documentos fiscais processados"]}),s.jsxs("li",{children:["• ",s.jsxs("strong",{children:["R$ ",j.ticketMedio.toFixed(2)]})," ticket médio por venda"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:j.clientesAtivos})," clientes ativos no período"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Status Financeiro"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Receitas:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",j.totalVendas.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Gastos:"}),s.jsxs("span",{className:"font-medium text-red-600",children:["R$ ",j.totalGastos.toFixed(2)]})]}),s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[s.jsx("span",{children:"Resultado:"}),s.jsxs("span",{className:`${j.totalVendas>=j.totalGastos?"text-green-600":"text-red-600"}`,children:["R$ ",(j.totalVendas-j.totalGastos).toFixed(2)]})]})})]})]})]})]})]}),f==="documentos"&&s.jsxs("div",{children:[s.jsx($R,{userId:(e==null?void 0:e.id)||"",onDocumentsChange:c}),v&&s.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Análise de Gastos com IA"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Tendências Identificadas"}),s.jsx("ul",{className:"space-y-2",children:v.tendencias.map((P,O)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start space-x-2",children:[s.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),s.jsx("span",{children:P})]},O))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Recomendações"}),s.jsx("ul",{className:"space-y-2",children:v.recomendacoes.map((P,O)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"•"}),s.jsx("span",{children:P})]},O))})]})]}),s.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Total de Gastos Analisados:"})," ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v.total_gastos)]})})]})]}),f==="insights"&&s.jsx("div",{children:s.jsx(_X,{...C})})]})})}function CX(){const[e,t]=p.useState("volume"),[r,n]=p.useState({nome_produto:"",preco:0,data_validade:"",ingredientes:""}),[a,i]=p.useState({valor:null,unidade:"ml"}),[o,l]=p.useState({valor:null,unidade:"g"}),c={ml:1,l:1e3,xícara:240,"colher-sopa":15,"colher-chá":5},u={g:1,kg:1e3,"xícara-açúcar":200,"xícara-farinha":120,"colher-sopa-açúcar":12,"colher-chá-açúcar":4},d=(g,v,y)=>g===null||g===0?0:g*c[v]/c[y],f=(g,v,y)=>g===null||g===0?0:g*u[v]/u[y],m=()=>{const g=`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Etiqueta - ${r.nome_produto}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: white;
        }
        .etiqueta {
            width: 10cm;
            height: 6cm;
            border: 2px solid #333;
            padding: 10px;
            margin: 10px;
            display: inline-block;
            position: relative;
            background: white;
        }
        .produto-nome {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
        }
        .preco {
            font-size: 24px;
            font-weight: bold;
            color: #d63384;
            text-align: center;
            margin: 10px 0;
        }
        .validade {
            font-size: 12px;
            margin: 5px 0;
        }
        .ingredientes {
            font-size: 10px;
            margin-top: 10px;
            line-height: 1.2;
        }
        .rodape {
            position: absolute;
            bottom: 5px;
            right: 10px;
            font-size: 8px;
            color: #666;
        }
        @media print {
            body { margin: 0; padding: 0; }
            .etiqueta { margin: 0; }
        }
    </style>
</head>
<body>
    <div class="etiqueta">
        <div class="produto-nome">${r.nome_produto}</div>
        <div class="preco">R$ ${r.preco.toFixed(2)}</div>
        ${r.data_validade?`<div class="validade">Validade: ${new Date(r.data_validade).toLocaleDateString("pt-BR")}</div>`:""}
        ${r.ingredientes?`<div class="ingredientes">Ingredientes: ${r.ingredientes}</div>`:""}
        <div class="rodape">DoceCalc</div>
    </div>
    <script>
        window.onload = function() {
            window.print();
        }
    <\/script>
</body>
</html>
    `,v=new Blob([g],{type:"text/html"}),y=URL.createObjectURL(v),w=window.open(y,"_blank");w&&(w.onload=()=>{setTimeout(()=>{URL.revokeObjectURL(y)},1e3)})},h=()=>{const g=["Açúcar cristal - 1kg","Farinha de trigo - 1kg","Ovos - 1 dúzia","Manteiga - 500g","Leite integral - 1L","Fermento em pó - 100g","Essência de baunilha - 30ml","Chocolate em pó - 200g"],v=`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Lista de Compras - DoceCalc</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h1 { color: #d63384; text-align: center; }
        .item { 
            padding: 10px; 
            border-bottom: 1px dashed #ccc; 
            display: flex; 
            align-items: center; 
        }
        .checkbox { 
            width: 20px; 
            height: 20px; 
            border: 2px solid #333; 
            margin-right: 15px; 
        }
        .rodape { 
            margin-top: 30px; 
            text-align: center; 
            color: #666; 
            font-size: 12px; 
        }
    </style>
</head>
<body>
    <h1>📝 Lista de Compras</h1>
    <p><strong>Data:</strong> ${new Date().toLocaleDateString("pt-BR")}</p>
    ${g.map(x=>`
        <div class="item">
            <div class="checkbox"></div>
            <span>${x}</span>
        </div>
    `).join("")}
    <div class="rodape">
        <p>Gerado pelo DoceCalc - Calculadora para Confeiteiras</p>
    </div>
</body>
</html>
    `,y=new Blob([v],{type:"text/html"}),w=URL.createObjectURL(y),b=window.open(w,"_blank");b&&(b.onload=()=>{setTimeout(()=>{URL.revokeObjectURL(w)},1e3)})};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Ferramentas Auxiliares"}),s.jsx("p",{className:"text-gray-600",children:"Conversores, etiquetas e outras ferramentas úteis"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(vM,{className:"h-6 w-6 text-blue-500"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Conversor de Medidas"})]}),s.jsxs("div",{className:"flex space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>t("volume"),className:`px-4 py-2 rounded-lg transition-colors ${e==="volume"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Volume"}),s.jsx("button",{onClick:()=>t("peso"),className:`px-4 py-2 rounded-lg transition-colors ${e==="peso"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Peso"})]}),e==="volume"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor"}),s.jsx("input",{type:"number",value:tl(a.valor),onChange:g=>i({...a,valor:xi(g.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Digite o valor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidade"}),s.jsxs("select",{value:a.unidade,onChange:g=>i({...a,unidade:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"ml",children:"Mililitros (ml)"}),s.jsx("option",{value:"l",children:"Litros (l)"}),s.jsx("option",{value:"xícara",children:"Xícara"}),s.jsx("option",{value:"colher-sopa",children:"Colher de sopa"}),s.jsx("option",{value:"colher-chá",children:"Colher de chá"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Conversões:"}),s.jsx("div",{className:"space-y-1 text-sm",children:Object.keys(c).filter(g=>g!==a.unidade).map(g=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[g,":"]}),s.jsx("span",{className:"font-medium",children:d(a.valor,a.unidade,g).toFixed(2)})]},g))})]})]}),e==="peso"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor"}),s.jsx("input",{type:"number",value:tl(o.valor),onChange:g=>l({...o,valor:xi(g.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Digite o valor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidade"}),s.jsxs("select",{value:o.unidade,onChange:g=>l({...o,unidade:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"g",children:"Gramas (g)"}),s.jsx("option",{value:"kg",children:"Quilos (kg)"}),s.jsx("option",{value:"xícara-açúcar",children:"Xícara de açúcar"}),s.jsx("option",{value:"xícara-farinha",children:"Xícara de farinha"}),s.jsx("option",{value:"colher-sopa-açúcar",children:"Colher sopa açúcar"}),s.jsx("option",{value:"colher-chá-açúcar",children:"Colher chá açúcar"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Conversões:"}),s.jsx("div",{className:"space-y-1 text-sm",children:Object.keys(u).filter(g=>g!==o.unidade).map(g=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[g,":"]}),s.jsx("span",{className:"font-medium",children:f(o.valor,o.unidade,g).toFixed(2)})]},g))})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(Cw,{className:"h-6 w-6 text-green-500"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gerador de Etiquetas"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Produto *"}),s.jsx("input",{type:"text",value:r.nome_produto,onChange:g=>n({...r,nome_produto:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: Bolo de Chocolate"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preço (R$) *"}),s.jsx("input",{type:"number",step:"0.01",value:r.preco,onChange:g=>{const v=xi(g.target.value);n({...r,preco:v||0})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Digite o preço"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Validade"}),s.jsx("input",{type:"date",value:r.data_validade,onChange:g=>n({...r,data_validade:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ingredientes"}),s.jsx("textarea",{value:r.ingredientes,onChange:g=>n({...r,ingredientes:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Lista de ingredientes separados por vírgula"})]}),s.jsxs("button",{onClick:m,disabled:!r.nome_produto||r.preco<=0,className:"w-full bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[s.jsx(Cw,{className:"h-5 w-5"}),s.jsx("span",{children:"Gerar Etiqueta"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(fg,{className:"h-6 w-6 text-purple-500"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lista de Compras"})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Gere uma lista de compras com ingredientes básicos para confeitaria."}),s.jsxs("button",{onClick:h,className:"w-full bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center space-x-2",children:[s.jsx($s,{className:"h-5 w-5"}),s.jsx("span",{children:"Gerar Lista de Compras"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(cn,{className:"h-6 w-6 text-orange-500"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Calculadora Nutricional"})]}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx(cn,{className:"h-16 w-16 text-orange-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Em Desenvolvimento"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Esta funcionalidade estará disponível em breve para calcular informações nutricionais dos seus produtos."}),s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-orange-700",children:["💡 ",s.jsx("strong",{children:"Prévia:"})," Calcule calorias, carboidratos, proteínas e gorduras automaticamente com base nos ingredientes das suas receitas."]})})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"💡 Dicas de Uso"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Conversores"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Use os conversores para adaptar receitas de outros países ou quando não tiver as medidas exatas."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Etiquetas"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Crie etiquetas profissionais para seus produtos. Inclua sempre os ingredientes para clientes com alergias."})]})]})]})]})})}function kX(){var c;const{user:e,profile:t}=Ke(),r=Mr(),[n,a]=p.useState(null),i=async u=>{a(u);try{r(u==="pix"?"/upgrade/pix":"/upgrade/stripe")}catch(d){console.error("Erro no upgrade:",d)}finally{a(null)}},o=u=>{switch(u){case"free":return s.jsx(hs,{className:"h-8 w-8"});case"professional":return s.jsx(zn,{className:"h-8 w-8"});case"premium":return s.jsx(Mi,{className:"h-8 w-8"});case"master":return s.jsx(Ar,{className:"h-8 w-8"});default:return s.jsx(hs,{className:"h-8 w-8"})}},l=u=>{switch(u){case"free":return"border-gray-200 bg-white";case"professional":return"border-blue-200 bg-blue-50";case"premium":return"border-purple-200 bg-purple-50";case"master":return"border-yellow-200 bg-yellow-50";default:return"border-gray-200 bg-white"}};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Escolha seu Plano"}),s.jsx("p",{className:"text-gray-600",children:"Desbloqueie recursos avançados para fazer seu negócio crescer"})]})]}),t&&s.jsx("div",{className:"bg-white border border-blue-200 rounded-lg p-6 mb-8",children:s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:o(t.plano)}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Plano Atual: ",(c=Ri.find(u=>u.id===t.plano))==null?void 0:c.nome]}),s.jsx("p",{className:"text-gray-600",children:t.plano==="free"?"Upgrade para desbloquear mais recursos":"Obrigado por ser nosso cliente!"})]})]})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-12",children:Ri.map(u=>{const d=(t==null?void 0:t.plano)===u.id;return s.jsxs("div",{className:`relative rounded-lg border-2 p-8 ${l(u.id)} ${u.popular?"ring-2 ring-purple-500 transform scale-105":""}`,children:[u.popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Mais Popular"})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${u.id==="free"?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-600"}`,children:o(u.id)}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.nome}),s.jsx("div",{className:"mb-4",children:u.preco_mensal===0?s.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"Grátis"}):s.jsxs("div",{children:[s.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["R$ ",u.preco_mensal.toFixed(2).replace(".",",")]}),s.jsx("span",{className:"text-xl text-gray-600 font-normal",children:"/mês"})]})}),s.jsx("p",{className:"text-gray-600",children:u.descricao})]}),s.jsx("div",{className:"space-y-3 mb-8",children:u.funcionalidades.map((f,m)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(hs,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700",children:f})]},m))}),s.jsx("div",{className:"mt-auto",children:d?s.jsx("div",{className:"w-full py-3 px-4 bg-gray-100 text-gray-600 rounded-lg text-center font-medium",children:"Plano Atual"}):u.id==="free"?s.jsx("button",{disabled:!0,className:"w-full py-3 px-4 bg-gray-100 text-gray-400 rounded-lg font-medium cursor-not-allowed",children:"Plano Gratuito"}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-center text-sm font-medium text-gray-700 mb-4",children:"Escolha sua forma de pagamento:"}),s.jsxs("button",{onClick:()=>i("pix"),disabled:n!==null,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[n==="pix"?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(on,{className:"w-5 h-5"}),"Pagar com PIX",n!=="pix"&&s.jsx("span",{className:"bg-green-500 px-2 py-1 rounded text-xs ml-2",children:"Instantâneo"})]}),s.jsxs("button",{onClick:()=>i("card"),disabled:n!==null,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[n==="card"?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(Hl,{className:"w-5 h-5"}),"Pagar com Cartão"]})]})})]},u.id)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Perguntas Frequentes"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Posso mudar de plano a qualquer momento?"}),s.jsx("p",{className:"text-gray-600",children:"Sim! Você pode fazer upgrade ou downgrade do seu plano a qualquer momento. As alterações entram em vigor imediatamente."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Como funciona o período de teste?"}),s.jsx("p",{className:"text-gray-600",children:"Todos os planos pagos incluem 7 dias de teste gratuito. Você pode cancelar a qualquer momento durante o período de teste."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Meus dados ficam seguros?"}),s.jsx("p",{className:"text-gray-600",children:"Sim! Seus dados são criptografados e armazenados com segurança. Fazemos backup automático de todas as informações."})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preciso de cartão de crédito para o teste?"}),s.jsx("p",{className:"text-gray-600",children:"Não! O plano gratuito é permanente e não requer cartão de crédito. Para planos pagos, só pedimos cartão após o período de teste."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Posso cancelar a qualquer momento?"}),s.jsx("p",{className:"text-gray-600",children:"Sim! Não há contratos ou fidelidade. Você pode cancelar sua assinatura a qualquer momento e continuar usando até o final do período pago."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Oferecem suporte técnico?"}),s.jsx("p",{className:"text-gray-600",children:"Sim! Oferecemos suporte por email para todos os planos. Planos Premium e Master incluem suporte prioritário e telefônico."})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg text-white p-8 mt-8 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Pronto para fazer seu negócio crescer?"}),s.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Junte-se a milhares de confeiteiras que já estão vendendo mais com o DoceCalc"}),s.jsx(ae,{to:"/dashboard",className:"inline-block bg-white text-purple-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Voltar ao Dashboard"})]})]})})}const EX=()=>{const{user:e,profile:t,upgradeUser:r}=Ke(),n=Mr(),[a,i]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState("form"),[d,f]=p.useState(!1),[m,h]=p.useState({name:(t==null?void 0:t.nome)||"",cellphone:"",email:(e==null?void 0:e.email)||"",taxId:""}),g=Ri.find(_=>_.id==="professional"),v=async()=>{i(!0);try{console.log("Creating PIX payment...");const{data:_,error:S}=await xe.functions.invoke("create-pix",{body:{amount:g.preco_mensal,description:`Upgrade para Plano Professional - ${e==null?void 0:e.email}`,customer:{name:m.name,cellphone:m.cellphone,email:m.email,taxId:m.taxId},metadata:{userId:e==null?void 0:e.id,plano:"professional"}}});if(S){console.error("Error creating PIX:",S);let C="Erro ao criar pagamento PIX";S.message&&S.message.includes("CPF inválido")?C="CPF inválido. Digite um CPF válido no formato: 000.000.000-00":S.message&&S.message.includes("Telefone inválido")?C="Telefone inválido. Use o formato: (11) 99999-9999":S.message&&S.message.includes("Email inválido")?C="Email inválido. Verifique o endereço de email":S.message&&S.message.includes("Invalid taxId")&&(C="CPF inválido. Digite um CPF válido no formato: 000.000.000-00"),alert(C);return}console.log("PIX created successfully:",_),l(_.data),u("pending")}catch(_){console.error("Error:",_),alert("Erro ao criar pagamento PIX")}finally{i(!1)}},y=async()=>{if(o!=null&&o.id){f(!0);try{console.log("Checking payment status for:",o.id);const{data:_,error:S}=await xe.functions.invoke("check-pix-status",{body:{pixId:o.id}});if(S){console.error("Error checking payment:",S);let C="Erro ao verificar pagamento";S.message&&S.message.includes("expired")?C="O PIX expirou. Gere um novo QR Code.":S.message&&S.message.includes("not found")&&(C="PIX não encontrado. Tente gerar um novo."),alert(C);return}console.log("Payment status:",_),_.data.status==="PAID"?(u("paid"),r&&r("professional"),setTimeout(()=>{n("/dashboard")},3e3)):_.data.status==="EXPIRED"&&u("expired")}catch(_){console.error("Error:",_),alert("Erro ao verificar pagamento")}finally{f(!1)}}},w=()=>{o!=null&&o.brCode&&(navigator.clipboard.writeText(o.brCode),alert("Chave PIX copiada!"))},b=_=>{if(_.preventDefault(),!m.name||!m.cellphone||!m.email||!m.taxId){alert("Todos os campos são obrigatórios");return}v()},x=(_,S)=>{h(C=>({...C,[_]:S}))},j=_=>_.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),N=_=>_.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4,5})(\d{4})/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1");return c==="paid"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[s.jsx(we,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pagamento Confirmado!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Seu plano Professional foi ativado com sucesso. Você será redirecionado para o dashboard."}),s.jsx("div",{className:"w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(ae,{to:"/upgrade",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pagamento via PIX"}),s.jsx("p",{className:"text-gray-600",children:c==="form"?"Complete seus dados para continuar":"Escaneie o QR Code ou copie a chave PIX"})]})]}),c==="form"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Hl,{className:"w-8 h-8 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Plano Professional"}),s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["R$ ",g.preco_mensal.toFixed(2).replace(".",",")]})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Nr,{className:"w-4 h-4 inline mr-1"}),"Nome Completo *"]}),s.jsx("input",{type:"text",value:m.name,onChange:_=>x("name",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx($S,{className:"w-4 h-4 inline mr-1"}),"Telefone/WhatsApp *"]}),s.jsx("input",{type:"text",value:m.cellphone,onChange:_=>x("cellphone",N(_.target.value)),placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(ud,{className:"w-4 h-4 inline mr-1"}),"E-mail *"]}),s.jsx("input",{type:"email",value:m.email,onChange:_=>x("email",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Gt,{className:"w-4 h-4 inline mr-1"}),"CPF *"]}),s.jsx("input",{type:"text",value:m.taxId,onChange:_=>x("taxId",j(_.target.value)),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("button",{type:"submit",disabled:a,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a?s.jsx(Cl,{className:"w-5 h-5 animate-spin"}):s.jsx(on,{className:"w-5 h-5"}),a?"Gerando PIX...":"Gerar QR Code PIX"]})]})]}),c==="pending"&&o&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(on,{className:"w-8 h-8 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"PIX Gerado com Sucesso"}),s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["R$ ",g.preco_mensal.toFixed(2).replace(".",",")]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[o.brCodeBase64?s.jsx("img",{src:o.brCodeBase64,alt:"QR Code PIX",className:"w-48 h-48 mx-auto border-2 border-gray-300 rounded-lg bg-white p-2"}):s.jsx("div",{className:"w-48 h-48 bg-white border-2 border-dashed border-gray-300 rounded-lg mx-auto flex items-center justify-center",children:s.jsx(on,{className:"w-24 h-24 text-gray-400"})}),s.jsx("p",{className:"text-center text-sm text-gray-600 mt-4",children:"Escaneie este QR Code no seu banco ou app de pagamento"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ou copie a chave PIX:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:o.brCode||"",readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm font-mono"}),s.jsx("button",{onClick:w,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:s.jsx(iM,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:y,disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[d?s.jsx(Cl,{className:"w-5 h-5 animate-spin"}):s.jsx(we,{className:"w-5 h-5"}),d?"Verificando...":"Já efetuei o pagamento"]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium",children:"Aguardando pagamento..."})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Expira em: ",new Date(o.expiresAt).toLocaleString("pt-BR")]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Como pagar:"}),s.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"1. Abra o app do seu banco"}),s.jsx("li",{children:'2. Vá em PIX e escolha "Pagar com QR Code"'}),s.jsx("li",{children:"3. Escaneie o código acima ou cole a chave PIX"}),s.jsxs("li",{children:["4. Confirme o pagamento de R$ ",g.preco_mensal.toFixed(2).replace(".",",")]}),s.jsx("li",{children:'5. Clique em "Já efetuei o pagamento" para verificar'})]})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Problemas com o pagamento?",s.jsx("a",{href:"#",className:"text-purple-600 hover:underline ml-1",children:"Entre em contato"})]})})]})})},PX=()=>{const{user:e,profile:t,upgradeUser:r}=Ke(),n=Mr(),[a,i]=p.useState(!1),[o,l]=p.useState(!1),c=Ri.find(f=>f.id==="professional");p.useEffect(()=>{u()},[]);const u=async()=>{if(e){l(!0);try{console.log("Checking subscription status...");const{data:f,error:m}=await xe.functions.invoke("check-subscription",{body:{userEmail:e.email}});if(m){console.error("Error checking subscription:",m);return}console.log("Subscription status:",f),f.subscribed&&(r&&r("professional"),setTimeout(()=>{n("/dashboard")},2e3))}catch(f){console.error("Error:",f)}finally{l(!1)}}},d=async()=>{if(!e){alert("Você precisa estar logado para fazer upgrade");return}i(!0);try{console.log("Creating Stripe checkout session...");const{data:f,error:m}=await xe.functions.invoke("create-checkout",{body:{userEmail:e.email,userName:t==null?void 0:t.nome}});if(m){console.error("Error creating checkout:",m),alert("Erro ao criar sessão de pagamento: "+(m.message||"Erro desconhecido"));return}console.log("Checkout session created:",f),f.url&&window.open(f.url,"_blank")}catch(f){console.error("Error:",f),alert("Erro interno. Tente novamente em alguns segundos.")}finally{i(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Cl,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-purple-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verificando sua assinatura..."}),s.jsx("p",{className:"text-gray-600",children:"Aguarde um momento"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(ae,{to:"/upgrade",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pagamento com Cartão"}),s.jsx("p",{className:"text-gray-600",children:"Finalize sua assinatura do plano Professional"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[s.jsx(Nr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Dados da Conta"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:(t==null?void 0:t.nome)||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{onClick:d,disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a?s.jsx(Cl,{className:"w-5 h-5 animate-spin"}):s.jsx(Hl,{className:"w-5 h-5"}),a?"Processando...":"Pagar com Stripe"]})}),s.jsxs("div",{className:"flex items-center space-x-2 mt-4 text-sm text-gray-500",children:[s.jsx(dg,{className:"w-4 h-4"}),s.jsx("span",{children:"Pagamento seguro processado pelo Stripe"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo da Assinatura"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Plano Professional"}),s.jsxs("span",{className:"font-medium",children:["R$ ",c.preco_mensal.toFixed(2).replace(".",",")]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[s.jsx("span",{children:"Frequência"}),s.jsx("span",{children:"Mensal"})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[s.jsx("span",{children:"Total Mensal"}),s.jsxs("span",{children:["R$ ",c.preco_mensal.toFixed(2).replace(".",",")]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Incluído na assinatura:"}),c.funcionalidades.slice(0,8).map((f,m)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(we,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-gray-600",children:f})]},m))]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Vantagens:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"• Cancele a qualquer momento"}),s.jsx("li",{children:"• Sem fidelidade ou taxas extras"}),s.jsx("li",{children:"• Suporte prioritário"}),s.jsx("li",{children:"• Atualizações automáticas"})]})]})]})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("p",{className:"text-sm text-gray-500",children:'Ao clicar em "Pagar com Stripe" você será redirecionado para o checkout seguro do Stripe.'})})]})})},AX=()=>{const{user:e,profile:t,upgradeUser:r}=Ke();Mr();const[n]=T5(),[a,i]=p.useState(!0),[o,l]=p.useState(!1);p.useEffect(()=>{const u=n.get("session_id");u&&e?c(u):i(!1)},[n,e]);const c=async u=>{try{console.log("Verifying payment for session:",u);const{data:d,error:f}=await xe.functions.invoke("check-subscription",{body:{userEmail:e==null?void 0:e.email}});if(f){console.error("Error verifying payment:",f),i(!1);return}console.log("Payment verification result:",d),d.subscribed&&(r&&r("professional"),l(!0))}catch(d){console.error("Error:",d)}finally{i(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verificando seu pagamento..."}),s.jsx("p",{className:"text-gray-600",children:"Aguarde um momento"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(we,{className:"w-12 h-12 text-green-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:o?"Pagamento Confirmado!":"Obrigado pelo pagamento!"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:o?"Seu plano Professional foi ativado com sucesso. Agora você tem acesso a todas as funcionalidades premium!":"Estamos processando seu pagamento. Em breve você receberá a confirmação."}),o&&s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx(Ar,{className:"w-6 h-6 text-purple-600"}),s.jsx("h2",{className:"text-xl font-semibold text-purple-900",children:"Bem-vindo ao Plano Professional!"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(we,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Receitas ilimitadas"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(we,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Orçamentos ilimitados"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(we,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Gestão completa de clientes"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(we,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Relatórios avançados"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(we,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Backup automático"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(we,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Suporte prioritário"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ae,{to:"/dashboard",className:"inline-flex items-center space-x-2 bg-purple-600 text-white px-8 py-3 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:[s.jsx("span",{children:"Ir para o Dashboard"}),s.jsx(cg,{className:"w-5 h-5"})]}),s.jsx("div",{className:"text-center",children:s.jsx(ae,{to:"/subscription",className:"text-gray-600 hover:text-gray-900 text-sm underline",children:"Gerenciar assinatura"})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Precisa de ajuda?",s.jsx("a",{href:"#",className:"text-purple-600 hover:underline ml-1",children:"Entre em contato conosco"})]})})]})})};function OX(){const{user:e,profile:t,checkSubscription:r}=Ke(),{toast:n}=Af(),[a,i]=p.useState(null),[o,l]=p.useState(!0),[c,u]=p.useState(!1);p.useEffect(()=>{d();const g=setInterval(d,3e4);return()=>clearInterval(g)},[e]);const d=async()=>{if(e)try{const{data:g,error:v}=await xe.functions.invoke("check-subscription",{body:{userEmail:e.email}});if(v)throw v;i(g),(g!=null&&g.subscribed&&(t==null?void 0:t.plano)!=="professional"||!(g!=null&&g.subscribed)&&(t==null?void 0:t.plano)!=="free")&&r()}catch(g){console.error("Erro ao verificar assinatura:",g)}finally{l(!1)}},f=async()=>{var g;if(e){u(!0);try{const{data:v,error:y}=await xe.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${(g=(await xe.auth.getSession()).data.session)==null?void 0:g.access_token}`}});if(y)throw y;v!=null&&v.url&&(window.open(v.url,"_blank"),n({title:"Portal aberto!",description:"Você foi redirecionado para o portal de assinatura do Stripe."}))}catch(v){n({title:"Erro ao abrir portal",description:v.message||"Tente novamente em alguns segundos.",variant:"destructive"})}finally{u(!1)}}},m=g=>new Date(g).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}),h=g=>{const v=new Date(g),y=new Date,w=v.getTime()-y.getTime();return Math.ceil(w/(1e3*60*60*24))};return o?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(ku,{className:"w-5 h-5 animate-spin text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verificando assinatura..."})]})})})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciar Assinatura"}),s.jsx("p",{className:"text-gray-600",children:"Controle sua assinatura e histórico de pagamentos"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status da Assinatura"}),s.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Atualizar status",children:s.jsx(ku,{className:"w-4 h-4 text-gray-600"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[a!=null&&a.subscribed?s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(we,{className:"w-8 h-8 text-green-500"})}):s.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Of,{className:"w-8 h-8 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:a!=null&&a.subscribed?"Plano Professional Ativo":"Plano Gratuito"}),s.jsx("p",{className:"text-gray-600",children:a!=null&&a.subscribed?"Você tem acesso completo a todos os recursos":"Faça upgrade para desbloquear recursos avançados"})]})]}),(a==null?void 0:a.subscribed)&&(a==null?void 0:a.subscription_end)&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(yv,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900",children:"Próxima cobrança"})]}),s.jsx("p",{className:"text-blue-800",children:m(a.subscription_end)}),s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:h(a.subscription_end)>0?`${h(a.subscription_end)} dias restantes`:"Renovação hoje"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Ma,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900",children:"Valor mensal"})]}),s.jsx("p",{className:"text-blue-800 text-lg font-semibold",children:"R$ 39,90"}),s.jsx("p",{className:"text-sm text-blue-600",children:"Cobrança automática"})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:a!=null&&a.subscribed?"Recursos Ativos":"Recursos do Plano Professional"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(we,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Receitas ilimitadas"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(we,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Orçamentos ilimitados"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(we,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Gestão completa de clientes"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(we,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Relatórios avançados"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(we,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Backup automático"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(we,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Suporte prioritário"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ações"}),s.jsxs("div",{className:"space-y-3",children:[a!=null&&a.subscribed?s.jsxs("button",{onClick:f,disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c?s.jsx(ku,{className:"w-4 h-4 animate-spin"}):s.jsx(Hl,{className:"w-4 h-4"}),c?"Abrindo...":"Portal de Pagamento",!c&&s.jsx(MS,{className:"w-4 h-4"})]}):s.jsxs(ae,{to:"/upgrade",className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[s.jsx(Ar,{className:"w-4 h-4"}),"Fazer Upgrade"]}),(a==null?void 0:a.subscribed)&&s.jsxs("div",{className:"text-xs text-gray-500 text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"mb-2",children:s.jsx("strong",{children:"No portal você pode:"})}),s.jsxs("ul",{className:"text-left space-y-1",children:[s.jsx("li",{children:"• Cancelar assinatura"}),s.jsx("li",{children:"• Alterar método de pagamento"}),s.jsx("li",{children:"• Baixar faturas"}),s.jsx("li",{children:"• Ver histórico completo"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Precisa de ajuda?"}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[s.jsx("p",{children:"Tem dúvidas sobre sua assinatura ou precisa de suporte?"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," suporte@docecalc.com"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Horário:"})," Segunda a Sexta, 9h às 18h"]})]})]})]})]})]})})}function TX(){const[e,t]=p.useState(null),r=a=>{t(e===a?null:a)},n=[{id:"calculadora",nome:"Calculadora de Custos",icone:s.jsx(cn,{className:"h-6 w-6"}),cor:"bg-blue-500",resumo:"Calcula o preço real dos seus produtos considerando todos os custos",oQueE:"A calculadora é a ferramenta mais importante do DoceCalc. Ela calcula automaticamente quanto você deve cobrar por cada produto, considerando ingredientes, mão de obra e margem de lucro.",paraque:'Para você nunca mais vender no prejuízo! Muitas confeiteiras cobram baseado no "achismo", mas a calculadora mostra o preço científico baseado nos seus custos reais.',comoFunciona:['1. Crie uma nova receita clicando em "Nova Receita"',"2. Adicione todos os ingredientes com quantidades exatas","3. Defina o tempo de preparo (sua mão de obra)","4. Escolha a margem de lucro desejada (recomendamos 30-50%)","5. O sistema calcula automaticamente o preço sugerido"],dicasImportantes:["⚠️ Sempre inclua TODOS os ingredientes, até os menores (açúcar, sal, fermento)","💡 O tempo de preparo inclui misturar, assar, esfriar e decorar","🎯 Margem de 30% é mínima, 50% é ideal para crescer","📊 Atualize os preços dos ingredientes mensalmente"],exemplo:"Exemplo: Brigadeiro gourmet → Chocolate (R$8), Leite condensado (R$4), Manteiga (R$2), Tempo (30min = R$12,50) = Custo R$26,50. Com margem 40% = Preço final: R$37,10 (6 brigadeiros = R$6,18 cada)"},{id:"ingredientes",nome:"Gestão de Ingredientes",icone:s.jsx(Yl,{className:"h-6 w-6"}),cor:"bg-purple-500",resumo:"Controla estoque e preços dos seus ingredientes",oQueE:"Um sistema para cadastrar todos os ingredientes que você usa, com preços atualizados e controle de estoque.",paraque:"Para ter controle total dos seus custos e nunca ficar sem ingredientes na hora de produzir.",comoFunciona:['1. Vá em "Ingredientes" no menu','2. Clique em "Adicionar Ingrediente"',"3. Preencha nome, categoria, unidade e preço atual","4. Atualize o estoque quando comprar/usar ingredientes","5. O sistema avisa quando o estoque está baixo"],dicasImportantes:["💰 Sempre cadastre o preço por unidade (kg, litro, unidade)","📦 Atualize o estoque regularmente para não faltar ingredientes","🔄 Revise os preços mensalmente (inflação afeta seus custos)","📋 Use categorias para organizar melhor (Chocolates, Farinhas, etc.)"],exemplo:"Exemplo: Chocolate em pó → Categoria: Chocolates, Unidade: kg, Preço: R$25,00/kg, Estoque: 2kg. Quando usar 500g numa receita, atualiza para 1,5kg automaticamente."},{id:"receitas",nome:"Receitas e Produtos",icone:s.jsx(xv,{className:"h-6 w-6"}),cor:"bg-green-500",resumo:"Armazena suas receitas com custos calculados automaticamente",oQueE:"Aqui você guarda todas as suas receitas com ingredientes, quantidades e instruções. O sistema calcula automaticamente o custo de cada receita.",paraque:"Para ter todas suas receitas organizadas e saber exatamente quanto custa fazer cada produto.",comoFunciona:['1. Clique em "Receitas" no menu','2. Clique em "Nova Receita"',"3. Dê nome, descrição e escolha categoria","4. Adicione ingredientes um por um com quantidades","5. Adicione modo de preparo e tempo","6. O custo é calculado automaticamente"],dicasImportantes:["📝 Escreva instruções claras para não esquecer os passos",'⚖️ Use quantidades exatas (500g, não "meio pacote")',"⏱️ Inclua tempo real: preparo + forno + decoração","🏷️ Use categorias para organizar (Bolos, Doces, Salgados)"],exemplo:"Exemplo: Bolo de chocolate → Farinha (500g), Açúcar (300g), Chocolate (200g), Ovos (3 unidades). Tempo total: 2h. Custo calculado: R$18,50 + mão de obra."},{id:"clientes",nome:"Gestão de Clientes",icone:s.jsx(_s,{className:"h-6 w-6"}),cor:"bg-indigo-500",resumo:"Cadastra e organiza informações dos seus clientes",oQueE:"Sistema para guardar dados dos seus clientes: nome, telefone, preferências e histórico de pedidos.",paraque:"Para ter controle de quem são seus clientes, facilitar contato e oferecer atendimento personalizado.",comoFunciona:['1. Vá em "Clientes" no menu','2. Clique em "Novo Cliente"',"3. Preencha nome, telefone, WhatsApp","4. Adicione endereço se faz entrega","5. Anote observações importantes (alergias, preferências)","6. Consulte quando precisar fazer orçamento"],dicasImportantes:["📱 Sempre cadastre WhatsApp para facilitar contato","📍 Endereço completo se faz entregas","🎂 Anote datas importantes (aniversários, casamentos)","⚠️ Registre alergias e restrições alimentares"],exemplo:'Exemplo: Maria Silva → Tel: (11) 99999-9999, Endereço: Rua das Flores 123, Obs: "Alérgica a amendoim, gosta de chocolate 70%, aniversário do filho em dezembro"'},{id:"orcamentos",nome:"Orçamentos",icone:s.jsx(Gt,{className:"h-6 w-6"}),cor:"bg-pink-500",resumo:"Cria orçamentos profissionais para seus clientes",oQueE:"Ferramenta para criar orçamentos organizados com múltiplos produtos, quantidades e valores totais.",paraque:"Para enviar orçamentos profissionais aos clientes e acompanhar quais foram aprovados.",comoFunciona:['1. Vá em "Orçamentos" no menu','2. Clique em "Novo Orçamento"',"3. Escolha o cliente ou cadastre um novo","4. Adicione produtos do seu catálogo de receitas","5. Defina quantidades para cada item","6. O total é calculado automaticamente","7. Envie por WhatsApp ou imprima"],dicasImportantes:["⏰ Sempre defina prazo de validade do orçamento","📅 Inclua prazo de entrega dos produtos","💳 Especifique formas de pagamento aceitas","📋 Detalhe bem cada item para evitar confusões"],exemplo:"Exemplo: Festa infantil → 50 brigadeiros (R$185), 30 beijinhos (R$120), 1 bolo decorado (R$85) = Total: R$390. Prazo entrega: 3 dias."},{id:"relatorios",nome:"Relatórios",icone:s.jsx(Ti,{className:"h-6 w-6"}),cor:"bg-orange-500",resumo:"Mostra gráficos e dados do seu negócio (Plano Professional)",oQueE:"Dashboard com gráficos mostrando vendas, produtos mais vendidos, clientes e evolução do negócio.",paraque:"Para entender como seu negócio está indo e tomar decisões baseadas em dados reais.",comoFunciona:['1. Vá em "Relatórios" (precisa do plano Professional)',"2. Veja gráficos de vendas por período","3. Analise quais produtos vendem mais","4. Identifique seus melhores clientes","5. Acompanhe evolução mensal/anual","6. Use os dados para planejar seu crescimento"],dicasImportantes:["📊 Produtos mais vendidos merecem promoção especial","🎯 Clientes VIP merecem atendimento diferenciado","📈 Meses fracos precisam de campanhas de marketing","💡 Use dados para criar novos produtos"],exemplo:'Exemplo: "Brigadeiro gourmet é 40% das vendas", "Dezembro vende 3x mais", "Cliente Maria já gastou R$2.500 este ano" - Use essas informações!'},{id:"comunidade",nome:"Comunidade",icone:s.jsx(On,{className:"h-6 w-6"}),cor:"bg-cyan-500",resumo:"Converse com outros confeiteiros e compartilhe experiências",oQueE:"Rede social interna onde confeiteiros compartilham dicas, receitas, fazem perguntas e ajudam uns aos outros.",paraque:"Para aprender com quem já tem experiência, tirar dúvidas e fazer networking no ramo.",comoFunciona:['1. Vá em "Comunidade" no menu',"2. Leia posts de outros confeiteiros","3. Curta e comente posts que achar interessantes","4. Crie seus próprios posts com dicas ou perguntas","5. Use categorias: Dicas, Perguntas, Receitas, Negócio","6. Pesquise por temas específicos"],dicasImportantes:["🤝 Seja respeitoso e prestativo com outros usuários","❓ Faça perguntas específicas para obter melhores respostas","💡 Compartilhe suas descobertas para ajudar outros","🔍 Use a busca para ver se sua dúvida já foi respondida"],exemplo:'Exemplo: Poste "Dica: Descobri que conservar brigadeiro na geladeira por 1h antes de enrolar facilita muito!" ou pergunte "Como evitar que o merengue murche?"'},{id:"catalogo",nome:"Catálogo Online",icone:s.jsx(md,{className:"h-6 w-6"}),cor:"bg-purple-600",resumo:"Crie seu site de vendas online (Em breve)",oQueE:"Funcionalidade em desenvolvimento para criar uma loja online onde clientes podem ver seus produtos e fazer pedidos.",paraque:"Para vender 24 horas por dia através de um site próprio, sem depender só de WhatsApp.",comoFunciona:["🚧 Esta funcionalidade está em desenvolvimento","Em breve você poderá:","• Criar um catálogo online bonito","• Receber pedidos automaticamente","• Compartilhar link do seu site","• Integrar com WhatsApp"],dicasImportantes:["⏳ Aguarde o lançamento desta funcionalidade","📸 Vá tirando fotos bonitas dos seus produtos","📝 Prepare descrições atrativas","💳 Pense nas formas de pagamento que vai aceitar"],exemplo:"Em breve: www.docecalc.com/loja/seunome - seus clientes poderão ver todos seus produtos e fazer pedidos diretamente online!"}];return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Como Usar o DoceCalc 📚"}),s.jsx("p",{className:"text-gray-600",children:"Guia completo para dominar todas as ferramentas e vender mais"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 rounded-lg text-white p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(RS,{className:"h-8 w-8"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Bem-vinda ao DoceCalc!"})]}),s.jsx("p",{className:"text-lg mb-4",children:"Este guia vai te ensinar a usar cada ferramenta do jeito certo. Mesmo que você nunca tenha usado um sistema assim, vai conseguir dominar tudo!"}),s.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"🎯 Dica Importante:"}),s.jsxs("p",{children:["Comece pela ",s.jsx("strong",{children:"Calculadora"})," e ",s.jsx("strong",{children:"Ingredientes"}),". Elas são a base de tudo! Depois use as outras ferramentas conforme sua necessidade."]})]})]}),s.jsx("div",{className:"space-y-4",children:n.map(a=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("button",{onClick:()=>r(a.id),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`${a.cor} p-3 rounded-lg text-white`,children:a.icone}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a.nome}),s.jsx("p",{className:"text-gray-600",children:a.resumo})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ae,{to:`/${a.id}`,onClick:i=>i.stopPropagation(),className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-md text-sm hover:bg-blue-200 transition-colors",children:"Usar Agora"}),e===a.id?s.jsx(aM,{className:"h-5 w-5 text-gray-400"}):s.jsx(sM,{className:"h-5 w-5 text-gray-400"})]})]}),e===a.id&&s.jsx("div",{className:"px-6 pb-6 border-t border-gray-100",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center space-x-2",children:[s.jsx(xM,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{children:"O que é?"})]}),s.jsx("p",{className:"text-gray-700",children:a.oQueE})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center space-x-2",children:[s.jsx(zn,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{children:"Para que serve?"})]}),s.jsx("p",{className:"text-gray-700",children:a.paraque})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"💡 Dicas Importantes:"}),s.jsx("ul",{className:"space-y-2 text-sm text-yellow-700",children:a.dicasImportantes.map((i,o)=>s.jsx("li",{children:i},o))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[s.jsx(LS,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Como usar (passo a passo):"})]}),s.jsx("ol",{className:"space-y-2",children:a.comoFunciona.map((i,o)=>s.jsx("li",{className:"text-gray-700 text-sm",children:i},o))})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"📝 Exemplo Prático:"}),s.jsx("p",{className:"text-sm text-blue-700",children:a.exemplo})]})]})]})})]},a.id))}),s.jsxs("div",{className:"mt-12 bg-white rounded-lg shadow-md p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"🚀 Dicas para Começar Bem"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Primeira semana:"}),s.jsxs("ul",{className:"space-y-1 text-gray-700 text-sm",children:[s.jsx("li",{children:"• Cadastre todos seus ingredientes com preços atuais"}),s.jsx("li",{children:"• Crie 3-5 receitas principais"}),s.jsx("li",{children:"• Faça seu primeiro orçamento"}),s.jsx("li",{children:"• Cadastre seus clientes frequentes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Depois de um mês:"}),s.jsxs("ul",{className:"space-y-1 text-gray-700 text-sm",children:[s.jsx("li",{children:"• Use os relatórios para análises"}),s.jsx("li",{children:"• Participe da comunidade"}),s.jsx("li",{children:"• Atualize preços mensalmente"}),s.jsx("li",{children:"• Configure seu catálogo online"})]})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"💚 Precisa de ajuda?"}),s.jsxs("p",{className:"text-green-700 text-sm",children:["Se tiver dúvidas, acesse a ",s.jsx(ae,{to:"/comunidade",className:"underline hover:no-underline",children:"Comunidade"})," e pergunte! Outros confeiteiros e nossa equipe estão sempre prontos para ajudar."]})]})]})]})})}function IX(){const{user:e,profile:t,updatePerfil:r}=Ke(),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState({nomeFantasia:"",whatsapp:"",instagram:"",endereco:"",descricao:""}),[u,d]=p.useState(!1),[f,m]=p.useState(!1),[h,g]=p.useState(!1);p.useEffect(()=>{if(e){const y=ee("doce_receitas",[]).filter(x=>x.usuario_id===e.id&&x.ativo),w=ee(`produtos_catalogo_${e.id}`,[]),b=ee(`dados_confeitaria_${e.id}`,{nomeFantasia:(t==null?void 0:t.nome)||"",whatsapp:"",instagram:"",endereco:"",descricao:""});a(y),o(w),c(b),d(!1)}},[e]);const v=()=>{const y=`${window.location.origin}/catalogo/${e==null?void 0:e.id}`;navigator.clipboard.writeText(y),alert("Link copiado para a área de transferência!")};return i.filter(y=>y.ativo),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[s.jsx(md,{className:"h-8 w-8 text-blue-600"}),s.jsx("span",{children:"Meu Catálogo"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Configure seu catálogo público para receber encomendas online"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-200 transition-colors",children:[s.jsx(fd,{className:"h-4 w-4"}),s.jsx("span",{children:"Copiar Link"})]}),s.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 bg-purple-100 text-purple-700 px-4 py-2 rounded-lg hover:bg-purple-200 transition-colors",children:[s.jsx(on,{className:"h-4 w-4"}),s.jsx("span",{children:"QR Code"})]}),s.jsxs(ae,{to:`/catalogo/${e==null?void 0:e.id}`,target:"_blank",className:"flex items-center space-x-2 bg-green-100 text-green-700 px-4 py-2 rounded-lg hover:bg-green-200 transition-colors",children:[s.jsx(MS,{className:"h-4 w-4"}),s.jsx("span",{children:"Visualizar"})]})]})]})}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(md,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Catálogo Online"}),s.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Em breve!"}),s.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Estamos preparando uma funcionalidade incrível para você criar e gerenciar seu catálogo online de produtos."})]})})]})})}function MX(){const{userId:e}=a5(),t=Mr(),[r,n]=p.useState([]),[a,i]=p.useState(null),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState({nome:"",whatsapp:"",dataDesejada:"",observacoes:""}),[m,h]=p.useState(!1);p.useEffect(()=>{if(e){const b=ee(`produtos_catalogo_${e}`,[]),x=ee(`dados_confeitaria_${e}`,null),j=ee(`user_${e}`,null);if(!(j!=null&&j.catalogo_ativo)){t("/");return}n(b.filter(N=>N.ativo)),i(x)}},[e,t]);const g=b=>{l(b),u(!0),f({nome:"",whatsapp:"",dataDesejada:"",observacoes:""})},v=()=>{u(!1),l(null)},y=async()=>{if(!(!o||!e)){if(!d.nome.trim()){alert("Por favor, informe seu nome");return}if(!d.whatsapp.trim()){alert("Por favor, informe seu WhatsApp");return}if(!d.dataDesejada){alert("Por favor, informe a data desejada");return}h(!0);try{const b={id:`encomenda_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,produto_id:o.id,cliente_nome:d.nome.trim(),cliente_whatsapp:d.whatsapp.trim(),data_desejada:d.dataDesejada,observacoes:d.observacoes.trim(),status:"nova",data_encomenda:new Date().toISOString(),confeitaria_id:e,valor_total:o.preco_publico},x=ee(`encomendas_${e}`,[]);x.push(b),je(`encomendas_${e}`,x);const j=`🍰 *Nova Encomenda - ${a==null?void 0:a.nomeFantasia}*

📦 *Produto:* ${o.nome}
👤 *Cliente:* ${d.nome}
📱 *WhatsApp:* ${d.whatsapp}
📅 *Data desejada:* ${new Date(d.dataDesejada).toLocaleDateString("pt-BR")}
💰 *Valor:* R$ ${o.preco_publico.toFixed(2)}
📝 *Observações:* ${d.observacoes||"Nenhuma"}

Encomenda realizada através do catálogo online.`;if(alert(`✅ Encomenda enviada com sucesso!

Você receberá a confirmação em breve.`),a!=null&&a.whatsapp){const N=`https://wa.me/${a.whatsapp.replace(/\D/g,"")}?text=${encodeURIComponent(j)}`;window.open(N,"_blank")}v()}catch(b){console.error("Erro ao enviar encomenda:",b),alert("Erro ao enviar encomenda. Tente novamente.")}finally{h(!1)}}},w=b=>b.replace(/\D/g,"");return a?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-40",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.nomeFantasia}),a.descricao&&s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:a.descricao})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[a.whatsapp&&s.jsxs("a",{href:`https://wa.me/${w(a.whatsapp)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[s.jsx(On,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"WhatsApp"})]}),a.instagram&&s.jsxs("a",{href:`https://instagram.com/${a.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-pink-500 text-white px-4 py-2 rounded-lg hover:bg-pink-600 transition-colors",children:[s.jsx(dM,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Instagram"})]})]})]}),a.endereco&&s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 text-sm mt-2",children:[s.jsx(mM,{className:"h-4 w-4"}),s.jsx("span",{children:a.endereco})]})]})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:r.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"bg-gray-100 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:s.jsx(kl,{className:"h-12 w-12 text-gray-400"})}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"Catálogo em Construção"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Este catálogo ainda não tem produtos disponíveis. Volte em breve para ver nossas deliciosas opções!"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-sm mx-auto",children:s.jsxs("p",{className:"text-sm text-blue-700",children:["💡 ",s.jsx("strong",{children:"Para confeiteiras:"}),' Acesse "Meu Catálogo" para adicionar seus produtos.']})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Nossos Produtos"}),s.jsx("p",{className:"text-gray-600",children:"Escolha e encomende seus doces favoritos"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(b=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover-lift transition-all duration-200 animate-fade-in",children:[s.jsxs("div",{className:"h-48 bg-gradient-to-br from-pink-100 to-purple-100 flex items-center justify-center relative overflow-hidden",children:[s.jsx("div",{className:"text-6xl opacity-80",children:"🧁"}),s.jsx("div",{className:"absolute top-2 right-2 bg-white/90 backdrop-blur-sm text-gray-700 px-2 py-1 rounded-full text-xs font-medium",children:b.serve})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 text-xl mb-3",children:b.nome}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed",children:b.descricao_publica}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-full",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsx("span",{children:b.prazo_entrega})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["R$ ",b.preco_publico.toFixed(2)]})})]}),s.jsxs("button",{onClick:()=>g(b),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-xl hover:shadow-lg hover-scale transition-all duration-200 font-semibold flex items-center justify-center space-x-2",children:[s.jsx(kl,{className:"h-4 w-4"}),s.jsx("span",{children:"Encomendar"})]})]})]},b.id))})]})}),c&&o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 animate-fade-in",children:s.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto animate-scale-in",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Fazer Encomenda"}),s.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600 transition-colors",children:"✕"})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl border border-pink-200",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("span",{className:"text-3xl",children:"🧁"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:o.nome}),s.jsx("p",{className:"text-sm text-gray-600",children:o.descricao_publica})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["R$ ",o.preco_publico.toFixed(2)]}),s.jsxs("div",{className:"text-right text-sm text-gray-600",children:[s.jsxs("div",{children:["Serve: ",o.serve]}),s.jsxs("div",{children:["Entrega: ",o.prazo_entrega]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"👤 Seu nome *"}),s.jsx("input",{type:"text",value:d.nome,onChange:b=>f({...d,nome:b.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Como devemos te chamar?",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📱 WhatsApp *"}),s.jsx("input",{type:"tel",value:d.whatsapp,onChange:b=>f({...d,whatsapp:b.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"(11) 99999-9999",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📅 Data desejada *"}),s.jsx("input",{type:"date",value:d.dataDesejada,onChange:b=>f({...d,dataDesejada:b.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",min:new Date().toISOString().split("T")[0],required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"💬 Observações"}),s.jsx("textarea",{value:d.observacoes,onChange:b=>f({...d,observacoes:b.target.value}),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",rows:3,placeholder:"Personalizações, sabores especiais, decoração..."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-8",children:[s.jsx("button",{onClick:v,className:"bg-gray-100 text-gray-700 py-3 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancelar"}),s.jsx("button",{onClick:y,disabled:m,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 rounded-lg hover:shadow-lg disabled:opacity-50 transition-all duration-200 font-medium",children:m?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Enviando..."})]}):"🚀 Enviar Pedido"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"✨ Como funciona:"})," Após enviar, você receberá uma confirmação e poderemos entrar em contato via WhatsApp para finalizar os detalhes da encomenda."]})})]})})})]}):s.jsx("div",{className:"min-h-screen bg-gradient-soft flex items-center justify-center px-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"bg-white rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(md,{className:"h-12 w-12 text-gray-400"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Catálogo não Encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Este catálogo não existe ou ainda não foi configurado."}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"💡 Para Confeiteiras:"}),s.jsxs("p",{className:"text-sm text-blue-700",children:["Para criar seu catálogo público, acesse ",s.jsx("strong",{children:'"Meu Catálogo"'})," no dashboard, ative o catálogo e selecione suas receitas."]})]}),s.jsx("button",{onClick:()=>t("/"),className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all duration-200",children:"Voltar ao Início"})]})})}function RX(){const{user:e}=Ke(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState("todas");return p.useEffect(()=>{if(e){const l=ee(`encomendas_${e.id}`,[]),c=ee(`produtos_catalogo_${e.id}`,[]),u=l.sort((d,f)=>new Date(f.data_encomenda).getTime()-new Date(d.data_encomenda).getTime());r(u),a(c)}},[e]),i==="todas"||t.filter(l=>l.status===i),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx(ae,{to:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:s.jsx(Le,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[s.jsx(kl,{className:"h-8 w-8 text-blue-600"}),s.jsx("span",{children:"Encomendas"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie as encomendas recebidas através do seu catálogo"})]})]})}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(kl,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Gestão de Encomendas"}),s.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Em breve!"}),s.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Estamos desenvolvendo um sistema completo para gerenciar todas as suas encomendas de forma organizada e eficiente."})]})})]})})}function DX(){const{user:e,profile:t}=Ke(),[r,n]=p.useState([]),[a,i]=p.useState("todos"),[o,l]=p.useState(""),[c,u]=p.useState({titulo:"",conteudo:"",categoria:"dica"}),[d,f]=p.useState(!1),[m,h]=p.useState({}),[g,v]=p.useState({}),[y,w]=p.useState([]),[b,x]=p.useState([]),[j,N]=p.useState("posts");p.useEffect(()=>{const E=ee("receitas_compartilhadas",[]),F=ee(X.RECEITAS,[]);w(E.filter(z=>z.ativo)),x(F),n([{id:"1",autor:"Maria Silva",titulo:"Dica: Como calcular o preço ideal para brigadeiros gourmet",conteudo:"Pessoal, descobri uma técnica incrível para precificar brigadeiros gourmet! Sempre multiplico o custo dos ingredientes por 3.5 e adiciono R$ 0,50 por unidade de mão de obra. Tem funcionado super bem!",categoria:"dica",curtidas:15,comentarios:[{id:"1-1",autor:"Pedro Santos",conteudo:"Ótima dica! Vou testar na minha confeitaria.",data:"2025-09-18"},{id:"1-2",autor:"Ana Costa",conteudo:"Funcionou comigo também! Obrigada por compartilhar.",data:"2025-09-18"}],data:"2025-09-18",jaInteragiu:!1},{id:"2",autor:"Ana Costa",titulo:"Ajuda: Massa de bolo murcha depois de assada",conteudo:"Gente, preciso de ajuda! Minha massa de bolo fica linda no forno, mas depois murcha. Já tentei várias receitas e sempre acontece isso. Alguém tem alguma dica?",categoria:"pergunta",curtidas:3,comentarios:[{id:"2-1",autor:"João",conteudo:"Pode ser excesso de fermento ou abertura do forno antes da hora. Deixa assar uns 40min sem abrir!",data:"2025-09-17"}],data:"2025-09-17",jaInteragiu:!1},{id:"3",autor:"João Santos",titulo:"Receita: Brownie que nunca falha",conteudo:"Compartilhando com vocês minha receita secreta de brownie! 200g chocolate meio amargo, 100g manteiga, 2 ovos, 100g açúcar cristal, 50g farinha. Assa 180°C por 25min. Sucesso garantido!",categoria:"receita",curtidas:28,comentarios:[],data:"2025-09-16",jaInteragiu:!0},{id:"4",autor:"Carla Lima",titulo:"Negócio: Como aumentei minhas vendas em 300%",conteudo:"Pessoal, quero compartilhar minha estratégia que triplicou minhas vendas em 6 meses: focar em nichos específicos (casamentos), criar pacotes, usar redes sociais estrategicamente e sempre entregar mais que o esperado!",categoria:"negocio",curtidas:42,comentarios:[],data:"2025-09-15",jaInteragiu:!1}])},[]);const _=E=>{n(r.map(F=>F.id===E?{...F,curtidas:F.jaInteragiu?F.curtidas-1:F.curtidas+1,jaInteragiu:!F.jaInteragiu}:F))},S=()=>{if(!c.titulo.trim()||!c.conteudo.trim())return;const E={id:Date.now().toString(),autor:(t==null?void 0:t.nome)||"Usuário",titulo:c.titulo,conteudo:c.conteudo,categoria:c.categoria,curtidas:0,comentarios:[],data:new Date().toISOString().split("T")[0],jaInteragiu:!1};n([E,...r]),u({titulo:"",conteudo:"",categoria:"dica"}),f(!1)},C=E=>{var W,G;const F=(W=g[E])==null?void 0:W.trim();if(!F||!e)return;const L=((G=t==null?void 0:t.nome)==null?void 0:G.split(" ")[0])||"Usuário",z={id:Date.now().toString(),autor:L,conteudo:F,data:new Date().toISOString().split("T")[0]};n(r.map(Y=>Y.id===E?{...Y,comentarios:[...Y.comentarios,z]}:Y)),v({...g,[E]:""})},A=E=>{h({...m,[E]:!m[E]})},P=E=>{if(!e)return;const F=y.map(L=>L.id===E?{...L,curtidas:L.curtidas+1}:L);w(F),je("receitas_compartilhadas",F)},O=E=>{if(!e)return;const F=b.find(G=>G.id===E.receita_id);if(!F)return;const L={...F,id:Date.now().toString(),usuario_id:e.id,nome:`${F.nome} (da comunidade)`,criado_em:new Date().toISOString(),atualizado_em:new Date().toISOString()},z=ee(X.RECEITAS,[]);je(X.RECEITAS,[...z,L]);const W=y.map(G=>G.id===E.id?{...G,salvamentos:G.salvamentos+1}:G);w(W),je("receitas_compartilhadas",W),alert("✅ Receita adicionada às suas receitas!")},T=(E,F)=>{var W;if(!e||!F.trim())return;const L={id:Date.now().toString(),receita_compartilhada_id:E,usuario_id:e.id,autor_nome:(t==null?void 0:t.nome)||((W=e.email)==null?void 0:W.split("@")[0])||"Confeiteiro",conteudo:F.trim(),data:new Date().toISOString(),curtidas:0},z=y.map(G=>G.id===E?{...G,comentarios:[...G.comentarios,L]}:G);w(z),je("receitas_compartilhadas",z)},U=E=>b.find(F=>F.id===E);let q=r;a!=="todos"&&(q=q.filter(E=>E.categoria===a)),o.trim()&&(q=q.filter(E=>E.titulo.toLowerCase().includes(o.toLowerCase())||E.conteudo.toLowerCase().includes(o.toLowerCase())||E.autor.toLowerCase().includes(o.toLowerCase())));const K={dica:{nome:"Dicas",cor:"bg-blue-100 text-blue-800",icon:Cr},pergunta:{nome:"Perguntas",cor:"bg-yellow-100 text-yellow-800",icon:dd},receita:{nome:"Receitas",cor:"bg-green-100 text-green-800",icon:On},negocio:{nome:"Negócio",cor:"bg-purple-100 text-purple-800",icon:_s}};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 lg:mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Le,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Comunidade DoceCalc 👥"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Conecte-se com outros confeiteiros, compartilhe experiências e aprenda juntos!"})]})]})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow-md p-1",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>N("posts"),className:`flex-1 py-3 px-6 rounded-md transition-colors text-sm font-medium ${j==="posts"?"bg-pink-500 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"💬 Posts da Comunidade"}),s.jsxs("button",{onClick:()=>N("receitas"),className:`flex-1 py-3 px-6 rounded-md transition-colors text-sm font-medium ${j==="receitas"?"bg-pink-500 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:["🍰 Receitas Compartilhadas (",y.length,")"]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(_s,{className:"h-10 w-10 text-blue-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 filter blur-sm select-none",children:"1.234"}),s.jsx("p",{className:"text-gray-600",children:"Confeiteiros ativos"})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(On,{className:"h-10 w-10 text-green-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 filter blur-sm select-none",children:"567"}),s.jsx("p",{className:"text-gray-600",children:"Posts este mês"})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(kw,{className:"h-10 w-10 text-pink-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 filter blur-sm select-none",children:"2.891"}),s.jsx("p",{className:"text-gray-600",children:"Interações hoje"})]})]})})]}),s.jsx("div",{className:"mb-6 lg:mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4 lg:h-5 lg:w-5"}),s.jsx("input",{type:"text",placeholder:"Pesquisar posts, autores ou conteúdo...",value:o,onChange:E=>l(E.target.value),className:"w-full pl-10 pr-4 py-2 lg:py-3 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categorias"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>i("todos"),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${a==="todos"?"bg-pink-100 text-pink-800":"hover:bg-gray-100"}`,children:"Todos os posts"}),Object.entries(K).map(([E,F])=>s.jsx("button",{onClick:()=>i(E),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${a===E?"bg-pink-100 text-pink-800":"hover:bg-gray-100"}`,children:F.nome},E))]})]}),s.jsx("button",{onClick:()=>f(!d),className:"w-full bg-pink-500 hover:bg-pink-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"+ Criar Novo Post"})]}),s.jsxs("div",{className:"lg:col-span-3",children:[d&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Criar Novo Post"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria"}),s.jsxs("select",{value:c.categoria,onChange:E=>u({...c,categoria:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",children:[s.jsx("option",{value:"dica",children:"Dica"}),s.jsx("option",{value:"pergunta",children:"Pergunta"}),s.jsx("option",{value:"receita",children:"Receita"}),s.jsx("option",{value:"negocio",children:"Negócio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título"}),s.jsx("input",{type:"text",value:c.titulo,onChange:E=>u({...c,titulo:E.target.value}),placeholder:"Digite o título do seu post...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conteúdo"}),s.jsx("textarea",{value:c.conteudo,onChange:E=>u({...c,conteudo:E.target.value}),placeholder:"Compartilhe seu conhecimento com a comunidade...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:S,className:"flex-1 bg-pink-500 hover:bg-pink-600 text-white py-2 px-4 rounded-md transition-colors",children:"Publicar"}),s.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md transition-colors",children:"Cancelar"})]})]})]}),j==="posts"?s.jsx("div",{className:"space-y-6",children:q.map(E=>{const F=K[E.categoria],L=F.icon;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-pink-600 font-semibold",children:E.autor.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:E.autor}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${F.cor}`,children:F.nome}),s.jsx("span",{className:"text-gray-500 text-sm",children:E.data})]})]})]}),s.jsx(L,{className:"h-5 w-5 text-gray-400"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:E.titulo}),s.jsx("p",{className:"text-gray-700 mb-4",children:E.conteudo}),s.jsxs("div",{className:"flex items-center space-x-6 text-gray-500 border-t pt-4",children:[s.jsxs("button",{onClick:()=>_(E.id),className:`flex items-center space-x-2 hover:text-pink-500 transition-colors ${E.jaInteragiu?"text-pink-500":""}`,children:[s.jsx(kw,{className:"h-4 w-4"}),s.jsx("span",{children:E.curtidas})]}),s.jsxs("button",{onClick:()=>A(E.id),className:"flex items-center space-x-2 hover:text-pink-500 transition-colors",children:[s.jsx(dd,{className:"h-4 w-4"}),s.jsxs("span",{children:[E.comentarios.length," respostas"]})]})]}),m[E.id]&&s.jsxs("div",{className:"mt-4 border-t pt-4",children:[E.comentarios.length>0&&s.jsx("div",{className:"space-y-3 mb-4",children:E.comentarios.map(z=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-pink-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-pink-600 font-semibold text-xs",children:z.autor.charAt(0)})}),s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:z.autor}),s.jsx("span",{className:"text-gray-500 text-xs",children:z.data})]}),s.jsx("p",{className:"text-gray-700 text-sm",children:z.conteudo})]},z.id))}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-pink-600 font-semibold text-sm",children:t!=null&&t.nome?t.nome.split(" ")[0].charAt(0):"U"})}),s.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[s.jsx("input",{type:"text",placeholder:"Escreva uma resposta...",value:g[E.id]||"",onChange:z=>v({...g,[E.id]:z.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm",onKeyDown:z=>{z.key==="Enter"&&C(E.id)}}),s.jsx("button",{onClick:()=>C(E.id),className:"bg-pink-500 hover:bg-pink-600 text-white px-3 py-2 rounded-md transition-colors",children:s.jsx(vi,{className:"h-4 w-4"})})]})]})]})]},E.id)})}):s.jsx("div",{className:"space-y-6",children:y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🍰"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhuma receita compartilhada ainda"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Seja o primeiro a compartilhar uma receita com a comunidade!"}),s.jsx("p",{className:"text-sm text-gray-400",children:'Vá em "Receitas" → clique no ícone de compartilhar ao lado de suas receitas'})]}):y.map(E=>{var L,z;const F=U(E.receita_id);return F?s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold",children:E.autor_nome.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:E.autor_nome}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(E.data_compartilhamento).toLocaleDateString()})]})]}),s.jsx("div",{className:"text-pink-500",children:s.jsx(fd,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"h-80 bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center relative",children:[F.foto_principal?s.jsx("img",{src:F.foto_principal,alt:F.nome,className:"w-full h-full object-cover"}):s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-8xl mb-4",children:"🍰"}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:F.nome})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4 text-white",children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:F.nome}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsxs("span",{children:[F.tempo_preparo_mins,"min"]})]}),s.jsx("span",{children:"•"}),s.jsx("span",{children:F.rendimento})]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>P(E.id),className:"flex items-center space-x-2 text-gray-700 hover:text-red-500 transition-colors",children:[s.jsx(lM,{className:"h-6 w-6"}),s.jsx("span",{className:"font-medium",children:E.curtidas})]}),s.jsxs("button",{onClick:()=>A(`receita-${E.id}`),className:"flex items-center space-x-2 text-gray-700 hover:text-blue-500 transition-colors",children:[s.jsx(On,{className:"h-6 w-6"}),s.jsx("span",{className:"font-medium",children:E.comentarios.length})]})]}),s.jsxs("button",{onClick:()=>O(E),className:"flex items-center space-x-2 bg-pink-500 text-white px-4 py-2 rounded-lg hover:bg-pink-600 transition-colors",children:[s.jsx(eM,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Salvar Receita"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[s.jsxs("span",{className:"font-medium",children:[E.curtidas," curtidas"]}),E.salvamentos>0&&s.jsxs("span",{className:"ml-2",children:[E.salvamentos," salvamentos"]})]}),s.jsxs("div",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:E.autor_nome}),s.jsx("span",{className:"ml-2",children:F.descricao||"Receita deliciosa compartilhada pela comunidade!"})]}),F.tags&&F.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:F.tags.slice(0,5).map(W=>s.jsxs("span",{className:"text-blue-600 text-sm",children:["#",W]},W))}),m[`receita-${E.id}`]&&s.jsxs("div",{className:"border-t mt-4 pt-4",children:[E.comentarios.length>0&&s.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:E.comentarios.map(W=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold text-xs",children:W.autor_nome.charAt(0)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-sm",children:W.autor_nome}),s.jsx("span",{className:"text-gray-500 text-xs",children:new Date(W.data).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-700 text-sm mt-1",children:W.conteudo})]})]},W.id))}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-xs",children:((L=t==null?void 0:t.nome)==null?void 0:L.charAt(0))||((z=e==null?void 0:e.email)==null?void 0:z.charAt(0))||"U"})}),s.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[s.jsx("input",{type:"text",placeholder:"Adicione um comentário...",value:g[`receita-${E.id}`]||"",onChange:W=>v({...g,[`receita-${E.id}`]:W.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm",onKeyDown:W=>{W.key==="Enter"&&(T(E.id,g[`receita-${E.id}`]),v({...g,[`receita-${E.id}`]:""}))}}),s.jsx("button",{onClick:()=>{T(E.id,g[`receita-${E.id}`]),v({...g,[`receita-${E.id}`]:""})},className:"text-pink-500 hover:text-pink-600 transition-colors",children:s.jsx(vi,{className:"h-4 w-4"})})]})]})]})]})]},E.id):null})})]})]})]})})}function $X(){const{user:e,profile:t}=Ke(),[r,n]=p.useState(!1),[a,i]=p.useState(null),o=()=>{var u;try{const d={usuario:{id:e==null?void 0:e.id,nome:t==null?void 0:t.nome,email:e==null?void 0:e.email,plano:t==null?void 0:t.plano},receitas:ee(X.RECEITAS,[]),ingredientes:ee(X.INGREDIENTES_USUARIO,[]),clientes:ee(X.CLIENTES,[]),orcamentos:ee(X.ORCAMENTOS,[]),categorias:ee(X.CATEGORIAS,[]),configuracoes:ee(X.CONFIGURACOES,{}),dataBackup:new Date().toISOString(),versao:"1.0"},f=JSON.stringify(d,null,2),m=new Blob([f],{type:"application/json"}),h=URL.createObjectURL(m),g=document.createElement("a");g.href=h,g.download=`backup-docecalc-${(u=t==null?void 0:t.nome)==null?void 0:u.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(h),i({tipo:"sucesso",texto:"Backup local criado e baixado com sucesso!"})}catch(d){console.error("Erro ao gerar backup:",d),i({tipo:"erro",texto:"Erro ao gerar backup local. Tente novamente."})}},l=async()=>{if(!e){i({tipo:"erro",texto:"Usuário não está logado."});return}n(!0);try{const u={receitas:ee(X.RECEITAS,[]),ingredientes:ee(X.INGREDIENTES_USUARIO,[]),clientes:ee(X.CLIENTES,[]),orcamentos:ee(X.ORCAMENTOS,[]),categorias:ee(X.CATEGORIAS,[]),configuracoes:ee(X.CONFIGURACOES,{}),dataBackup:new Date().toISOString(),versao:"1.0"},{error:d}=await xe.from("backups_usuarios").insert({usuario_email:e.email||"",dados:u,dispositivo:navigator.userAgent,versao:"1.0",observacoes:"Backup emergencial criado pelo usuário"});if(d)throw d;i({tipo:"sucesso",texto:"Backup enviado para o servidor com sucesso! Seus dados estão seguros."})}catch(u){console.error("Erro ao enviar backup:",u),i({tipo:"erro",texto:"Erro ao enviar backup para o servidor. Seus dados locais continuam seguros."})}finally{n(!1)}},c=u=>{var m;const d=(m=u.target.files)==null?void 0:m[0];if(!d)return;const f=new FileReader;f.onload=h=>{var g;try{const v=JSON.parse((g=h.target)==null?void 0:g.result);if(!v.dataBackup||!v.versao)throw new Error("Arquivo de backup inválido");if(!window.confirm("ATENÇÃO: Esta ação sobrescreverá todos os seus dados atuais. Deseja continuar?"))return;v.receitas&&je(X.RECEITAS,v.receitas),v.ingredientes&&je(X.INGREDIENTES_USUARIO,v.ingredientes),v.clientes&&je(X.CLIENTES,v.clientes),v.orcamentos&&je(X.ORCAMENTOS,v.orcamentos),v.categorias&&je(X.CATEGORIAS,v.categorias),v.configuracoes&&je(X.CONFIGURACOES,v.configuracoes),i({tipo:"sucesso",texto:"Backup restaurado com sucesso! Recarregue a página para ver as alterações."}),setTimeout(()=>{window.location.reload()},3e3)}catch(v){console.error("Erro ao restaurar backup:",v),i({tipo:"erro",texto:"Erro ao restaurar backup. Verifique se o arquivo está correto."})}},f.readAsText(d)};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(dg,{className:"h-10 w-10 text-red-500"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Backup Emergencial"}),s.jsx("p",{className:"text-gray-600",children:"Proteja seus dados importantes"})]})]}),s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx(Nu,{className:"h-5 w-5 text-yellow-400"}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-yellow-700",children:[s.jsx("strong",{children:"Importante:"})," Faça backups regulares dos seus dados. Recomendamos fazer backup semanal ou antes de atualizações importantes."]})})]})})]}),a&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${a.tipo==="sucesso"?"bg-green-50 border border-green-200":a.tipo==="erro"?"bg-red-50 border border-red-200":"bg-blue-50 border border-blue-200"}`,children:s.jsxs("div",{className:"flex",children:[a.tipo==="sucesso"&&s.jsx(nM,{className:"h-5 w-5 text-green-500"}),a.tipo==="erro"&&s.jsx(Nu,{className:"h-5 w-5 text-red-500"}),a.tipo==="info"&&s.jsx(uM,{className:"h-5 w-5 text-blue-500"}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:`text-sm ${a.tipo==="sucesso"?"text-green-700":a.tipo==="erro"?"text-red-700":"text-blue-700"}`,children:a.texto})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Criar Backup"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx($s,{className:"h-6 w-6 text-blue-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup Local"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Baixe um arquivo com todos os seus dados para guardar no seu computador ou nuvem pessoal."}),s.jsx("button",{onClick:o,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Baixar Backup Local"}),s.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[s.jsx("p",{children:"✓ Inclui: receitas, ingredientes, clientes, orçamentos"}),s.jsx("p",{children:"✓ Formato: arquivo JSON"}),s.jsx("p",{children:"✓ Segurança: dados ficam apenas com você"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(dg,{className:"h-6 w-6 text-green-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup Automático no Servidor"})]}),s.jsxs("p",{className:"text-gray-600 mb-4",children:[s.jsx("strong",{children:"Faça backup automático"})," dos seus dados atuais para nossos servidores seguros. Não precisa selecionar arquivo - seus dados serão coletados automaticamente!"]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Como funciona:"})," Clique no botão abaixo e seus dados atuais (receitas, ingredientes, clientes, orçamentos) serão automaticamente enviados e salvos com segurança em nossos servidores."]})}),s.jsx("button",{onClick:l,disabled:r,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:r?"Enviando dados...":"🚀 Fazer Backup Automático"}),s.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[s.jsx("p",{children:"✓ Backup automático dos dados atuais"}),s.jsx("p",{children:"✓ Segurança: criptografado e protegido"}),s.jsx("p",{children:"✓ Acesso: apenas você e equipe técnica"}),s.jsx("p",{children:"✓ Não precisa selecionar arquivos"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Restaurar Backup"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Ra,{className:"h-6 w-6 text-purple-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Restaurar do Arquivo"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Selecione um arquivo de backup para restaurar seus dados."}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:".json",onChange:c,className:"hidden",id:"backup-file"}),s.jsxs("label",{htmlFor:"backup-file",className:"cursor-pointer",children:[s.jsx(Ra,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Clique para selecionar arquivo de backup"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Apenas arquivos .json são aceitos"})]})]}),s.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex",children:[s.jsx(Nu,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Atenção:"})," Restaurar um backup irá sobrescrever todos os seus dados atuais. Esta ação não pode ser desfeita."]})})]})})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Dicas de Segurança"}),s.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[s.jsx("li",{children:"• Faça backups regulares (semanal ou quinzenal)"}),s.jsx("li",{children:"• Guarde backups em locais seguros (nuvem, HD externo)"}),s.jsx("li",{children:"• Teste a restauração periodicamente"}),s.jsx("li",{children:"• Mantenha múltiplas versões de backup"}),s.jsx("li",{children:"• Nunca compartilhe arquivos de backup"})]})]})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo dos Seus Dados"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ee(X.RECEITAS,[]).filter(u=>u.usuario_id===(e==null?void 0:e.id)).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receitas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:ee(X.INGREDIENTES_USUARIO,[]).filter(u=>u.usuario_id===(e==null?void 0:e.id)).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ingredientes"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:ee(X.CLIENTES,[]).filter(u=>u.usuario_id===(e==null?void 0:e.id)).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Clientes"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-pink-600",children:ee(X.ORCAMENTOS,[]).filter(u=>u.usuario_id===(e==null?void 0:e.id)).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Orçamentos"})]})]})]})]})})}function LX(){const{plan:e,remainingCredits:t,loading:r,useCredit:n,canUseIA:a,upgradePlanType:i,refreshPlan:o}=Xl(),[l,c]=p.useState(!1),[u,d]=p.useState([]),f=y=>{d(w=>[...w,`${new Date().toLocaleTimeString()}: ${y}`])},m=()=>{if(a()){const y=n();f(y?`✅ Crédito usado com sucesso. Restam: ${t-1}`:"❌ Falha ao usar crédito")}else f("🚫 Sem créditos disponíveis - deve mostrar modal"),c(!0)},h=y=>{i(y),f(`🚀 Upgrade para ${y} realizado com sucesso`),c(!1)},g=()=>{const y={...e,creditsUsedThisMonth:0,resetDate:new Date(Date.now()+2592e6).toISOString()};localStorage.setItem("doce_calc_user_plan",JSON.stringify(y)),o(),f("🔄 Reset mensal simulado - créditos restaurados")},v=()=>{d([]),f("🧹 Resultados dos testes limpos")};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando sistema de créditos..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Le,{className:"h-6 w-6 text-gray-600"})}),s.jsx(mg,{className:"h-8 w-8 text-pink-500"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Teste de Créditos IA"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Validação do sistema FASE 1"})]})]})})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ar,{className:"h-5 w-5 mr-2 text-blue-500"}),"Status Atual do Plano"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Tipo de Plano:"}),s.jsx("span",{className:"text-lg font-bold text-blue-600 capitalize",children:e.planType})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Créditos Totais:"}),s.jsx("span",{className:"text-lg font-bold text-green-600",children:e.creditsIA})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Créditos Usados:"}),s.jsx("span",{className:"text-lg font-bold text-orange-600",children:e.creditsUsedThisMonth})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Créditos Restantes:"}),s.jsx("span",{className:`text-lg font-bold ${t>5?"text-green-600":t>2?"text-yellow-600":"text-red-600"}`,children:e.planType==="premium"?"Ilimitado":t})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Próximo Reset:"}),s.jsx("span",{className:"text-sm text-gray-600",children:new Date(e.resetDate).toLocaleDateString("pt-BR")})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(mg,{className:"h-5 w-5 mr-2 text-pink-500"}),"Controles de Teste"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:m,disabled:!a()&&e.planType!=="premium",className:`w-full flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-colors ${a()||e.planType==="premium"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Simular Uso de 1 Crédito"]}),s.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-center px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:[s.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Abrir Modal de Upgrade"]}),s.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[s.jsx(ku,{className:"h-4 w-4 mr-2"}),"Simular Reset Mensal"]}),s.jsxs("button",{onClick:v,className:"w-full flex items-center justify-center px-4 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium transition-colors",children:[s.jsx(DS,{className:"h-4 w-4 mr-2"}),"Limpar Resultados"]})]})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Or,{className:"h-5 w-5 mr-2 text-green-500"}),"Resultados dos Testes"]}),s.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm h-64 overflow-y-auto",children:u.length===0?s.jsx("p",{className:"text-gray-500",children:"Nenhum teste executado ainda..."}):u.map((y,w)=>s.jsx("div",{className:"mb-1",children:y},w))})]})]})}),s.jsx(_v,{isOpen:l,onClose:()=>c(!1),onUpgrade:h,currentPlan:e.planType,trigger:"manual"})]})}const FX=[{id:"prec_001",pergunta:"Como calcular preço de brigadeiro?",resposta:"Para calcular o preço do brigadeiro, você deve considerar todos os custos envolvidos. Primeiro, calcule o custo dos ingredientes (leite condensado, chocolate em pó, manteiga, granulado). Depois, adicione os custos indiretos como gás, energia elétrica e embalagem. Considere também o tempo de preparo multiplicado pelo seu custo/hora de trabalho. Por fim, aplique uma margem de lucro de 60-80% sobre o custo total. Por exemplo: se o custo total for R$ 0,50 por brigadeiro, o preço de venda deve ficar entre R$ 0,80 e R$ 0,90.",categoria:"precificacao",tags:["brigadeiro","calculo","preco","custo","margem"],dificuldade:"iniciante",palavrasChave:["brigadeiro","preço","calcular","custo","ingredientes","margem","lucro"]},{id:"prec_002",pergunta:"Qual margem ideal para doces?",resposta:"A margem de lucro ideal para doces varia entre 60% a 100%, dependendo do tipo de produto e mercado. Para doces simples como brigadeiros, a margem pode ser de 60-70%. Para bolos decorados e produtos mais elaborados, a margem pode chegar a 80-100%. Lembre-se que esta margem deve cobrir não apenas o lucro, mas também custos fixos como aluguel, marketing e reserva para equipamentos. Uma boa estratégia é começar com 70% e ajustar conforme a aceitação do mercado.",categoria:"precificacao",tags:["margem","lucro","doces","percentual","estrategia"],dificuldade:"iniciante",palavrasChave:["margem","lucro","ideal","doces","percentual","mercado"]},{id:"prec_003",pergunta:"Preço por peso ou unidade?",resposta:"A escolha entre precificar por peso ou unidade depende do tipo de produto. Para doces pequenos e padronizados (brigadeiros, beijinhos), a precificação por unidade é mais prática e aceita pelo cliente. Para bolos, tortas e produtos grandes, a precificação por peso (kg) é mais justa. Para produtos personalizados, considere precificar por porção ou tamanho. Uma estratégia híbrida também funciona: ofereça pacotes por unidade (ex: 50 brigadeiros) e também opção por peso para quantidades maiores.",categoria:"precificacao",tags:["preco","peso","unidade","estrategia","produto"],dificuldade:"intermediario",palavrasChave:["preço","peso","unidade","precificar","produto","bolo","brigadeiro"]},{id:"prec_004",pergunta:"Como precificar bolo de festa?",resposta:"Para precificar bolos de festa, calcule separadamente: massa (considere sabor e complexidade), recheio (quantidade de camadas), cobertura (tipo e decoração), mão de obra (horas de trabalho), embalagem e entrega. Bolos simples: custo + 70-80% de margem. Bolos decorados: custo + 90-120% de margem. Considere também o peso final - uma boa base é R$ 35-60 por kg, dependendo da complexidade. Para bolos personalizados com decoração elaborada, cobre um valor adicional pela criatividade e tempo extra.",categoria:"precificacao",tags:["bolo","festa","decoracao","margem","peso"],dificuldade:"intermediario",palavrasChave:["bolo","festa","precificar","decoração","massa","recheio","margem"]},{id:"prec_005",pergunta:"Como calcular custo de mão de obra?",resposta:"Para calcular o custo da mão de obra, defina primeiro quanto você quer ganhar por mês. Divida esse valor pelas horas que pretende trabalhar. Por exemplo: se quer ganhar R$ 3.000/mês trabalhando 160 horas, sua hora vale R$ 18,75. Cronometre cada receita para saber o tempo exato de preparo. Inclua tempo de compras, preparo, decoração e limpeza. Este valor deve ser somado aos custos dos ingredientes antes de aplicar a margem de lucro final.",categoria:"precificacao",tags:["mao-obra","custo","hora","trabalho","tempo"],dificuldade:"intermediario",palavrasChave:["mão de obra","custo","hora","trabalho","calcular","tempo","salário"]},{id:"tec_001",pergunta:"Por que massa de bolo murcha?",resposta:"A massa do bolo murcha principalmente por três motivos: abertura do forno durante o cozimento (mudança brusca de temperatura), fermento vencido ou em quantidade incorreta, e temperatura do forno inadequada. Para evitar, use fermento fresco, não abra o forno nos primeiros 30 minutos, pré-aqueça o forno corretamente e mantenha temperatura estável. O teste do palito deve ser feito apenas após o tempo mínimo de cozimento. Mudanças de altitude também afetam - em locais altos, reduza o fermento.",categoria:"tecnicas",tags:["bolo","massa","murcha","fermento","temperatura"],dificuldade:"iniciante",palavrasChave:["massa","bolo","murcha","fermento","forno","temperatura"]},{id:"tec_002",pergunta:"Como fazer chantilly perfeito?",resposta:"Para um chantilly perfeito, use creme de leite fresco bem gelado (mínimo 35% de gordura). Deixe as tigelas e batedores na geladeira por 30 minutos antes. Bata em velocidade média, aumentando gradualmente. Adicione açúcar refinado ou cristal apenas quando começar a engrossar. Pare de bater assim que formar picos firmes - bater demais vira manteiga. Para maior estabilidade, adicione 1 colher de sopa de leite em pó. Mantenha sempre refrigerado e use no máximo em 24 horas.",categoria:"tecnicas",tags:["chantilly","creme","bater","gelado","estabilidade"],dificuldade:"iniciante",palavrasChave:["chantilly","creme de leite","bater","gelado","açúcar","picos"]},{id:"tec_003",pergunta:"Chocolate derreteu, e agora?",resposta:"Se o chocolate derreteu incorretamente (embranqueceu ou endureceu), você pode recuperá-lo. Para chocolate embranquecido: adicione um pouco de creme de leite morno mexendo devagar até voltar ao brilho. Para chocolate que endureceu: adicione algumas gotas de óleo vegetal ou manteiga derretida, mexendo em temperatura baixa. Para evitar futuros problemas, sempre derreta em banho-maria ou microondas em potência baixa, mexendo a cada 30 segundos. Nunca deixe água entrar em contato com o chocolate.",categoria:"tecnicas",tags:["chocolate","derreter","embranquecer","recuperar","banho-maria"],dificuldade:"intermediario",palavrasChave:["chocolate","derreteu","embranqueceu","recuperar","banho-maria"]},{id:"tec_004",pergunta:"Bolo ressecou, como evitar?",resposta:"Bolo resseca por excesso de farinha, pouco líquido, muito tempo no forno ou temperatura inadequada. Para evitar: meça ingredientes corretamente, não misture demais a massa (desenvolve glúten), asse na temperatura certa pelo tempo indicado, teste com palito. Para recuperar bolo ressecado: faça furinhos com palito e regue com calda (água + açúcar + essência), cubra bem e deixe descansar. Para próximas vezes, adicione 1-2 colheres de óleo à receita ou substitua parte do leite por iogurte.",categoria:"tecnicas",tags:["bolo","ressecado","umidade","calda","textura"],dificuldade:"iniciante",palavrasChave:["bolo","ressecou","seco","umidade","calda","farinha"]},{id:"tec_005",pergunta:"Como temperar chocolate corretamente?",resposta:"O tempero do chocolate é essencial para brilho e snap perfeitos. Derreta 2/3 do chocolate até 50-55°C (ao leite) ou 55-58°C (meio amargo). Retire do fogo e adicione o 1/3 restante em pedaços pequenos, mexendo até esfriar para 27-28°C. Reaque suavemente até 29-30°C (ao leite) ou 31-32°C (meio amargo). Teste em papel manteiga - deve endurecer brilhoso em 3 minutos. Use termômetro culinário para precisão. Chocolate bem temperado dura mais e não embranquece.",categoria:"tecnicas",tags:["chocolate","temperar","temperatura","brilho","tecnica"],dificuldade:"avancado",palavrasChave:["chocolate","temperar","temperatura","brilho","termômetro"]},{id:"ing_001",pergunta:"Posso substituir manteiga por margarina?",resposta:"Sim, é possível substituir manteiga por margarina na maioria das receitas, mas o sabor e textura podem mudar. A manteiga tem sabor mais rico e proporciona melhor textura em massas. Para bolos, use margarina cremosa em temperatura ambiente. Para biscoitos e massas folhadas, prefira manteiga para melhor resultado. Se usar margarina, escolha uma com pelo menos 60% de gordura. A proporção é 1:1, mas pode ser necessário ajustar líquidos da receita. Para brigadeiros e doces cremosos, a manteiga é sempre preferível.",categoria:"ingredientes",tags:["manteiga","margarina","substituicao","textura","sabor"],dificuldade:"iniciante",palavrasChave:["manteiga","margarina","substituir","diferença","textura","sabor"]},{id:"ing_002",pergunta:"Como conservar chocolate?",resposta:"Conserve chocolate em local seco, arejado e escuro, entre 15-18°C. Evite geladeira pois causa condensação e embranquecimento. Guarde em recipiente hermético longe de odores fortes. Chocolate ao leite dura 12-16 meses, meio amargo até 24 meses. Se precisar refrigerar em clima quente, embrulhe bem em papel filme e coloque em recipiente fechado. Retire da geladeira e deixe chegar à temperatura ambiente antes de usar. Chocolate derretido pode ser congelado em formas de gelo para uso posterior.",categoria:"ingredientes",tags:["chocolate","conservar","armazenar","temperatura","validade"],dificuldade:"iniciante",palavrasChave:["chocolate","conservar","guardar","temperatura","geladeira","validade"]},{id:"ing_003",pergunta:"Leite condensado caseiro vs industrializado?",resposta:"O leite condensado caseiro tem sabor mais natural e você controla o açúcar, mas demora 2-3 horas para fazer e pode cristalizar. O industrializado é mais prático, tem consistência uniforme e maior durabilidade. Para doces que serão vendidos, o industrializado oferece mais segurança na textura. O caseiro é ideal para consumo próprio e tem custo menor. Receita básica: 1L leite + 300g açúcar, cozinhe mexendo até reduzir pela metade. Para negócio, considere o tempo investido versus economia.",categoria:"ingredientes",tags:["leite-condensado","caseiro","industrializado","comparacao","custo"],dificuldade:"intermediario",palavrasChave:["leite condensado","caseiro","industrializado","diferença","vantagem"]},{id:"ing_004",pergunta:"Qual açúcar usar em cada doce?",resposta:"Cada tipo de açúcar tem sua função: Cristal - universal, boa dissolução, ideal para massas e caldas. Refinado - dissolve rápido, perfeito para chantilly e merengues. Demerara - sabor suave, ótimo para cookies e bolos rústicos. Mascavo - sabor intenso, ideal para paçocas e doces caseiros. Confeiteiro - não cristaliza, perfeito para glacês e coberturas. Açúcar invertido - evita cristalização em bombons. Para iniciantes, cristal e refinado atendem 90% das necessidades.",categoria:"ingredientes",tags:["acucar","tipos","usos","cristal","refinado"],dificuldade:"intermediario",palavrasChave:["açúcar","tipos","cristal","refinado","demerara","mascavo","confeiteiro"]},{id:"ing_005",pergunta:"Como escolher ovos para confeitaria?",resposta:"Use sempre ovos frescos - teste colocando na água: fresco afunda, velho boia. Para claras em neve, ovos com 3-7 dias rendem melhor que muito frescos. Ovos grandes (60g+) são ideais para receitas profissionais. Mantenha sempre refrigerados e use em temperatura ambiente para massas - retire 30min antes. Para segurança alimentar, evite ovos com casca rachada. Em receitas que levam ovos crus (mousse), considere usar ovos pasteurizados. Cor da gema não afeta qualidade, apenas a alimentação da galinha.",categoria:"ingredientes",tags:["ovos","frescor","qualidade","armazenamento","seguranca"],dificuldade:"iniciante",palavrasChave:["ovos","frescos","qualidade","escolher","refrigerados","temperatura"]},{id:"mark_001",pergunta:"Como fotografar doces?",resposta:"Para fotografar doces use luz natural próxima a janela, evite flash direto. Limpe bem os doces e remova marcas de dedos. Use fundos neutros (branco, madeira clara) que destaquem o produto. Fotografe de diferentes ângulos: frente, 45° e cenital. Para brigadeiros, organize em grupos ímpares. Adicione elementos complementares como ingredientes ou utensílios. Use aplicativos como VSCO ou Lightroom para ajustar brilho e contraste. Mantenha consistência visual em todas as fotos do seu catálogo.",categoria:"marketing",tags:["fotografia","doces","luz","fundo","angulo"],dificuldade:"iniciante",palavrasChave:["fotografar","doces","luz","natural","fundo","ângulo","celular"]},{id:"mark_002",pergunta:"Onde divulgar minha confeitaria?",resposta:"Priorize Instagram (visual é tudo) com posts diários e stories interativos. Facebook para alcance local e eventos. WhatsApp Business para atendimento direto e catálogo. TikTok para receitas rápidas e bastidores. Participe de grupos locais de mães e vizinhança. Crie parcerias com buffets e organizadores de eventos. Invista em Google Meu Negócio para aparecer em buscas locais. Ofereça degustações em eventos e feiras. O boca a boca ainda é o melhor marketing - qualidade sempre!",categoria:"marketing",tags:["divulgacao","redes-sociais","instagram","local","parcerias"],dificuldade:"iniciante",palavrasChave:["divulgar","marketing","Instagram","Facebook","WhatsApp","redes sociais"]},{id:"mark_003",pergunta:"Como precificar para delivery?",resposta:"Para delivery, considere: custo do produto + embalagem especial + taxa de entrega + margem adicional de 10-15% pelo serviço. Use embalagens que mantenham qualidade (brigadeiros em forminhas firmes, bolos em caixas resistentes). Estabeleça pedido mínimo para viabilizar entrega. Ofereça horários programados para otimizar rotas. Considere parceria com apps (iFood, Uber Eats) mas calcule as comissões no preço. Para área local, delivery próprio via WhatsApp pode ser mais rentável.",categoria:"marketing",tags:["delivery","precificacao","embalagem","entrega","aplicativos"],dificuldade:"intermediario",palavrasChave:["delivery","entrega","precificar","embalagem","pedido mínimo","apps"]},{id:"mark_004",pergunta:"Como criar cardápio atrativo?",resposta:"Cardápio atrativo deve ter: fotos profissionais de todos os produtos, descrições que despertem desejo (não apenas ingredientes), preços claros e organizados por categoria. Use nomes criativos mas descritivos. Destaque produtos especiais e sazonais. Inclua informações sobre alergênicos. Mantenha layout limpo e legível. No digital, use formato PDF ou catálogo no WhatsApp Business. Atualize regularmente com novidades. Teste diferentes versões e veja qual gera mais vendas.",categoria:"marketing",tags:["cardapio","menu","visual","descricoes","precos"],dificuldade:"intermediario",palavrasChave:["cardápio","menu","fotos","descrição","preços","atrativo","visual"]},{id:"mark_005",pergunta:"Como fazer promoções que vendem?",resposta:'Promoções eficazes: "Leve 3 pague 2" funciona melhor que desconto direto. Combos familiares para finais de semana. Fidelidade: 10ª encomenda com desconto. Promoções sazonais (Dia das Mães, Páscoa). Flash sales com tempo limitado criam urgência. Sorteios no Instagram aumentam engajamento. Evite descontos constantes - desvaloriza produto. Teste diferentes estratégias e meça resultados. Sempre comunique o valor original para mostrar economia. Use gatilhos mentais: escassez, urgência e exclusividade.',categoria:"marketing",tags:["promocoes","vendas","desconto","fidelidade","combos"],dificuldade:"intermediario",palavrasChave:["promoções","desconto","combo","fidelidade","vendas","estratégia"]}],BX=()=>{const e=[];for(let t=6;t<=50;t++)e.push({id:`prec_${t.toString().padStart(3,"0")}`,pergunta:`Pergunta de precificação ${t}`,resposta:"Resposta detalhada sobre precificação com pelo menos 150 palavras explicando conceitos importantes para confeiteiros sobre custos, margens, estratégias de preço e competitividade no mercado de doces artesanais. Esta resposta inclui dicas práticas e exemplos reais aplicáveis ao dia a dia da confeitaria.",categoria:"precificacao",tags:["preco","custo","margem","lucro","estrategia"],dificuldade:t%3===0?"avancado":t%2===0?"intermediario":"iniciante",palavrasChave:["preço","custo","margem","lucro","calcular"]});for(let t=6;t<=50;t++)e.push({id:`tec_${t.toString().padStart(3,"0")}`,pergunta:`Técnica de confeitaria ${t}`,resposta:"Explicação detalhada sobre técnica culinária específica para confeitaria, incluindo passo a passo, dicas profissionais, problemas comuns e soluções, melhores práticas e truques para garantir resultados perfeitos. Esta resposta foi elaborada por especialistas em confeitaria para ajudar desde iniciantes até profissionais experientes.",categoria:"tecnicas",tags:["tecnica","preparo","massa","cobertura","decoracao"],dificuldade:t%3===0?"avancado":t%2===0?"intermediario":"iniciante",palavrasChave:["técnica","preparo","massa","bolo","doce"]});for(let t=6;t<=50;t++)e.push({id:`ing_${t.toString().padStart(3,"0")}`,pergunta:`Sobre ingrediente específico ${t}`,resposta:"Informação completa sobre ingrediente usado em confeitaria, incluindo propriedades, formas de uso, armazenamento adequado, substituições possíveis, dicas de compra, qualidade ideal e como afeta o resultado final dos doces. Essencial para qualquer confeiteiro que busca excelência em seus produtos.",categoria:"ingredientes",tags:["ingrediente","qualidade","armazenamento","substituicao","uso"],dificuldade:t%3===0?"avancado":t%2===0?"intermediario":"iniciante",palavrasChave:["ingrediente","qualidade","usar","conservar","escolher"]});for(let t=6;t<=50;t++)e.push({id:`mark_${t.toString().padStart(3,"0")}`,pergunta:`Estratégia de marketing ${t}`,resposta:"Estratégia completa de marketing para confeitaria, abordando divulgação, redes sociais, atendimento ao cliente, fidelização, precificação competitiva e crescimento do negócio. Inclui casos de sucesso, métricas importantes e ferramentas práticas para aumentar vendas e construir marca forte no mercado local.",categoria:"marketing",tags:["marketing","vendas","cliente","divulgacao","estrategia"],dificuldade:t%3===0?"avancado":t%2===0?"intermediario":"iniciante",palavrasChave:["marketing","vendas","cliente","divulgar","estratégia"]});return e},zX=()=>[...FX,...BX()];function UX(e){const t=zX(),r=tn(e),n=qX(r),i=WX(n,t).filter(d=>d.score>=2);if(i.length===0)return{answer:null,confidence:0,suggestions:HX(t,3),relatedQuestions:QX()};const o=i[0],l=GX(o.score,n.length),c=XX(o.item,t,3),u=YX(o.item.categoria,t);return{answer:o.item,confidence:l,suggestions:c,relatedQuestions:u}}function tn(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/g," ").replace(/\s+/g," ").trim()}function qX(e){const t=["o","a","os","as","um","uma","uns","umas","de","do","da","dos","das","em","no","na","nos","nas","para","por","com","sem","ate","sobre","entre","e","ou","mas","pois","que","se","como","eu","tu","ele","ela","nos","vos","eles","elas","meu","minha","meus","minhas","seu","sua","seus","suas","este","esta","estes","estas","esse","essa","esses","essas","aquele","aquela","aqueles","aquelas","isso","isto","aquilo","ser","estar","ter","haver","fazer","poder","querer","muito","mais","menos","bem","mal","melhor","pior"];return e.split(" ").filter(r=>r.length>2&&!t.includes(r))}function WX(e,t){const r=[];for(const n of t){const a=VX(e,n),i=KX(e,n);a>0&&r.push({item:n,score:a,matchedWords:i})}return r.sort((n,a)=>a.score-n.score)}function VX(e,t){let r=0;const n=[tn(t.pergunta),tn(t.resposta),...t.tags.map(tn),...t.palavrasChave.map(tn)].join(" ");for(const i of e)n.includes(i)&&(r+=1);const a=tn(t.pergunta);for(const i of e)a.includes(i)&&(r+=2);for(const i of t.tags)for(const o of e)tn(i).includes(o)&&(r+=1.5);return r}function KX(e,t){const r=[],n=[tn(t.pergunta),...t.tags.map(tn),...t.palavrasChave.map(tn)].join(" ");for(const a of e)n.includes(a)&&r.push(a);return r}function GX(e,t){const r=t*3,n=Math.min(e/r*100,95);return Math.round(n)}function HX(e,t){return[...e].sort(()=>.5-Math.random()).slice(0,t)}function YX(e,t){return t.filter(r=>r.categoria===e).slice(0,5).map(r=>r.pergunta)}function XX(e,t,r){const n=[];for(const a of t){if(a.id===e.id)continue;const o=a.tags.filter(l=>e.tags.includes(l)).length;o>0&&n.push({item:a,similarity:o})}return n.sort((a,i)=>i.similarity-a.similarity).slice(0,r).map(a=>a.item)}function QX(){return["Como calcular preço de brigadeiro?","Por que massa de bolo murcha?","Como conservar chocolate?","Como fotografar doces?","Qual margem ideal para doces?"]}function JX(e,t,r={}){const{nome:n="Confeiteiro(a)",nivel:a="iniciante",especialidades:i=[],receitas:o=[]}=r;if(!e.answer)return rQ(n,a,i);const l=e.answer.resposta,c=ZX(n,a),u=eQ(l,a),d=tQ(e.answer,o,i),f=`

💡 *Esta resposta tem ${e.confidence}% de precisão baseada na sua pergunta.*`;return`${c}

${u}${d}${f}`}function ZX(e,t,r){const n=[`Olá ${e}! Que ótima pergunta!`,`Oi ${e}! Vou te ajudar com isso.`,`${e}, essa é uma excelente dúvida!`,`Perfeito, ${e}! Vamos esclarecer isso.`],a={iniciante:"Como você está começando na confeitaria, vou explicar de forma bem didática:",intermediario:"Com sua experiência, você certamente vai aproveitar essas dicas:",avancado:"Para alguém do seu nível, aqui estão os detalhes técnicos:"},i=n[Math.floor(Math.random()*n.length)],o=a[t]||a.iniciante;return`${i} ${o}`}function eQ(e,t){switch(t){case"iniciante":return e+`

📚 *Dica para iniciantes: Pratique bastante e não tenha medo de errar. Cada erro é um aprendizado!*`;case"intermediario":return e+`

⚡ *Dica pro: Experimente variar ingredientes e técnicas para criar sua assinatura única.*`;case"avancado":return e+`

🎯 *Para experts: Considere os aspectos científicos como pH, temperatura e reações químicas para resultados perfeitos.*`;default:return e}}function tQ(e,t,r){const n=[];if(r.length>0){const o=r.find(l=>e.tags.some(c=>c.includes(l.toLowerCase()))||e.palavrasChave.some(c=>c.includes(l.toLowerCase())));o&&n.push(`
🔥 *Conectando com sua especialidade em ${o}: Esta técnica vai elevar ainda mais seus ${o}!*`)}if(t.length>0){const o=t.find(l=>e.tags.some(c=>l.toLowerCase().includes(c))||e.palavrasChave.some(c=>l.toLowerCase().includes(c)));o&&n.push(`
💡 *Aplicando em suas receitas: Você pode usar essa dica na sua receita de ${o}.*`)}const i={precificacao:`
💰 *Lembre-se: Um preço justo valoriza seu trabalho e garante a sustentabilidade do negócio.*`,tecnicas:`
👩‍🍳 *Prática leva à perfeição: Anote suas observações para aprimorar cada vez mais.*`,ingredientes:`
🥄 *Qualidade dos ingredientes é investimento: Bons ingredientes fazem toda a diferença no resultado final.*`,marketing:`
📱 *Consistência é chave: Mantenha sua presença online ativa e autêntica.*`}[e.categoria];return i&&n.push(i),n.join("")}function rQ(e,t,r){const n=r.length>0?` Vejo que você trabalha com ${r.join(", ")}, que tal algumas dicas específicas?`:"",a={iniciante:"Como você está começando, sugiro focar primeiro nos fundamentos.",intermediario:"Com sua experiência, você pode explorar técnicas mais avançadas.",avancado:"Para alguém do seu nível, que tal experimentar inovações na confeitaria?"};return`Olá ${e}! Não encontrei uma resposta específica para sua pergunta, mas estou aqui para ajudar!${n}

${a[t]||a.iniciante}

🍰 **Que tal perguntar sobre:**
• Como calcular preços de doces
• Técnicas de preparo e decoração  
• Dicas sobre ingredientes
• Estratégias de marketing para confeitaria

Estou aqui para te ajudar a crescer na confeitaria! Qual sua próxima dúvida?`}function nQ(){try{const e=localStorage.getItem("doce_calc_user_context");if(e)return JSON.parse(e)}catch(e){console.error("Erro ao carregar contexto do usuário:",e)}return{nome:"Confeiteiro(a)",nivel:"iniciante",especialidades:["brigadeiros","bolos"],receitas:["Brigadeiro Gourmet","Bolo de Chocolate","Torta de Limão"],preferencias:["doces cremosos","decoração simples"]}}const Jh="doce_calc_chat_session";function aQ(){const[e,t]=p.useState([]),[r,n]=p.useState(!1),{canUseIA:a,useCredit:i}=Xl();p.useEffect(()=>{const u=localStorage.getItem(Jh);if(u)try{const d=JSON.parse(u);t(d.messages)}catch(d){console.error("Erro ao carregar chat:",d)}},[]);const o=u=>{const d={id:"current",messages:u,createdAt:new Date,updatedAt:new Date};localStorage.setItem(Jh,JSON.stringify(d))};return{messages:e,isLoading:r,sendMessage:async u=>{if(!u.trim()||!a())return;const d={id:`user_${Date.now()}`,sender:"user",content:u.trim(),timestamp:new Date},f={id:`ai_${Date.now()}`,sender:"ai",content:"",timestamp:new Date,isLoading:!0},m=[...e,d,f];t(m),n(!0);try{const h=Math.random()*2e3+1e3;await new Promise(_=>setTimeout(_,h));const g=UX(u);if(!i())throw new Error("Falha ao processar crédito");const y=nQ(),w=JX(g,u,y),b=g.confidence,x=g.relatedQuestions,j={id:`ai_${Date.now()}`,sender:"ai",content:w,timestamp:new Date,confidence:b,relatedQuestions:x},N=[...e,d,j];t(N),o(N)}catch(h){console.error("Erro ao processar mensagem:",h);const g={id:`ai_${Date.now()}`,sender:"ai",content:"Ops! Algo deu errado. Tente novamente em alguns instantes. 😅",timestamp:new Date},v=[...e,d,g];t(v),o(v)}finally{n(!1)}},clearChat:()=>{t([]),localStorage.removeItem(Jh)},hasCredits:a()}}const sQ=[{id:"precificacao",name:"Precificação",icon:"💰",color:"text-green-600",questions:["Como calcular preço de brigadeiro?","Qual margem ideal para doces?","Preço por peso ou unidade?","Como precificar bolo de festa?","Como calcular custo de mão de obra?"]},{id:"tecnicas",name:"Técnicas",icon:"👩‍🍳",color:"text-blue-600",questions:["Por que massa de bolo murcha?","Como fazer chantilly perfeito?","Chocolate derreteu, e agora?","Bolo ressecou, como evitar?","Como temperar chocolate corretamente?"]},{id:"ingredientes",name:"Ingredientes",icon:"🥄",color:"text-purple-600",questions:["Posso substituir manteiga por margarina?","Como conservar chocolate?","Leite condensado caseiro vs industrializado?","Qual açúcar usar em cada doce?","Como escolher ovos para confeitaria?"]},{id:"marketing",name:"Marketing",icon:"📱",color:"text-pink-600",questions:["Como fotografar doces?","Onde divulgar minha confeitaria?","Como precificar para delivery?","Como criar cardápio atrativo?","Como fazer promoções que vendem?"]}];function iQ(){const{messages:e,isLoading:t,sendMessage:r,clearChat:n,hasCredits:a}=aQ(),{plan:i,remainingCredits:o,upgradePlanType:l}=Xl(),[c,u]=p.useState(""),[d,f]=p.useState(null),[m,h]=p.useState(!1),g=p.useRef(null),v=p.useRef(null);p.useEffect(()=>{var N;(N=g.current)==null||N.scrollIntoView({behavior:"smooth"})},[e]),p.useEffect(()=>{var N;(N=v.current)==null||N.focus()},[]);const y=async()=>{if(!c.trim()||t)return;if(!a){h(!0);return}const N=c;u(""),await r(N)},w=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),y())},b=N=>{var _;u(N),(_=v.current)==null||_.focus()},x=N=>{l(N),h(!1)},j=N=>new Date(N).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(ae,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Le,{className:"h-5 w-5 text-gray-600"})}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Limpar conversa",children:s.jsx(Un,{className:"h-4 w-4 text-gray-600"})})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(_u,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"DoceBot Pro"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Seu assistente de confeitaria"})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:s.jsx(US,{className:"justify-center"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(BS,{className:"h-4 w-4 mr-2"}),"Categorias de Ajuda"]}),s.jsx("div",{className:"space-y-3",children:sQ.map(N=>s.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[s.jsx("button",{onClick:()=>f(d===N.id?null:N.id),className:"w-full p-3 text-left hover:bg-gray-50 transition-colors rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-lg",children:N.icon}),s.jsx("span",{className:"font-medium text-gray-900",children:N.name})]}),s.jsx(Cr,{className:`h-4 w-4 transition-transform ${d===N.id?"rotate-90":""} ${N.color}`})]})}),d===N.id&&s.jsx("div",{className:"px-3 pb-3",children:s.jsx("div",{className:"space-y-2",children:N.questions.map((_,S)=>s.jsx("button",{onClick:()=>b(_),className:"w-full text-left p-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",children:_},S))})})]},N.id))})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Chat com DoceBot Pro"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pergunte qualquer coisa sobre confeitaria"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:e.length>0?`${Math.floor(e.length/2)} perguntas`:"Nova conversa"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center mb-4",children:s.jsx(_u,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Olá! Sou o DoceBot Pro 🍰"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Estou aqui para te ajudar com tudo sobre confeitaria: preços, técnicas, ingredientes e marketing. O que você gostaria de saber?"}),s.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-lg",children:["Como calcular preço de brigadeiro?","Por que massa de bolo murcha?","Como conservar chocolate?","Como fotografar doces?"].map(N=>s.jsx("button",{onClick:()=>b(N),className:"p-3 bg-white border border-gray-200 rounded-lg hover:border-pink-300 hover:bg-pink-50 transition-colors text-sm text-left",children:N},N))})]}):s.jsxs("div",{className:"space-y-4",children:[e.map(N=>s.jsx("div",{className:`flex ${N.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`flex items-start space-x-2 max-w-xs lg:max-w-md ${N.sender==="user"?"flex-row-reverse space-x-reverse":""}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${N.sender==="user"?"bg-blue-500":"bg-gradient-to-br from-pink-500 to-purple-600"}`,children:N.sender==="user"?s.jsx(Nr,{className:"h-4 w-4 text-white"}):s.jsx(_u,{className:"h-4 w-4 text-white"})}),s.jsx("div",{className:`rounded-lg p-3 ${N.sender==="user"?"bg-blue-500 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:N.isLoading?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cl,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"text-sm",children:"DoceBot está pensando..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"whitespace-pre-wrap text-sm",children:N.content}),s.jsxs("div",{className:`flex items-center justify-between mt-2 text-xs ${N.sender==="user"?"text-blue-100":"text-gray-500"}`,children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ds,{className:"h-3 w-3"}),s.jsx("span",{children:j(N.timestamp)})]}),N.confidence&&s.jsxs("span",{children:["Precisão: ",N.confidence,"%"]})]}),N.relatedQuestions&&N.relatedQuestions.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Perguntas relacionadas:"}),s.jsx("div",{className:"space-y-1",children:N.relatedQuestions.slice(0,3).map((_,S)=>s.jsxs("button",{onClick:()=>b(_),className:"block w-full text-left text-xs text-gray-600 hover:text-pink-600 transition-colors",children:["• ",_]},S))})]})]})})]})},N.id)),s.jsx("div",{ref:g})]})}),s.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[a?null:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-900",children:"Créditos esgotados"}),s.jsx("p",{className:"text-sm text-red-700",children:"Você usou todos os seus créditos IA deste mês."})]}),s.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Fazer Upgrade"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{ref:v,type:"text",value:c,onChange:N=>u(N.target.value),onKeyPress:w,placeholder:a?"Digite sua pergunta sobre confeitaria...":"Sem créditos disponíveis",disabled:!a||t,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"})}),s.jsx("button",{onClick:y,disabled:!c.trim()||!a||t,className:"px-4 py-3 bg-pink-500 text-white rounded-lg hover:bg-pink-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:s.jsx(vi,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Pressione Enter para enviar • ",o," consultas restantes este mês"]})]})]}),s.jsx(_v,{isOpen:m,onClose:()=>h(!1),onUpgrade:x,currentPlan:i.planType,trigger:"no_credits"})]})}const RN=[{id:"precificacao",nome:"Precificação",descricao:"Aprenda a calcular preços justos e lucrativos",icone:"💰",totalEbooks:8},{id:"tecnicas",nome:"Técnicas",descricao:"Domine as técnicas profissionais de confeitaria",icone:"👩‍🍳",totalEbooks:12},{id:"marketing",nome:"Marketing",descricao:"Estratégias para promover seu negócio",icone:"📱",totalEbooks:6},{id:"gestao",nome:"Gestão",descricao:"Administre sua confeitaria como um profissional",icone:"📊",totalEbooks:5},{id:"receitas",nome:"Receitas",descricao:"Receitas exclusivas e testadas",icone:"📝",totalEbooks:15}],oQ=[{id:"ebook-1",titulo:"Precificação Inteligente para Confeiteiros",autor:"Ana Paula Santos",categoria:"precificacao",descricao:"O guia definitivo para calcular preços que garantem lucro sem perder clientes",resumo:"Aprenda a metodologia step-by-step para precificar qualquer doce, considerando todos os custos e margens de lucro adequadas.",preco:47.9,precoCreditos:12,imagemCapa:"/placeholder-ebook-1.jpg",avaliacoes:4.8,numeroAvaliacoes:234,tags:["precificação","custos","margem","lucro"],nivel:"iniciante",paginas:85,idioma:"Português",dataLancamento:new Date("2025-01-15"),bestseller:!0,promocao:{desconto:20,precoOriginal:59.9,dataFim:new Date("2025-10-01")},preview:{capitulos:["Introdução à Precificação","Calculando Custos Fixos"],paginasGratuitas:12}},{id:"ebook-2",titulo:"Técnicas Avançadas de Chocolate",autor:"Chef Ricardo Almeida",categoria:"tecnicas",descricao:"Domine a arte do chocolate com técnicas profissionais de temperagem e modelagem",resumo:"Do básico ao avançado: temperagem perfeita, modelagem, recheios gourmet e decorações impressionantes.",preco:89.9,precoCreditos:22,imagemCapa:"/placeholder-ebook-2.jpg",avaliacoes:4.9,numeroAvaliacoes:156,tags:["chocolate","temperagem","modelagem","gourmet"],nivel:"avancado",paginas:124,idioma:"Português",dataLancamento:new Date("2025-02-20"),bestseller:!0,preview:{capitulos:["Fundamentos do Chocolate","Temperagem Clássica"],paginasGratuitas:18}},{id:"ebook-3",titulo:"Marketing Digital para Confeiteiros",autor:"Juliana Costa",categoria:"marketing",descricao:"Transforme suas redes sociais em uma máquina de vendas",resumo:"Estratégias práticas para Instagram, Facebook e WhatsApp Business. Inclui templates prontos.",preco:39.9,precoCreditos:10,imagemCapa:"/placeholder-ebook-3.jpg",avaliacoes:4.7,numeroAvaliacoes:189,tags:["marketing","redes sociais","vendas","instagram"],nivel:"iniciante",paginas:67,idioma:"Português",dataLancamento:new Date("2025-03-10"),bestseller:!1,preview:{capitulos:["Instagram para Confeiteiros","Criando Conteúdo que Vende"],paginasGratuitas:10}},{id:"ebook-4",titulo:"Gestão Financeira da Confeitaria",autor:"Carlos Mendes",categoria:"gestao",descricao:"Organize suas finanças e maximize seus lucros",resumo:"Fluxo de caixa, controle de estoque, análise de rentabilidade e planejamento financeiro.",preco:55.9,precoCreditos:14,imagemCapa:"/placeholder-ebook-4.jpg",avaliacoes:4.6,numeroAvaliacoes:98,tags:["gestão","finanças","lucro","estoque"],nivel:"intermediario",paginas:92,idioma:"Português",dataLancamento:new Date("2025-01-25"),bestseller:!1,preview:{capitulos:["Fundamentos Financeiros","Controle de Fluxo de Caixa"],paginasGratuitas:15}},{id:"ebook-5",titulo:"50 Receitas de Brigadeiros Gourmet",autor:"Marina Silva",categoria:"receitas",descricao:"As melhores receitas de brigadeiros que conquistam qualquer paladar",resumo:"Desde os clássicos até combinações inovadoras. Todas as receitas testadas e aprovadas.",preco:29.9,precoCreditos:8,imagemCapa:"/placeholder-ebook-5.jpg",avaliacoes:4.8,numeroAvaliacoes:312,tags:["receitas","brigadeiro","gourmet","doces"],nivel:"iniciante",paginas:58,idioma:"Português",dataLancamento:new Date("2025-02-14"),bestseller:!0,preview:{capitulos:["Brigadeiro Clássico","Brigadeiros Especiais"],paginasGratuitas:8}},{id:"ebook-6",titulo:"Bolos Artísticos: Do Básico ao Profissional",autor:"Fernanda Lima",categoria:"tecnicas",descricao:"Aprenda a criar bolos que são verdadeiras obras de arte",resumo:"Técnicas de nivelamento, cobertura lisa, flores de açúcar e decorações impressionantes.",preco:67.9,precoCreditos:17,imagemCapa:"/placeholder-ebook-6.jpg",avaliacoes:4.7,numeroAvaliacoes:145,tags:["bolos","decoração","flores","artístico"],nivel:"intermediario",paginas:103,idioma:"Português",dataLancamento:new Date("2025-03-05"),bestseller:!1,preview:{capitulos:["Preparando a Base Perfeita","Cobertura Lisa Profissional"],paginasGratuitas:14}}],d0=()=>{const e=localStorage.getItem("doce_calc_user_library");return e?JSON.parse(e):{userId:"user1",ebooks:[]}},lQ=()=>{const e=localStorage.getItem("doce_calc_cart");return e?JSON.parse(e):[]},DN=e=>{localStorage.setItem("doce_calc_cart",JSON.stringify(e))},cQ=async(e,t)=>{await new Promise(a=>setTimeout(a,2e3));const r=d0(),n=e.map(a=>({ebookId:a,dataCompra:new Date,progresso:0,favorito:!1,notas:[]}));return r.ebooks.push(...n),localStorage.setItem("doce_calc_user_library",JSON.stringify(r)),localStorage.removeItem("doce_calc_cart"),{success:!0,purchaseId:`purchase_${Date.now()}`,downloads:e.map(a=>({ebookId:a,downloadLink:`/downloads/${a}.pdf`}))}};function uQ(){const[e,t]=p.useState("all"),[r,n]=p.useState(""),[a,i]=p.useState("relevancia"),[o,l]=p.useState([]),[c,u]=p.useState(null),[d,f]=p.useState(!1),[m,h]=p.useState(!1),{remainingCredits:g}=Xl();p.useEffect(()=>{l(lQ()),u(d0())},[]);const v=oQ.filter(_=>{const S=e==="all"||_.categoria===e,C=_.titulo.toLowerCase().includes(r.toLowerCase())||_.autor.toLowerCase().includes(r.toLowerCase())||_.tags.some(A=>A.toLowerCase().includes(r.toLowerCase()));return S&&C}).sort((_,S)=>{switch(a){case"preco-menor":return _.preco-S.preco;case"preco-maior":return S.preco-_.preco;case"avaliacoes":return S.avaliacoes-_.avaliacoes;default:return S.bestseller?1:-1}}),y=_=>{const S=o.find(A=>A.ebookId===_.id);let C;S?C=o.map(A=>A.ebookId===_.id?{...A,quantidade:A.quantidade+1}:A):C=[...o,{ebookId:_.id,ebook:_,quantidade:1}],l(C),DN(C)},w=_=>{const S=o.filter(C=>C.ebookId!==_);l(S),DN(S)},b=()=>o.reduce((_,S)=>_+S.ebook.preco*S.quantidade,0),x=()=>o.reduce((_,S)=>_+S.ebook.precoCreditos*S.quantidade,0),j=async _=>{if(o.length!==0){h(!0);try{const S=o.map(A=>A.ebookId);(await cQ(S,_)).success&&(l([]),f(!1),u(d0()),alert("Compra realizada com sucesso! Os e-books foram adicionados à sua biblioteca."))}catch{alert("Erro ao processar compra. Tente novamente.")}finally{h(!1)}}},N=_=>{var S;return(S=c==null?void 0:c.ebooks)==null?void 0:S.some(C=>C.ebookId===_)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(ae,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900",children:[s.jsx(Le,{className:"h-5 w-5 mr-2"}),"Voltar"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketplace de E-books"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:["Créditos: ",g]}),s.jsxs("button",{onClick:()=>f(!0),className:"relative p-2 text-gray-600 hover:text-gray-900",children:[s.jsx(fg,{className:"h-6 w-6"}),o.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o.length})]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"lg:w-1/4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Filtros"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar"}),s.jsxs("div",{className:"relative",children:[s.jsx(Bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:r,onChange:_=>n(_.target.value),placeholder:"Título, autor ou tag...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categorias"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>t("all"),className:`w-full text-left px-3 py-2 rounded-lg ${e==="all"?"bg-orange-100 text-orange-700":"text-gray-600 hover:bg-gray-100"}`,children:"Todas as categorias"}),RN.map(_=>s.jsxs("button",{onClick:()=>t(_.id),className:`w-full text-left px-3 py-2 rounded-lg flex items-center ${e===_.id?"bg-orange-100 text-orange-700":"text-gray-600 hover:bg-gray-100"}`,children:[s.jsx("span",{className:"mr-2",children:_.icone}),_.nome," (",_.totalEbooks,")"]},_.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordenar por"}),s.jsxs("select",{value:a,onChange:_=>i(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[s.jsx("option",{value:"relevancia",children:"Relevância"}),s.jsx("option",{value:"preco-menor",children:"Menor preço"}),s.jsx("option",{value:"preco-maior",children:"Maior preço"}),s.jsx("option",{value:"avaliacoes",children:"Melhor avaliado"})]})]})]})}),s.jsxs("div",{className:"lg:w-3/4",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-gray-600",children:[v.length," e-book(s) encontrado(s)"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:v.map(_=>{var S;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.bestseller&&s.jsx(Ar,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:(S=RN.find(C=>C.id===_.categoria))==null?void 0:S.nome})]}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:_.titulo}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["por ",_.autor]})]})}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:_.resumo}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(zn,{className:"h-4 w-4 text-yellow-400 fill-current"}),s.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:[_.avaliacoes," (",_.numeroAvaliacoes,")"]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(xv,{className:"h-4 w-4 mr-1"}),_.paginas,"p"]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[_.promocao?s.jsxs("div",{children:[s.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["R$ ",_.preco.toFixed(2)]}),s.jsxs("span",{className:"text-sm text-gray-500 line-through ml-2",children:["R$ ",_.promocao.precoOriginal.toFixed(2)]})]}):s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["R$ ",_.preco.toFixed(2)]}),s.jsxs("div",{className:"text-sm text-orange-600",children:["ou ",_.precoCreditos," créditos"]})]})}),N(_.id)?s.jsxs("div",{className:"flex items-center justify-center py-2 bg-green-100 text-green-700 rounded-lg",children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Na sua biblioteca"]}):s.jsxs("button",{onClick:()=>y(_),className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center",children:[s.jsx(fg,{className:"h-4 w-4 mr-2"}),"Adicionar ao carrinho"]})]})]})},_.id)})})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Carrinho de Compras"}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),o.length===0?s.jsx("p",{className:"text-gray-600",children:"Seu carrinho está vazio"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3 mb-4",children:o.map(_=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm",children:_.ebook.titulo}),s.jsxs("p",{className:"text-sm text-gray-600",children:["R$ ",_.ebook.preco.toFixed(2)]})]}),s.jsx("button",{onClick:()=>w(_.ebookId),className:"text-red-500 hover:text-red-700 ml-2",children:"Remover"})]},_.ebookId))}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between mb-4",children:[s.jsx("span",{className:"font-semibold",children:"Total:"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold",children:["R$ ",b().toFixed(2)]}),s.jsxs("div",{className:"text-sm text-orange-600",children:[x()," créditos"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>j("dinheiro"),disabled:m,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:m?"Processando...":"Comprar com Dinheiro"}),s.jsx("button",{onClick:()=>j("creditos"),disabled:m||g<x(),className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 disabled:opacity-50",children:m?"Processando...":"Comprar com Créditos"})]})]})]})]})})]})}function dQ(){const[e,t]=p.useState(null),[r,n]=p.useState(!1),[a,i]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState({name:"",ingredients:10,laborHours:2,overhead:25,desiredMargin:30,estimatedDemand:50}),d=v=>{var w;const y=(w=v.target.files)==null?void 0:w[0];y&&(t(y),f())},f=async v=>{n(!0),await new Promise(w=>setTimeout(w,3e3)),i({recognizedItems:["Brigadeiro","Chocolate","Leite Condensado"],estimatedComplexity:"Médio",suggestedIngredients:[{name:"Leite condensado",quantity:"1 lata",cost:4.5},{name:"Chocolate em pó",quantity:"3 colheres",cost:2},{name:"Manteiga",quantity:"1 colher",cost:1.5},{name:"Chocolate granulado",quantity:"100g",cost:3}],totalIngredientCost:11,estimatedPreparationTime:1.5,difficultyLevel:"Iniciante",suggestedSellingPrice:18.5}),n(!1)},m=()=>{const v=c.ingredients,y=c.laborHours*15,w=(v+y)*(c.overhead/100),b=v+y+w,x=b*(1+c.desiredMargin/100),j=x*c.estimatedDemand;return{profitMargin:(x-b)/x*100,monthlyRevenue:j,unitCost:b,suggestedPrice:x}},h=()=>{if(!c.name){alert("Digite um nome para o cenário");return}const v=m(),y={id:Date.now().toString(),name:c.name,description:`${c.estimatedDemand} unidades/mês, margem ${c.desiredMargin}%`,results:v};l([...o,y]),u(w=>({...w,name:""}))},g=m();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(ae,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900",children:[s.jsx(Le,{className:"h-5 w-5 mr-2"}),"Voltar"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Calculadora Avançada"})]})})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Ii,{className:"h-6 w-6 text-orange-600 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Análise por Foto (IA)"})]}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:e?s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Arquivo: ",e.name]}),r?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto mb-2"}),s.jsx("p",{className:"text-orange-600",children:"Analisando imagem..."})]}):a&&s.jsxs("div",{className:"text-left bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Análise Concluída:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Itens reconhecidos:"})," ",a.recognizedItems.join(", ")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Complexidade:"})," ",a.estimatedComplexity]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Custo estimado:"})," R$ ",a.totalIngredientCost.toFixed(2)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Tempo preparo:"})," ",a.estimatedPreparationTime,"h"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Preço sugerido:"})," R$ ",a.suggestedSellingPrice.toFixed(2)]})]})]}):s.jsxs("div",{children:[s.jsx(Ii,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Envie uma foto do doce para análise automática"}),s.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden",id:"photo-upload"}),s.jsx("label",{htmlFor:"photo-upload",className:"bg-orange-600 text-white px-4 py-2 rounded-lg cursor-pointer hover:bg-orange-700",children:"Escolher Foto"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Ti,{className:"h-6 w-6 text-orange-600 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Cenários de Negócio"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Nome do cenário",value:c.name,onChange:v=>u(y=>({...y,name:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo ingredientes (R$)"}),s.jsx("input",{type:"number",value:c.ingredients,onChange:v=>u(y=>({...y,ingredients:Number(v.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas de trabalho"}),s.jsx("input",{type:"number",step:"0.5",value:c.laborHours,onChange:v=>u(y=>({...y,laborHours:Number(v.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overhead (%)"}),s.jsx("input",{type:"number",value:c.overhead,onChange:v=>u(y=>({...y,overhead:Number(v.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Margem desejada (%)"}),s.jsx("input",{type:"number",value:c.desiredMargin,onChange:v=>u(y=>({...y,desiredMargin:Number(v.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Demanda estimada (unidades/mês)"}),s.jsx("input",{type:"number",value:c.estimatedDemand,onChange:v=>u(y=>({...y,estimatedDemand:Number(v.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Resultado do Cenário:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Custo unitário:"}),s.jsxs("span",{className:"font-semibold ml-2",children:["R$ ",g.unitCost.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Preço sugerido:"}),s.jsxs("span",{className:"font-semibold ml-2",children:["R$ ",g.suggestedPrice.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Margem de lucro:"}),s.jsxs("span",{className:"font-semibold ml-2",children:[g.profitMargin.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Receita mensal:"}),s.jsxs("span",{className:"font-semibold ml-2",children:["R$ ",g.monthlyRevenue.toFixed(2)]})]})]})]}),s.jsxs("button",{onClick:h,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 flex items-center justify-center",children:[s.jsx(jv,{className:"h-4 w-4 mr-2"}),"Salvar Cenário"]})]})]})]}),o.length>0&&s.jsxs("div",{className:"mt-8 bg-white rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Cr,{className:"h-6 w-6 text-orange-600 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Cenários Comparativos"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(v=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:v.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Preço:"}),s.jsxs("span",{className:"font-semibold",children:["R$ ",v.results.suggestedPrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Margem:"}),s.jsxs("span",{className:"font-semibold",children:[v.results.profitMargin.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Receita/mês:"}),s.jsxs("span",{className:"font-semibold",children:["R$ ",v.results.monthlyRevenue.toFixed(2)]})]})]})]},v.id))})]}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(RS,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Dicas Inteligentes"})]}),s.jsxs("div",{className:"space-y-2 text-blue-800",children:[s.jsx("p",{children:"• Considere aumentar a margem de lucro em produtos sazonais"}),s.jsx("p",{children:"• Analise a concorrência antes de definir o preço final"}),s.jsx("p",{children:"• Monitore seus custos mensalmente para manter a rentabilidade"}),s.jsx("p",{children:"• Teste diferentes cenários para encontrar o ponto ótimo de vendas"})]})]})]})]})}function fQ(){return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(ae,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900",children:[s.jsx(Le,{className:"h-5 w-5 mr-2"}),"Voltar"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Catálogo Personalizado"})]})})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🍰 Catálogo Personalizado"}),s.jsx("p",{className:"text-gray-600",children:"Esta página está sendo configurada para o ambiente Replit. Em breve você poderá criar catálogos personalizados para seus produtos."}),s.jsx("div",{className:"mt-6",children:s.jsx(ae,{to:"/dashboard",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700",children:"Voltar ao Dashboard"})})]})})]})}function mQ(){const[e,t]=p.useState([{id:"1",tipo:"receita",valor:450,data:"2025-09-15",categoria:"Vendas Bolos",descricao:"Bolo de Chocolate - Cliente Maria",metodo_pagamento:"pix",fornecedor_cliente:"Maria Silva",extraido_por_ocr:!1,verificado:!0,criado_em:new Date().toISOString()},{id:"2",tipo:"despesa",valor:85.5,data:"2025-09-18",categoria:"Ingredientes",descricao:"Chocolate e Farinha - Supermercado",metodo_pagamento:"cartao_debito",fornecedor_cliente:"Super Atacadão",extraido_por_ocr:!0,verificado:!0,criado_em:new Date().toISOString()}]),[r,n]=p.useState(!1),[a,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(null),d=p.useRef(null),m=(()=>{const b=new Date().toISOString().substring(0,7),x=e.filter(P=>P.data.startsWith(b)),j=x.filter(P=>P.tipo==="receita"),N=x.filter(P=>P.tipo==="despesa"),_=j.reduce((P,O)=>P+O.valor,0),S=N.reduce((P,O)=>P+O.valor,0),C=_-S,A=_>0?C/_*100:0;return{receita_total_mes:_,despesa_total_mes:S,lucro_liquido:C,margem_real:A,transacoes_mes:x.length}})(),h=async(b,x)=>{l(!0),u(null);try{await new Promise(N=>setTimeout(N,3e3));const j={tipo:x,valor:x==="receita"?125.5:45.8,data:new Date().toISOString().substring(0,10),categoria:x==="receita"?"Vendas Docinhos":"Ingredientes",descricao:x==="receita"?"Venda de Brigadeiros":"Açúcar e Manteiga - Mercado",metodo_pagamento:"pix",fornecedor_cliente:x==="receita"?"Cliente Ana":"Mercado Central",extraido_por_ocr:!0,verificado:!1};u(j)}catch{alert("❌ Erro ao processar comprovante. Tente novamente.")}finally{l(!1)}},g=()=>{if(!c)return;const b={...c,id:Date.now().toString(),criado_em:new Date().toISOString()};t(x=>[b,...x]),u(null),n(!1),i(null)},v=b=>{var j;const x=(j=b.target.files)==null?void 0:j[0];x&&a&&h(x,a)},y=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),w=b=>new Date(b+"T00:00:00").toLocaleDateString("pt-BR");return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(ae,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900",children:[s.jsx(Le,{className:"h-5 w-5 mr-2"}),"Voltar"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"💰 Controle Financeiro"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>{i("receita"),n(!0)},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(Cr,{className:"h-4 w-4 mr-2"}),"+ Receita"]}),s.jsxs("button",{onClick:()=>{i("despesa"),n(!0)},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center",children:[s.jsx(bh,{className:"h-4 w-4 mr-2"}),"+ Despesa"]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Receita Total Mês"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:y(m.receita_total_mes)})]}),s.jsx(Cr,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border-l-4 border-red-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Despesas Total Mês"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:y(m.despesa_total_mes)})]}),s.jsx(bh,{className:"h-8 w-8 text-red-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Lucro Líquido"}),s.jsx("p",{className:`text-2xl font-bold ${m.lucro_liquido>=0?"text-blue-600":"text-red-600"}`,children:y(m.lucro_liquido)})]}),s.jsx(Ma,{className:"h-8 w-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Margem Real"}),s.jsxs("p",{className:`text-2xl font-bold ${m.margem_real>=0?"text-purple-600":"text-red-600"}`,children:[m.margem_real.toFixed(1),"%"]})]}),s.jsx(wv,{className:"h-8 w-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"📊 Insights Financeiros"}),s.jsxs("div",{className:"space-y-3",children:[m.margem_real>30&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-green-800 text-sm",children:["🎉 ",s.jsx("strong",{children:"Excelente margem!"})," Sua margem real de ",m.margem_real.toFixed(1),"% está acima da média do setor."]})}),m.margem_real<15&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-yellow-800 text-sm",children:["⚠️ ",s.jsx("strong",{children:"Margem baixa:"})," ",m.margem_real.toFixed(1),"%. Considere revisar seus preços ou reduzir custos."]})}),m.lucro_liquido<0&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-red-800 text-sm",children:["❌ ",s.jsx("strong",{children:"Prejuízo no mês:"})," ",y(Math.abs(m.lucro_liquido)),". Analise suas despesas urgentemente."]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b",children:s.jsx("h2",{className:"text-xl font-semibold",children:"📋 Transações Recentes"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-6 py-3 text-sm font-medium text-gray-900",children:"Data"}),s.jsx("th",{className:"text-left px-6 py-3 text-sm font-medium text-gray-900",children:"Tipo"}),s.jsx("th",{className:"text-left px-6 py-3 text-sm font-medium text-gray-900",children:"Descrição"}),s.jsx("th",{className:"text-left px-6 py-3 text-sm font-medium text-gray-900",children:"Categoria"}),s.jsx("th",{className:"text-left px-6 py-3 text-sm font-medium text-gray-900",children:"Valor"}),s.jsx("th",{className:"text-left px-6 py-3 text-sm font-medium text-gray-900",children:"Status"}),s.jsx("th",{className:"text-left px-6 py-3 text-sm font-medium text-gray-900",children:"Ações"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(b=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:w(b.data)}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b.tipo==="receita"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.tipo==="receita"?s.jsxs(s.Fragment,{children:[s.jsx(Cr,{className:"h-3 w-3 mr-1"})," Receita"]}):s.jsxs(s.Fragment,{children:[s.jsx(bh,{className:"h-3 w-3 mr-1"})," Despesa"]})})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.descricao}),b.fornecedor_cliente&&s.jsx("p",{className:"text-gray-500 text-xs",children:b.fornecedor_cliente})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs",children:b.categoria})}),s.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:s.jsxs("span",{className:b.tipo==="receita"?"text-green-600":"text-red-600",children:[b.tipo==="receita"?"+":"-"," ",y(b.valor)]})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[b.verificado?s.jsx(we,{className:"h-4 w-4 text-green-500"}):s.jsx(Of,{className:"h-4 w-4 text-yellow-500"}),b.extraido_por_ocr&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-1 py-0.5 rounded text-xs",children:"IA"})]})}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(ug,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s.jsx(Aa,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-gray-400 hover:text-red-600",children:s.jsx(Un,{className:"h-4 w-4"})})]})})]},b.id))})]})})]})]}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:a==="receita"?"💰 Adicionar Receita":"💸 Adicionar Despesa"}),c?s.jsxs("div",{children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(we,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("span",{className:"text-green-800 font-medium",children:"Dados Extraídos com IA"})]}),s.jsx("p",{className:"text-green-700 text-sm",children:"Nossa IA processou o comprovante e extraiu os seguintes dados:"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",step:"0.01",value:c.valor||0,onChange:b=>u(x=>({...x,valor:parseFloat(b.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("input",{type:"text",value:c.descricao||"",onChange:b=>u(x=>({...x,descricao:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),s.jsx("input",{type:"date",value:c.data||"",onChange:b=>u(x=>({...x,data:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("select",{value:c.categoria||"",onChange:b=>u(x=>({...x,categoria:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:a==="receita"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Vendas Bolos",children:"Vendas Bolos"}),s.jsx("option",{value:"Vendas Docinhos",children:"Vendas Docinhos"}),s.jsx("option",{value:"Vendas Tortas",children:"Vendas Tortas"}),s.jsx("option",{value:"Encomendas",children:"Encomendas"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Ingredientes",children:"Ingredientes"}),s.jsx("option",{value:"Equipamentos",children:"Equipamentos"}),s.jsx("option",{value:"Embalagens",children:"Embalagens"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Outros",children:"Outros"})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Voltar"}),s.jsx("button",{onClick:g,className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Confirmar Transação"})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a==="receita"?"Faça upload de um comprovante de venda ou nota fiscal":"Faça upload de uma nota fiscal ou comprovante de compra"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-orange-400 transition-colors",onClick:()=>{var b;return(b=d.current)==null?void 0:b.click()},children:[s.jsx(Ra,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:o?"Processando comprovante...":"Clique para selecionar arquivo"}),o&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"bg-orange-100 text-orange-800 px-3 py-2 rounded-lg text-sm",children:"🤖 IA extraindo dados automaticamente..."})})]}),s.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:v,className:"hidden"}),s.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:s.jsx("button",{onClick:()=>{n(!1),i(null),u(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"})})]})]})})]})}function $N(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wO(...e){return t=>{let r=!1;const n=e.map(a=>{const i=$N(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():$N(e[a],null)}}}}function nf(...e){return p.useCallback(wO(...e),e)}function af(e){const t=pQ(e),r=p.forwardRef((n,a)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(vQ);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var hQ=af("Slot");function pQ(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const o=yQ(a),l=xQ(i,a.props);return a.type!==p.Fragment&&(l.ref=n?wO(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gQ=Symbol("radix.slottable");function vQ(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gQ}function xQ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function yQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const LN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,FN=fe,jO=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return FN(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const m=LN(d)||LN(f);return a[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(g=>{let[v,y]=g;return Array.isArray(y)?y.includes({...i,...l}[v]):{...i,...l}[v]===y})?[...u,f,m]:u},[]);return FN(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},zy="-",bQ=e=>{const t=jQ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(zy);return l[0]===""&&l.length!==1&&l.shift(),NO(l,t)||wQ(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},NO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?NO(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(zy);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},BN=/^\[(.+)\]$/,wQ=e=>{if(BN.test(e)){const t=BN.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jQ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return _Q(Object.entries(e.classGroups),r).forEach(([i,o])=>{f0(o,n,i,t)}),n},f0=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:zN(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(NQ(a)){f0(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{f0(o,zN(t,i),r,n)})})},zN=(e,t)=>{let r=e;return t.split(zy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},NQ=e=>e.isThemeGetter,_Q=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,SQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},_O="!",CQ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let w=l[y];if(u===0){if(w===a&&(n||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(w==="/"){f=y;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?l:l.substring(d),h=m.startsWith(_O),g=h?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},kQ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},EQ=e=>({cache:SQ(e.cacheSize),parseClassName:CQ(e),...bQ(e)}),PQ=/\s+/,AQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(PQ);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=r(u);let g=!!h,v=n(g?m.substring(0,h):m);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=kQ(d).join(":"),w=f?y+_O:y,b=w+v;if(i.includes(b))continue;i.push(b);const x=a(v,g);for(let j=0;j<x.length;++j){const N=x[j];i.push(w+N)}l=u+(l.length>0?" "+l:l)}return l};function OQ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=SO(t))&&(n&&(n+=" "),n+=r);return n}const SO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=SO(e[n]))&&(r&&(r+=" "),r+=t);return r};function TQ(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=EQ(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=AQ(c,r);return a(c,d),d}return function(){return i(OQ.apply(null,arguments))}}const Te=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},CO=/^\[(?:([a-z-]+):)?(.+)\]$/i,IQ=/^\d+\/\d+$/,MQ=new Set(["px","full","screen"]),RQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$Q=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vn=e=>Ni(e)||MQ.has(e)||IQ.test(e),ia=e=>po(e,"length",GQ),Ni=e=>!!e&&!Number.isNaN(Number(e)),Zh=e=>po(e,"number",Ni),Io=e=>!!e&&Number.isInteger(Number(e)),BQ=e=>e.endsWith("%")&&Ni(e.slice(0,-1)),le=e=>CO.test(e),oa=e=>RQ.test(e),zQ=new Set(["length","size","percentage"]),UQ=e=>po(e,zQ,kO),qQ=e=>po(e,"position",kO),WQ=new Set(["image","url"]),VQ=e=>po(e,WQ,YQ),KQ=e=>po(e,"",HQ),Mo=()=>!0,po=(e,t,r)=>{const n=CO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},GQ=e=>DQ.test(e)&&!$Q.test(e),kO=()=>!1,HQ=e=>LQ.test(e),YQ=e=>FQ.test(e),XQ=()=>{const e=Te("colors"),t=Te("spacing"),r=Te("blur"),n=Te("brightness"),a=Te("borderColor"),i=Te("borderRadius"),o=Te("borderSpacing"),l=Te("borderWidth"),c=Te("contrast"),u=Te("grayscale"),d=Te("hueRotate"),f=Te("invert"),m=Te("gap"),h=Te("gradientColorStops"),g=Te("gradientColorStopPositions"),v=Te("inset"),y=Te("margin"),w=Te("opacity"),b=Te("padding"),x=Te("saturate"),j=Te("scale"),N=Te("sepia"),_=Te("skew"),S=Te("space"),C=Te("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",le,t],T=()=>[le,t],U=()=>["",vn,ia],q=()=>["auto",Ni,le],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",le],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ni,le];return{cacheSize:500,separator:":",theme:{colors:[Mo],spacing:[vn,ia],blur:["none","",oa,le],brightness:G(),borderColor:[e],borderRadius:["none","","full",oa,le],borderSpacing:T(),borderWidth:U(),contrast:G(),grayscale:z(),hueRotate:G(),invert:z(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[BQ,ia],inset:O(),margin:O(),opacity:G(),padding:T(),saturate:G(),scale:G(),sepia:z(),skew:G(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[oa]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),le]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Io,le]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Io,le]}],"grid-cols":[{"grid-cols":[Mo]}],"col-start-end":[{col:["auto",{span:["full",Io,le]},le]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Mo]}],"row-start-end":[{row:["auto",{span:[Io,le]},le]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,t]}],"min-w":[{"min-w":[le,t,"min","max","fit"]}],"max-w":[{"max-w":[le,t,"none","full","min","max","fit","prose",{screen:[oa]},oa]}],h:[{h:[le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",oa,ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zh]}],"font-family":[{font:[Mo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",Ni,Zh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vn,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vn,ia]}],"underline-offset":[{"underline-offset":["auto",vn,le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),qQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VQ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:E()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[vn,le]}],"outline-w":[{outline:[vn,ia]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[vn,ia]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",oa,KQ]}],"shadow-color":[{shadow:[Mo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",oa,le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Io,le]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vn,ia,Zh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QQ=TQ(XQ);function Lr(...e){return QQ(fe(e))}const JQ=jO("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",doce:"bg-gradient-doce text-white hover:shadow-lg hover:shadow-doce-500/25 hover:scale-105 active:scale-95",success:"bg-green-600 text-white hover:bg-green-700",warning:"bg-yellow-600 text-white hover:bg-yellow-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Uo=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?hQ:"button";return s.jsx(o,{className:Lr(JQ({variant:t,size:r,className:e})),ref:i,...a})});Uo.displayName="Button";const qt=p.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Lr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 input-focus",e),ref:n,...r}));qt.displayName="Input";var ZQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zs=ZQ.reduce((e,t)=>{const r=af(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),eJ="Label",EO=p.forwardRef((e,t)=>s.jsx(zs.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));EO.displayName=eJ;var PO=EO;const tJ=jO("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nt=p.forwardRef(({className:e,...t},r)=>s.jsx(PO,{ref:r,className:Lr(tJ(),e),...t}));nt.displayName=PO.displayName;const Mu=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Lr("rounded-lg border bg-card text-card-foreground shadow-sm card-doce",e),...t}));Mu.displayName="Card";const rJ=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Lr("flex flex-col space-y-1.5 p-6",e),...t}));rJ.displayName="CardHeader";const nJ=p.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Lr("text-2xl font-semibold leading-none tracking-tight",e),...t}));nJ.displayName="CardTitle";const aJ=p.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Lr("text-sm text-muted-foreground",e),...t}));aJ.displayName="CardDescription";const sJ=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Lr("p-6 pt-0",e),...t}));sJ.displayName="CardContent";const iJ=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Lr("flex items-center p-6 pt-0",e),...t}));iJ.displayName="CardFooter";function Rn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Uy(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var w;const{scope:m,children:h,...g}=f,v=((w=m==null?void 0:m[e])==null?void 0:w[c])||l,y=p.useMemo(()=>g,Object.values(g));return s.jsx(v.Provider,{value:y,children:h})};u.displayName=i+"Provider";function d(f,m){var v;const h=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,g=p.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,oJ(a,...t)]}function oJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function lJ(e){const t=e+"CollectionProvider",[r,n]=Uy(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:w}=v,b=yn.useRef(null),x=yn.useRef(new Map).current;return s.jsx(a,{scope:y,itemMap:x,collectionRef:b,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=af(l),u=yn.forwardRef((v,y)=>{const{scope:w,children:b}=v,x=i(l,w),j=nf(y,x.collectionRef);return s.jsx(c,{ref:j,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=af(d),h=yn.forwardRef((v,y)=>{const{scope:w,children:b,...x}=v,j=yn.useRef(null),N=nf(y,j),_=i(d,w);return yn.useEffect(()=>(_.itemMap.set(j,{ref:j,...x}),()=>void _.itemMap.delete(j))),s.jsx(m,{[f]:"",ref:N,children:b})});h.displayName=d;function g(v){const y=i(e+"CollectionConsumer",v);return yn.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((_,S)=>x.indexOf(_.ref.current)-x.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},g,n]}var sf=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},cJ=lf[" useId ".trim().toString()]||(()=>{}),uJ=0;function AO(e){const[t,r]=p.useState(cJ());return sf(()=>{r(n=>n??String(uJ++))},[e]),t?`radix-${t}`:""}function dJ(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var fJ=lf[" useInsertionEffect ".trim().toString()]||sf;function OO({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=mJ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const m=hJ(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function mJ({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),i=p.useRef(t);return fJ(()=>{i.current=t},[t]),p.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function hJ(e){return typeof e=="function"}var pJ=p.createContext(void 0);function TO(e){const t=p.useContext(pJ);return e||t||"ltr"}var ep="rovingFocusGroup.onEntryFocus",gJ={bubbles:!1,cancelable:!0},jc="RovingFocusGroup",[m0,IO,vJ]=lJ(jc),[xJ,MO]=Uy(jc,[vJ]),[yJ,bJ]=xJ(jc),RO=p.forwardRef((e,t)=>s.jsx(m0.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(m0.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(wJ,{...e,ref:t})})}));RO.displayName=jc;var wJ=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=p.useRef(null),h=nf(t,m),g=TO(i),[v,y]=OO({prop:o,defaultProp:l??null,onChange:c,caller:jc}),[w,b]=p.useState(!1),x=dJ(u),j=IO(r),N=p.useRef(!1),[_,S]=p.useState(0);return p.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(ep,x),()=>C.removeEventListener(ep,x)},[x]),s.jsx(yJ,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:v,onItemFocus:p.useCallback(C=>y(C),[y]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>S(C=>C-1),[]),children:s.jsx(zs.div,{tabIndex:w||_===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Rn(e.onMouseDown,()=>{N.current=!0}),onFocus:Rn(e.onFocus,C=>{const A=!N.current;if(C.target===C.currentTarget&&A&&!w){const P=new CustomEvent(ep,gJ);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const O=j().filter(E=>E.focusable),T=O.find(E=>E.active),U=O.find(E=>E.id===v),K=[T,U,...O].filter(Boolean).map(E=>E.ref.current);LO(K,d)}}N.current=!1}),onBlur:Rn(e.onBlur,()=>b(!1))})})}),DO="RovingFocusGroupItem",$O=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=AO(),u=i||c,d=bJ(DO,r),f=d.currentTabStopId===u,m=IO(r),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:v}=d;return p.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),s.jsx(m0.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(zs.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Rn(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Rn(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Rn(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=_J(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=m().filter(j=>j.focusable).map(j=>j.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const j=x.indexOf(y.currentTarget);x=d.loop?SJ(x,j+1):x.slice(j+1)}setTimeout(()=>LO(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});$O.displayName=DO;var jJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _J(e,t,r){const n=NJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return jJ[n]}function LO(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function SJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var CJ=RO,kJ=$O;function EJ(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var FO=e=>{const{present:t,children:r}=e,n=PJ(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=nf(n.ref,AJ(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:i}):null};FO.displayName="Presence";function PJ(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=EJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=uu(n.current);i.current=l==="mounted"?u:"none"},[l]),sf(()=>{const u=n.current,d=a.current;if(d!==e){const m=i.current,h=uu(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),sf(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const v=uu(n.current).includes(CSS.escape(h.animationName));if(h.target===t&&v&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=h=>{h.target===t&&(i.current=uu(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function uu(e){return(e==null?void 0:e.animationName)||"none"}function AJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rm="Tabs",[OJ]=Uy(Rm,[MO]),BO=MO(),[TJ,qy]=OJ(Rm),zO=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=TO(l),[f,m]=OO({prop:n,onChange:a,defaultProp:i??"",caller:Rm});return s.jsx(TJ,{scope:r,baseId:AO(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(zs.div,{dir:d,"data-orientation":o,...u,ref:t})})});zO.displayName=Rm;var UO="TabsList",qO=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=qy(UO,r),o=BO(r);return s.jsx(CJ,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(zs.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});qO.displayName=UO;var WO="TabsTrigger",VO=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=qy(WO,r),l=BO(r),c=HO(o.baseId,n),u=YO(o.baseId,n),d=n===o.value;return s.jsx(kJ,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(zs.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Rn(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Rn(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Rn(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});VO.displayName=WO;var KO="TabsContent",GO=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=qy(KO,r),c=HO(l.baseId,n),u=YO(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(FO,{present:a||d,children:({present:m})=>s.jsx(zs.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});GO.displayName=KO;function HO(e,t){return`${e}-trigger-${t}`}function YO(e,t){return`${e}-content-${t}`}var IJ=zO,XO=qO,QO=VO,JO=GO;const MJ=IJ,ZO=p.forwardRef(({className:e,...t},r)=>s.jsx(XO,{ref:r,className:Lr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ZO.displayName=XO.displayName;const Ru=p.forwardRef(({className:e,...t},r)=>s.jsx(QO,{ref:r,className:Lr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ru.displayName=QO.displayName;const Du=p.forwardRef(({className:e,...t},r)=>s.jsx(JO,{ref:r,className:Lr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Du.displayName=JO.displayName;function RJ(){var _,S;const{user:e,profile:t,updateProfile:r}=Ke(),{toast:n}=Af(),a=Mr(),[i,o]=p.useState(!1),[l,c]=p.useState({}),[u,d]=p.useState({}),[f,m]=p.useState({nome:"",nome_negocio:"",telefone:"",whatsapp:"",instagram:"",endereco:"",cidade:"",estado:"",cep:"",bio:""});p.useEffect(()=>{t&&(m({nome:t.nome||"",nome_negocio:t.nome_negocio||"",telefone:t.telefone||"",whatsapp:t.whatsapp||"",instagram:t.instagram||"",endereco:t.endereco||"",cidade:t.cidade||"",estado:t.estado||"",cep:t.cep||"",bio:t.bio||""}),h())},[t]);const h=async()=>{if(e)try{const{data:C,error:A}=await xe.from("configuracoes_usuario").select("*").eq("user_id",e.id).single();C&&!A&&c({custo_hora_trabalho:C.custo_hora_trabalho||25,margem_padrao:C.margem_padrao||30,moeda:C.moeda||"BRL",fuso_horario:C.fuso_horario||"America/Sao_Paulo",notificacoes_email:C.notificacoes_email??!0,notificacoes_whatsapp:C.notificacoes_whatsapp??!0})}catch(C){console.error("Erro ao carregar configurações:",C)}},g=(C,A)=>{m(P=>({...P,[C]:A}))},v=(C,A)=>{c(P=>({...P,[C]:A}))},y=(C,A)=>{d(P=>({...P,[C]:A}))},w=C=>{const A=C.replace(/\D/g,"");return A.length<=10?A.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):A.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},b=C=>C.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),x=async C=>{const A=C.replace(/\D/g,"");if(A.length===8)try{const O=await(await fetch(`https://viacep.com.br/ws/${A}/json/`)).json();O.erro||m(T=>({...T,endereco:O.logradouro||"",cidade:O.localidade||"",estado:O.uf||""}))}catch(P){console.error("Erro ao buscar CEP:",P)}},j=async()=>{if(e){o(!0);try{await r(f);const{error:C}=await xe.from("configuracoes_usuario").upsert({user_id:e.id,...l,updated_at:new Date().toISOString()});if(C)throw C;n({title:"Perfil salvo!",description:"Suas informações foram atualizadas com sucesso."})}catch(C){n({title:"Erro ao salvar",description:C.message,variant:"destructive"})}finally{o(!1)}}},N=()=>{n({title:"Upload de foto",description:"Funcionalidade será implementada em breve com Cloudinary."})};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(Uo,{variant:"outline",size:"sm",onClick:()=>a("/dashboard"),className:"flex items-center gap-2",children:[s.jsx(Le,{className:"w-4 h-4"}),"Voltar"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Perfil"}),s.jsx("p",{className:"text-gray-600",children:"Gerencie suas informações pessoais e do negócio"})]})]}),s.jsxs(MJ,{defaultValue:"pessoais",className:"w-full",children:[s.jsxs(ZO,{className:"grid w-full grid-cols-3",children:[s.jsxs(Ru,{value:"pessoais",className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4"}),"Dados Pessoais"]}),s.jsxs(Ru,{value:"negocio",className:"flex items-center gap-2",children:[s.jsx(tM,{className:"w-4 h-4"}),"Negócio"]}),s.jsxs(Ru,{value:"configuracoes",className:"flex items-center gap-2",children:[s.jsx(FS,{className:"w-4 h-4"}),"Configurações"]})]}),s.jsx(Du,{value:"pessoais",children:s.jsx(Mu,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 bg-purple-100 rounded-full flex items-center justify-center",children:t!=null&&t.foto_perfil?s.jsx("img",{src:t.foto_perfil,alt:"Foto do perfil",className:"w-24 h-24 rounded-full object-cover"}):s.jsx(Nr,{className:"w-12 h-12 text-purple-600"})}),s.jsxs(Uo,{variant:"outline",onClick:N,className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"w-4 h-4"}),"Alterar Foto"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"nome",children:"Nome Completo *"}),s.jsx(qt,{id:"nome",value:f.nome,onChange:C=>g("nome",C.target.value),placeholder:"Seu nome completo"})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"telefone",children:"Telefone"}),s.jsx(qt,{id:"telefone",value:f.telefone,onChange:C=>g("telefone",w(C.target.value)),placeholder:"(11) 99999-9999",maxLength:15})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"whatsapp",children:"WhatsApp"}),s.jsx(qt,{id:"whatsapp",value:f.whatsapp,onChange:C=>g("whatsapp",w(C.target.value)),placeholder:"(11) 99999-9999",maxLength:15})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"instagram",children:"Instagram"}),s.jsx(qt,{id:"instagram",value:f.instagram,onChange:C=>g("instagram",C.target.value),placeholder:"@seuusuario"})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"cep",children:"CEP"}),s.jsx(qt,{id:"cep",value:f.cep,onChange:C=>{const A=b(C.target.value);g("cep",A),A.length===9&&x(A)},placeholder:"00000-000",maxLength:9})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"endereco",children:"Endereço"}),s.jsx(qt,{id:"endereco",value:f.endereco,onChange:C=>g("endereco",C.target.value),placeholder:"Rua, número, bairro"})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"cidade",children:"Cidade"}),s.jsx(qt,{id:"cidade",value:f.cidade,onChange:C=>g("cidade",C.target.value),placeholder:"Sua cidade"})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"estado",children:"Estado"}),s.jsx(qt,{id:"estado",value:f.estado,onChange:C=>g("estado",C.target.value),placeholder:"UF",maxLength:2})]})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"bio",children:"Biografia / Apresentação"}),s.jsx("textarea",{id:"bio",value:f.bio,onChange:C=>g("bio",C.target.value),placeholder:"Conte um pouco sobre você e sua paixão pela confeitaria...",className:"w-full min-h-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:500}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f.bio.length,"/500 caracteres"]})]})]})})}),s.jsx(Du,{value:"negocio",children:s.jsx(Mu,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"nome_negocio",children:"Nome da Confeitaria *"}),s.jsx(qt,{id:"nome_negocio",value:f.nome_negocio,onChange:C=>g("nome_negocio",C.target.value),placeholder:"Nome do seu negócio"})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"tipo_negocio",children:"Tipo de Negócio"}),s.jsxs("select",{id:"tipo_negocio",value:u.tipo_negocio||"",onChange:C=>y("tipo_negocio",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"hobby",children:"Hobby / Diversão"}),s.jsx("option",{value:"mei",children:"MEI / Microempreendedor"}),s.jsx("option",{value:"empresa",children:"Empresa / Confeitaria"})]})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"tempo_experiencia",children:"Tempo de Experiência (anos)"}),s.jsx(qt,{id:"tempo_experiencia",type:"number",min:"0",max:"50",value:u.tempo_experiencia||"",onChange:C=>y("tempo_experiencia",parseInt(C.target.value)||0),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"numero_funcionarios",children:"Número de Funcionários"}),s.jsx(qt,{id:"numero_funcionarios",type:"number",min:"0",value:u.numero_funcionarios||"",onChange:C=>y("numero_funcionarios",parseInt(C.target.value)||0),placeholder:"0"})]})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"especialidades",children:"Especialidades"}),s.jsx("textarea",{id:"especialidades",value:((_=u.especialidades)==null?void 0:_.join(", "))||"",onChange:C=>y("especialidades",C.target.value.split(",").map(A=>A.trim()).filter(Boolean)),placeholder:"Ex: Bolos personalizados, Brigadeiros gourmet, Tortas geladas, Docinhos finos...",className:"w-full min-h-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Separe por vírgulas"})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"principais_produtos",children:"Principais Produtos"}),s.jsx("textarea",{id:"principais_produtos",value:((S=u.principais_produtos)==null?void 0:S.join(", "))||"",onChange:C=>y("principais_produtos",C.target.value.split(",").map(A=>A.trim()).filter(Boolean)),placeholder:"Ex: Bolo de chocolate, Brigadeiro tradicional, Torta de limão...",className:"w-full min-h-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Separe por vírgulas"})]})]})})}),s.jsx(Du,{value:"configuracoes",children:s.jsx(Mu,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Configurações do Negócio"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"custo_hora",children:"Custo por Hora de Trabalho (R$)"}),s.jsx(qt,{id:"custo_hora",type:"number",min:"0",step:"0.01",value:l.custo_hora_trabalho||"",onChange:C=>v("custo_hora_trabalho",parseFloat(C.target.value)||0),placeholder:"25.00"})]}),s.jsxs("div",{children:[s.jsx(nt,{htmlFor:"margem_padrao",children:"Margem de Lucro Padrão (%)"}),s.jsx(qt,{id:"margem_padrao",type:"number",min:"0",max:"100",value:l.margem_padrao||"",onChange:C=>v("margem_padrao",parseFloat(C.target.value)||0),placeholder:"30"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Notificações"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{id:"notif_email",type:"checkbox",checked:l.notificacoes_email||!1,onChange:C=>v("notificacoes_email",C.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),s.jsx(nt,{htmlFor:"notif_email",children:"Receber notificações por email"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{id:"notif_whats",type:"checkbox",checked:l.notificacoes_whatsapp||!1,onChange:C=>v("notificacoes_whatsapp",C.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),s.jsx(nt,{htmlFor:"notif_whats",children:"Receber notificações por WhatsApp"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Plano Atual"}),s.jsx("div",{className:"p-4 bg-purple-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Plano ",(t==null?void 0:t.plano)==="professional"?"Profissional":"Gratuito"]}),s.jsx("p",{className:"text-sm text-gray-600",children:(t==null?void 0:t.plano)==="professional"?"Acesso a todas as funcionalidades premium":"Funcionalidades básicas disponíveis"})]}),(t==null?void 0:t.plano)==="free"&&s.jsx(Uo,{variant:"outline",onClick:()=>a("/upgrade"),className:"text-purple-600 border-purple-600 hover:bg-purple-50",children:"Fazer Upgrade"})]})})]})]})})})]}),s.jsx("div",{className:"fixed bottom-6 right-6",children:s.jsxs(Uo,{onClick:j,disabled:i,size:"lg",className:"bg-purple-600 hover:bg-purple-700 shadow-lg flex items-center gap-2",children:[s.jsx(jv,{className:"w-4 h-4"}),i?"Salvando...":"Salvar Alterações"]})})]})})}const DJ=()=>{const{profile:e,updateProfile:t}=Ke();if(!e)return null;const r=async()=>{if(confirm("Resetar seu plano para FREE para testar a funcionalidade de upgrade?"))try{await t({plano:"free"}),alert("Plano resetado para FREE! Agora você pode testar o upgrade.")}catch(n){console.error("Erro ao resetar plano:",n)}};return e.plano==="free"?null:s.jsx("button",{onClick:r,className:"fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-600 transition-colors z-50",children:"Resetar para FREE (Teste)"})};function $J(){return s.jsx(E5,{children:s.jsx(X6,{children:s.jsxs("div",{className:"w-full min-h-screen bg-background text-foreground",children:[s.jsxs(b5,{children:[s.jsx(ge,{path:"/",element:s.jsx(bM,{})}),s.jsx(ge,{path:"/login",element:s.jsx(wM,{})}),s.jsx(ge,{path:"/reset-password",element:s.jsx(yM,{})}),s.jsx(ge,{path:"/dashboard",element:s.jsx(Ee,{children:s.jsx(PM,{})})}),s.jsx(ge,{path:"/calculadora",element:s.jsx(Ee,{children:s.jsx(TM,{})})}),s.jsx(ge,{path:"/receitas",element:s.jsx(Ee,{children:s.jsx(WM,{})})}),s.jsx(ge,{path:"/ingredientes",element:s.jsx(Ee,{children:s.jsx(VM,{})})}),s.jsx(ge,{path:"/clientes",element:s.jsx(Ee,{children:s.jsx(KM,{})})}),s.jsx(ge,{path:"/orcamentos",element:s.jsx(Ee,{children:s.jsx(MR,{})})}),s.jsx(ge,{path:"/relatorios",element:s.jsx(Ee,{requiresPro:!0,children:s.jsx(RR,{})})}),s.jsx(ge,{path:"/relatorios-avancados",element:s.jsx(Ee,{requiresPro:!0,children:s.jsx(SX,{})})}),s.jsx(ge,{path:"/ferramentas",element:s.jsx(Ee,{children:s.jsx(CX,{})})}),s.jsx(ge,{path:"/upgrade",element:s.jsx(Ee,{children:s.jsx(kX,{})})}),s.jsx(ge,{path:"/upgrade/pix",element:s.jsx(Ee,{children:s.jsx(EX,{})})}),s.jsx(ge,{path:"/upgrade/stripe",element:s.jsx(Ee,{children:s.jsx(PX,{})})}),s.jsx(ge,{path:"/upgrade-success",element:s.jsx(Ee,{children:s.jsx(AX,{})})}),s.jsx(ge,{path:"/subscription",element:s.jsx(Ee,{children:s.jsx(OX,{})})}),s.jsx(ge,{path:"/como-usar",element:s.jsx(Ee,{children:s.jsx(TX,{})})}),s.jsx(ge,{path:"/meu-catalogo",element:s.jsx(Ee,{children:s.jsx(IX,{})})}),s.jsx(ge,{path:"/catalogo/:userId",element:s.jsx(MX,{})}),s.jsx(ge,{path:"/encomendas",element:s.jsx(Ee,{children:s.jsx(RX,{})})}),s.jsx(ge,{path:"/comunidade",element:s.jsx(Ee,{children:s.jsx(DX,{})})}),s.jsx(ge,{path:"/backup-emergencial",element:s.jsx(Ee,{children:s.jsx($X,{})})}),s.jsx(ge,{path:"/credit-test",element:s.jsx(Ee,{children:s.jsx(LX,{})})}),s.jsx(ge,{path:"/ai-assistant",element:s.jsx(Ee,{children:s.jsx(iQ,{})})}),s.jsx(ge,{path:"/marketplace",element:s.jsx(Ee,{children:s.jsx(uQ,{})})}),s.jsx(ge,{path:"/advanced-calculator",element:s.jsx(Ee,{children:s.jsx(dQ,{})})}),s.jsx(ge,{path:"/custom-catalog",element:s.jsx(Ee,{children:s.jsx(fQ,{})})}),s.jsx(ge,{path:"/financeiro",element:s.jsx(Ee,{children:s.jsx(mQ,{})})}),s.jsx(ge,{path:"/perfil",element:s.jsx(Ee,{children:s.jsx(RJ,{})})})]}),s.jsx(DJ,{})]})})})}tp.createRoot(document.getElementById("root")).render(s.jsx(yn.StrictMode,{children:s.jsx($J,{})}));
