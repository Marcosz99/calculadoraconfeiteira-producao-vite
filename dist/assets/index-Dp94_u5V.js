var o4=Object.defineProperty;var l4=(e,t,r)=>t in e?o4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Lh=(e,t,r)=>l4(e,typeof t!="symbol"?t+"":t,r);function c4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function na(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u4(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var HN={exports:{}},uf={},YN={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),d4=Symbol.for("react.portal"),f4=Symbol.for("react.fragment"),h4=Symbol.for("react.strict_mode"),m4=Symbol.for("react.profiler"),p4=Symbol.for("react.provider"),g4=Symbol.for("react.context"),x4=Symbol.for("react.forward_ref"),v4=Symbol.for("react.suspense"),y4=Symbol.for("react.memo"),b4=Symbol.for("react.lazy"),Gy=Symbol.iterator;function w4(e){return e===null||typeof e!="object"?null:(e=Gy&&e[Gy]||e["@@iterator"],typeof e=="function"?e:null)}var XN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QN=Object.assign,JN={};function lo(e,t,r){this.props=e,this.context=t,this.refs=JN,this.updater=r||XN}lo.prototype.isReactComponent={};lo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ZN(){}ZN.prototype=lo.prototype;function g0(e,t,r){this.props=e,this.context=t,this.refs=JN,this.updater=r||XN}var x0=g0.prototype=new ZN;x0.constructor=g0;QN(x0,lo.prototype);x0.isPureReactComponent=!0;var Hy=Array.isArray,e_=Object.prototype.hasOwnProperty,v0={current:null},t_={key:!0,ref:!0,__self:!0,__source:!0};function r_(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)e_.call(t,n)&&!t_.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ec,type:e,key:i,ref:o,props:a,_owner:v0.current}}function j4(e,t){return{$$typeof:ec,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function y0(e){return typeof e=="object"&&e!==null&&e.$$typeof===ec}function N4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yy=/\/+/g;function Fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N4(""+e.key):t.toString(36)}function wu(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ec:case d4:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Fh(o,0):n,Hy(a)?(r="",e!=null&&(r=e.replace(Yy,"$&/")+"/"),wu(a,t,r,"",function(u){return u})):a!=null&&(y0(a)&&(a=j4(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Yy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Hy(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Fh(i,l);o+=wu(i,t,r,c,a)}else if(c=w4(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Fh(i,l++),o+=wu(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ic(e,t,r){if(e==null)return e;var n=[],a=0;return wu(e,n,"","",function(i){return t.call(r,i,a++)}),n}function _4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gt={current:null},ju={transition:null},S4={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:ju,ReactCurrentOwner:v0};function n_(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Ic,forEach:function(e,t,r){Ic(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ic(e,function(){t++}),t},toArray:function(e){return Ic(e,function(t){return t})||[]},only:function(e){if(!y0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=lo;fe.Fragment=f4;fe.Profiler=m4;fe.PureComponent=g0;fe.StrictMode=h4;fe.Suspense=v4;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S4;fe.act=n_;fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=QN({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=v0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)e_.call(t,c)&&!t_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ec,type:e.type,key:a,ref:i,props:n,_owner:o}};fe.createContext=function(e){return e={$$typeof:g4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p4,_context:e},e.Consumer=e};fe.createElement=r_;fe.createFactory=function(e){var t=r_.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:x4,render:e}};fe.isValidElement=y0;fe.lazy=function(e){return{$$typeof:b4,_payload:{_status:-1,_result:e},_init:_4}};fe.memo=function(e,t){return{$$typeof:y4,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=ju.transition;ju.transition={};try{e()}finally{ju.transition=t}};fe.unstable_act=n_;fe.useCallback=function(e,t){return Gt.current.useCallback(e,t)};fe.useContext=function(e){return Gt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return Gt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return Gt.current.useEffect(e,t)};fe.useId=function(){return Gt.current.useId()};fe.useImperativeHandle=function(e,t,r){return Gt.current.useImperativeHandle(e,t,r)};fe.useInsertionEffect=function(e,t){return Gt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Gt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Gt.current.useMemo(e,t)};fe.useReducer=function(e,t,r){return Gt.current.useReducer(e,t,r)};fe.useRef=function(e){return Gt.current.useRef(e)};fe.useState=function(e){return Gt.current.useState(e)};fe.useSyncExternalStore=function(e,t,r){return Gt.current.useSyncExternalStore(e,t,r)};fe.useTransition=function(){return Gt.current.useTransition()};fe.version="18.3.1";YN.exports=fe;var p=YN.exports;const En=na(p),df=c4({__proto__:null,default:En},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4=p,k4=Symbol.for("react.element"),E4=Symbol.for("react.fragment"),P4=Object.prototype.hasOwnProperty,A4=C4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O4={key:!0,ref:!0,__self:!0,__source:!0};function a_(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)P4.call(t,n)&&!O4.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:k4,type:e,key:i,ref:o,props:a,_owner:A4.current}}uf.Fragment=E4;uf.jsx=a_;uf.jsxs=a_;HN.exports=uf;var s=HN.exports,ap={},s_={exports:{}},vr={},i_={exports:{}},o_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,B){var V=R.length;R.push(B);e:for(;0<V;){var X=V-1>>>1,Q=R[X];if(0<a(Q,B))R[X]=B,R[V]=Q,V=X;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var B=R[0],V=R.pop();if(V!==B){R[0]=V;e:for(var X=0,Q=R.length,Be=Q>>>1;X<Be;){var Pe=2*(X+1)-1,Se=R[Pe],St=Pe+1,Ze=R[St];if(0>a(Se,V))St<Q&&0>a(Ze,Se)?(R[X]=Ze,R[St]=V,X=St):(R[X]=Se,R[Pe]=V,X=Pe);else if(St<Q&&0>a(Ze,V))R[X]=Ze,R[St]=V,X=St;else break e}}return B}function a(R,B){var V=R.sortIndex-B.sortIndex;return V!==0?V:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=R)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function w(R){if(x=!1,v(R),!g)if(r(c)!==null)g=!0,E(N);else{var B=r(u);B!==null&&k(w,B.startTime-R)}}function N(R,B){g=!1,x&&(x=!1,b(C),C=-1),m=!0;var V=h;try{for(v(B),f=r(c);f!==null&&(!(f.expirationTime>B)||R&&!P());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var Q=X(f.expirationTime<=B);B=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(c)&&n(c),v(B)}else n(c);f=r(c)}if(f!==null)var Be=!0;else{var Pe=r(u);Pe!==null&&k(w,Pe.startTime-B),Be=!1}return Be}finally{f=null,h=V,m=!1}}var _=!1,S=null,C=-1,T=5,O=-1;function P(){return!(e.unstable_now()-O<T)}function A(){if(S!==null){var R=e.unstable_now();O=R;var B=!0;try{B=S(!0,R)}finally{B?F():(_=!1,S=null)}}else _=!1}var F;if(typeof j=="function")F=function(){j(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,q=z.port2;z.port1.onmessage=A,F=function(){q.postMessage(null)}}else F=function(){y(A,0)};function E(R){S=R,_||(_=!0,F())}function k(R,B){C=y(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,E(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var V=h;h=B;try{return R()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=h;h=R;try{return B()}finally{h=V}},e.unstable_scheduleCallback=function(R,B,V){var X=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=V+Q,R={id:d++,callback:B,priorityLevel:R,startTime:V,expirationTime:Q,sortIndex:-1},V>X?(R.sortIndex=V,t(u,R),r(c)===null&&R===r(u)&&(x?(b(C),C=-1):x=!0,k(w,V-X))):(R.sortIndex=Q,t(c,R),g||m||(g=!0,E(N))),R},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(R){var B=h;return function(){var V=h;h=B;try{return R.apply(this,arguments)}finally{h=V}}}})(o_);i_.exports=o_;var T4=i_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4=p,pr=T4;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l_=new Set,bl={};function Gs(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(bl[e]=t,e=0;e<t.length;e++)l_.add(t[e])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=Object.prototype.hasOwnProperty,M4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xy={},Qy={};function R4(e){return sp.call(Qy,e)?!0:sp.call(Xy,e)?!1:M4.test(e)?Qy[e]=!0:(Xy[e]=!0,!1)}function D4(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $4(e,t,r,n){if(t===null||typeof t>"u"||D4(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ht(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new Ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new Ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new Ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new Ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new Ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new Ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new Ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new Ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new Ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var b0=/[\-:]([a-z])/g;function w0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b0,w0);Ot[t]=new Ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b0,w0);Ot[t]=new Ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b0,w0);Ot[t]=new Ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new Ht(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new Ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function j0(e,t,r,n){var a=Ot.hasOwnProperty(t)?Ot[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($4(t,r,a,n)&&(r=null),n||a===null?R4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var aa=I4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=Symbol.for("react.element"),hi=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),u_=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),S0=Symbol.for("react.memo"),wa=Symbol.for("react.lazy"),d_=Symbol.for("react.offscreen"),Jy=Symbol.iterator;function To(e){return e===null||typeof e!="object"?null:(e=Jy&&e[Jy]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,Bh;function Qo(e){if(Bh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bh=t&&t[1]||""}return`
`+Bh+e}var zh=!1;function Uh(e,t){if(!e||zh)return"";zh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{zh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qo(e):""}function L4(e){switch(e.tag){case 5:return Qo(e.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return e=Uh(e.type,!1),e;case 11:return e=Uh(e.type.render,!1),e;case 1:return e=Uh(e.type,!0),e;default:return""}}function cp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mi:return"Fragment";case hi:return"Portal";case ip:return"Profiler";case N0:return"StrictMode";case op:return"Suspense";case lp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case u_:return(e.displayName||"Context")+".Consumer";case c_:return(e._context.displayName||"Context")+".Provider";case _0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S0:return t=e.displayName||null,t!==null?t:cp(e.type)||"Memo";case wa:t=e._payload,e=e._init;try{return cp(e(t))}catch{}}return null}function F4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cp(t);case 8:return t===N0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Va(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function f_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B4(e){var t=f_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rc(e){e._valueTracker||(e._valueTracker=B4(e))}function h_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=f_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function up(e,t){var r=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Va(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function m_(e,t){t=t.checked,t!=null&&j0(e,"checked",t,!1)}function dp(e,t){m_(e,t);var r=Va(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fp(e,t.type,r):t.hasOwnProperty("defaultValue")&&fp(e,t.type,Va(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function eb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fp(e,t,r){(t!=="number"||zu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jo=Array.isArray;function Ci(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Va(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function hp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(K(92));if(Jo(r)){if(1<r.length)throw Error(K(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Va(r)}}function p_(e,t){var r=Va(t.value),n=Va(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function rb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function g_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?g_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dc,x_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dc=Dc||document.createElement("div"),Dc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z4=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(e){z4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),al[t]=al[e]})});function v_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||al.hasOwnProperty(e)&&al[e]?(""+t).trim():t+"px"}function y_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=v_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var U4=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(e,t){if(t){if(U4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function gp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=null;function C0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vp=null,ki=null,Ei=null;function nb(e){if(e=nc(e)){if(typeof vp!="function")throw Error(K(280));var t=e.stateNode;t&&(t=gf(t),vp(e.stateNode,e.type,t))}}function b_(e){ki?Ei?Ei.push(e):Ei=[e]:ki=e}function w_(){if(ki){var e=ki,t=Ei;if(Ei=ki=null,nb(e),t)for(e=0;e<t.length;e++)nb(t[e])}}function j_(e,t){return e(t)}function N_(){}var qh=!1;function __(e,t,r){if(qh)return e(t,r);qh=!0;try{return j_(e,t,r)}finally{qh=!1,(ki!==null||Ei!==null)&&(N_(),w_())}}function jl(e,t){var r=e.stateNode;if(r===null)return null;var n=gf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,t,typeof r));return r}var yp=!1;if(Vn)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){yp=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{yp=!1}function q4(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var sl=!1,Uu=null,qu=!1,bp=null,W4={onError:function(e){sl=!0,Uu=e}};function V4(e,t,r,n,a,i,o,l,c){sl=!1,Uu=null,q4.apply(W4,arguments)}function K4(e,t,r,n,a,i,o,l,c){if(V4.apply(this,arguments),sl){if(sl){var u=Uu;sl=!1,Uu=null}else throw Error(K(198));qu||(qu=!0,bp=u)}}function Hs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function S_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ab(e){if(Hs(e)!==e)throw Error(K(188))}function G4(e){var t=e.alternate;if(!t){if(t=Hs(e),t===null)throw Error(K(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ab(a),e;if(i===n)return ab(a),t;i=i.sibling}throw Error(K(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:t}function C_(e){return e=G4(e),e!==null?k_(e):null}function k_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=k_(e);if(t!==null)return t;e=e.sibling}return null}var E_=pr.unstable_scheduleCallback,sb=pr.unstable_cancelCallback,H4=pr.unstable_shouldYield,Y4=pr.unstable_requestPaint,rt=pr.unstable_now,X4=pr.unstable_getCurrentPriorityLevel,k0=pr.unstable_ImmediatePriority,P_=pr.unstable_UserBlockingPriority,Wu=pr.unstable_NormalPriority,Q4=pr.unstable_LowPriority,A_=pr.unstable_IdlePriority,ff=null,pn=null;function J4(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ff,e,void 0,(e.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:tT,Z4=Math.log,eT=Math.LN2;function tT(e){return e>>>=0,e===0?32:31-(Z4(e)/eT|0)|0}var $c=64,Lc=4194304;function Zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Zo(l):(i&=o,i!==0&&(n=Zo(i)))}else o=r&~a,o!==0?n=Zo(o):i!==0&&(n=Zo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zr(t),a=1<<r,n|=e[r],t&=~a;return n}function rT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=rT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function O_(){var e=$c;return $c<<=1,!($c&4194240)&&($c=64),e}function Wh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function tc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zr(t),e[t]=r}function aT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Zr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function E0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var we=0;function T_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var I_,P0,M_,R_,D_,jp=!1,Fc=[],Ra=null,Da=null,$a=null,Nl=new Map,_l=new Map,Sa=[],sT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ib(e,t){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(t.pointerId)}}function Mo(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=nc(t),t!==null&&P0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function iT(e,t,r,n,a){switch(t){case"focusin":return Ra=Mo(Ra,e,t,r,n,a),!0;case"dragenter":return Da=Mo(Da,e,t,r,n,a),!0;case"mouseover":return $a=Mo($a,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Nl.set(i,Mo(Nl.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,_l.set(i,Mo(_l.get(i)||null,e,t,r,n,a)),!0}return!1}function $_(e){var t=ys(e.target);if(t!==null){var r=Hs(t);if(r!==null){if(t=r.tag,t===13){if(t=S_(r),t!==null){e.blockedOn=t,D_(e.priority,function(){M_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Np(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xp=n,r.target.dispatchEvent(n),xp=null}else return t=nc(r),t!==null&&P0(t),e.blockedOn=r,!1;t.shift()}return!0}function ob(e,t,r){Nu(e)&&r.delete(t)}function oT(){jp=!1,Ra!==null&&Nu(Ra)&&(Ra=null),Da!==null&&Nu(Da)&&(Da=null),$a!==null&&Nu($a)&&($a=null),Nl.forEach(ob),_l.forEach(ob)}function Ro(e,t){e.blockedOn===t&&(e.blockedOn=null,jp||(jp=!0,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,oT)))}function Sl(e){function t(a){return Ro(a,e)}if(0<Fc.length){Ro(Fc[0],e);for(var r=1;r<Fc.length;r++){var n=Fc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ra!==null&&Ro(Ra,e),Da!==null&&Ro(Da,e),$a!==null&&Ro($a,e),Nl.forEach(t),_l.forEach(t),r=0;r<Sa.length;r++)n=Sa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sa.length&&(r=Sa[0],r.blockedOn===null);)$_(r),r.blockedOn===null&&Sa.shift()}var Pi=aa.ReactCurrentBatchConfig,Ku=!0;function lT(e,t,r,n){var a=we,i=Pi.transition;Pi.transition=null;try{we=1,A0(e,t,r,n)}finally{we=a,Pi.transition=i}}function cT(e,t,r,n){var a=we,i=Pi.transition;Pi.transition=null;try{we=4,A0(e,t,r,n)}finally{we=a,Pi.transition=i}}function A0(e,t,r,n){if(Ku){var a=Np(e,t,r,n);if(a===null)em(e,t,n,Gu,r),ib(e,n);else if(iT(a,e,t,r,n))n.stopPropagation();else if(ib(e,n),t&4&&-1<sT.indexOf(e)){for(;a!==null;){var i=nc(a);if(i!==null&&I_(i),i=Np(e,t,r,n),i===null&&em(e,t,n,Gu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else em(e,t,n,null,r)}}var Gu=null;function Np(e,t,r,n){if(Gu=null,e=C0(n),e=ys(e),e!==null)if(t=Hs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=S_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gu=e,null}function L_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X4()){case k0:return 1;case P_:return 4;case Wu:case Q4:return 16;case A_:return 536870912;default:return 16}default:return 16}}var Pa=null,O0=null,_u=null;function F_(){if(_u)return _u;var e,t=O0,r=t.length,n,a="value"in Pa?Pa.value:Pa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return _u=a.slice(e,1<n?1-n:void 0)}function Su(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bc(){return!0}function lb(){return!1}function yr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bc:lb,this.isPropagationStopped=lb,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T0=yr(co),rc=Ye({},co,{view:0,detail:0}),uT=yr(rc),Vh,Kh,Do,hf=Ye({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Do&&(Do&&e.type==="mousemove"?(Vh=e.screenX-Do.screenX,Kh=e.screenY-Do.screenY):Kh=Vh=0,Do=e),Vh)},movementY:function(e){return"movementY"in e?e.movementY:Kh}}),cb=yr(hf),dT=Ye({},hf,{dataTransfer:0}),fT=yr(dT),hT=Ye({},rc,{relatedTarget:0}),Gh=yr(hT),mT=Ye({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),pT=yr(mT),gT=Ye({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xT=yr(gT),vT=Ye({},co,{data:0}),ub=yr(vT),yT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wT[e])?!!t[e]:!1}function I0(){return jT}var NT=Ye({},rc,{key:function(e){if(e.key){var t=yT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Su(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I0,charCode:function(e){return e.type==="keypress"?Su(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Su(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_T=yr(NT),ST=Ye({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),db=yr(ST),CT=Ye({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I0}),kT=yr(CT),ET=Ye({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),PT=yr(ET),AT=Ye({},hf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OT=yr(AT),TT=[9,13,27,32],M0=Vn&&"CompositionEvent"in window,il=null;Vn&&"documentMode"in document&&(il=document.documentMode);var IT=Vn&&"TextEvent"in window&&!il,B_=Vn&&(!M0||il&&8<il&&11>=il),fb=" ",hb=!1;function z_(e,t){switch(e){case"keyup":return TT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pi=!1;function MT(e,t){switch(e){case"compositionend":return U_(t);case"keypress":return t.which!==32?null:(hb=!0,fb);case"textInput":return e=t.data,e===fb&&hb?null:e;default:return null}}function RT(e,t){if(pi)return e==="compositionend"||!M0&&z_(e,t)?(e=F_(),_u=O0=Pa=null,pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return B_&&t.locale!=="ko"?null:t.data;default:return null}}var DT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!DT[e.type]:t==="textarea"}function q_(e,t,r,n){b_(n),t=Hu(t,"onChange"),0<t.length&&(r=new T0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ol=null,Cl=null;function $T(e){e2(e,0)}function mf(e){var t=vi(e);if(h_(t))return e}function LT(e,t){if(e==="change")return t}var W_=!1;if(Vn){var Hh;if(Vn){var Yh="oninput"in document;if(!Yh){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),Yh=typeof pb.oninput=="function"}Hh=Yh}else Hh=!1;W_=Hh&&(!document.documentMode||9<document.documentMode)}function gb(){ol&&(ol.detachEvent("onpropertychange",V_),Cl=ol=null)}function V_(e){if(e.propertyName==="value"&&mf(Cl)){var t=[];q_(t,Cl,e,C0(e)),__($T,t)}}function FT(e,t,r){e==="focusin"?(gb(),ol=t,Cl=r,ol.attachEvent("onpropertychange",V_)):e==="focusout"&&gb()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mf(Cl)}function zT(e,t){if(e==="click")return mf(t)}function UT(e,t){if(e==="input"||e==="change")return mf(t)}function qT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:qT;function kl(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!sp.call(t,a)||!an(e[a],t[a]))return!1}return!0}function xb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vb(e,t){var r=xb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xb(r)}}function K_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?K_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function G_(){for(var e=window,t=zu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zu(e.document)}return t}function R0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WT(e){var t=G_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&K_(r.ownerDocument.documentElement,r)){if(n!==null&&R0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=vb(r,i);var o=vb(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VT=Vn&&"documentMode"in document&&11>=document.documentMode,gi=null,_p=null,ll=null,Sp=!1;function yb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sp||gi==null||gi!==zu(n)||(n=gi,"selectionStart"in n&&R0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ll&&kl(ll,n)||(ll=n,n=Hu(_p,"onSelect"),0<n.length&&(t=new T0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gi)))}function zc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xi={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},Xh={},H_={};Vn&&(H_=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function pf(e){if(Xh[e])return Xh[e];if(!xi[e])return e;var t=xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in H_)return Xh[e]=t[r];return e}var Y_=pf("animationend"),X_=pf("animationiteration"),Q_=pf("animationstart"),J_=pf("transitionend"),Z_=new Map,bb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qa(e,t){Z_.set(e,t),Gs(t,[e])}for(var Qh=0;Qh<bb.length;Qh++){var Jh=bb[Qh],KT=Jh.toLowerCase(),GT=Jh[0].toUpperCase()+Jh.slice(1);Qa(KT,"on"+GT)}Qa(Y_,"onAnimationEnd");Qa(X_,"onAnimationIteration");Qa(Q_,"onAnimationStart");Qa("dblclick","onDoubleClick");Qa("focusin","onFocus");Qa("focusout","onBlur");Qa(J_,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function wb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,K4(n,t,void 0,e),e.currentTarget=null}function e2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;wb(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;wb(a,l,u),i=c}}}if(qu)throw e=bp,qu=!1,bp=null,e}function Re(e,t){var r=t[Ap];r===void 0&&(r=t[Ap]=new Set);var n=e+"__bubble";r.has(n)||(t2(t,e,2,!1),r.add(n))}function Zh(e,t,r){var n=0;t&&(n|=4),t2(r,e,n,t)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function El(e){if(!e[Uc]){e[Uc]=!0,l_.forEach(function(r){r!=="selectionchange"&&(HT.has(r)||Zh(r,!1,e),Zh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uc]||(t[Uc]=!0,Zh("selectionchange",!1,t))}}function t2(e,t,r,n){switch(L_(t)){case 1:var a=lT;break;case 4:a=cT;break;default:a=A0}r=a.bind(null,t,r,e),a=void 0,!yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function em(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ys(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}__(function(){var u=i,d=C0(r),f=[];e:{var h=Z_.get(e);if(h!==void 0){var m=T0,g=e;switch(e){case"keypress":if(Su(r)===0)break e;case"keydown":case"keyup":m=_T;break;case"focusin":g="focus",m=Gh;break;case"focusout":g="blur",m=Gh;break;case"beforeblur":case"afterblur":m=Gh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kT;break;case Y_:case X_:case Q_:m=pT;break;case J_:m=PT;break;case"scroll":m=uT;break;case"wheel":m=OT;break;case"copy":case"cut":case"paste":m=xT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=db}var x=(t&4)!==0,y=!x&&e==="scroll",b=x?h!==null?h+"Capture":null:h;x=[];for(var j=u,v;j!==null;){v=j;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,b!==null&&(w=jl(j,b),w!=null&&x.push(Pl(j,w,v)))),y)break;j=j.return}0<x.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==xp&&(g=r.relatedTarget||r.fromElement)&&(ys(g)||g[Kn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?ys(g):null,g!==null&&(y=Hs(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(x=cb,w="onMouseLeave",b="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(x=db,w="onPointerLeave",b="onPointerEnter",j="pointer"),y=m==null?h:vi(m),v=g==null?h:vi(g),h=new x(w,j+"leave",m,r,d),h.target=y,h.relatedTarget=v,w=null,ys(d)===u&&(x=new x(b,j+"enter",g,r,d),x.target=v,x.relatedTarget=y,w=x),y=w,m&&g)t:{for(x=m,b=g,j=0,v=x;v;v=ni(v))j++;for(v=0,w=b;w;w=ni(w))v++;for(;0<j-v;)x=ni(x),j--;for(;0<v-j;)b=ni(b),v--;for(;j--;){if(x===b||b!==null&&x===b.alternate)break t;x=ni(x),b=ni(b)}x=null}else x=null;m!==null&&jb(f,h,m,x,!1),g!==null&&y!==null&&jb(f,y,g,x,!0)}}e:{if(h=u?vi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=LT;else if(mb(h))if(W_)N=UT;else{N=BT;var _=FT}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=zT);if(N&&(N=N(e,u))){q_(f,N,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&fp(h,"number",h.value)}switch(_=u?vi(u):window,e){case"focusin":(mb(_)||_.contentEditable==="true")&&(gi=_,_p=u,ll=null);break;case"focusout":ll=_p=gi=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,yb(f,r,d);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":yb(f,r,d)}var S;if(M0)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else pi?z_(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(B_&&r.locale!=="ko"&&(pi||C!=="onCompositionStart"?C==="onCompositionEnd"&&pi&&(S=F_()):(Pa=d,O0="value"in Pa?Pa.value:Pa.textContent,pi=!0)),_=Hu(u,C),0<_.length&&(C=new ub(C,e,null,r,d),f.push({event:C,listeners:_}),S?C.data=S:(S=U_(r),S!==null&&(C.data=S)))),(S=IT?MT(e,r):RT(e,r))&&(u=Hu(u,"onBeforeInput"),0<u.length&&(d=new ub("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}e2(f,t)})}function Pl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=jl(e,r),i!=null&&n.unshift(Pl(e,i,a)),i=jl(e,t),i!=null&&n.push(Pl(e,i,a))),e=e.return}return n}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jb(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=jl(r,i),c!=null&&o.unshift(Pl(r,c,l))):a||(c=jl(r,i),c!=null&&o.push(Pl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var YT=/\r\n?/g,XT=/\u0000|\uFFFD/g;function Nb(e){return(typeof e=="string"?e:""+e).replace(YT,`
`).replace(XT,"")}function qc(e,t,r){if(t=Nb(t),Nb(e)!==t&&r)throw Error(K(425))}function Yu(){}var Cp=null,kp=null;function Ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,QT=typeof clearTimeout=="function"?clearTimeout:void 0,_b=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof _b<"u"?function(e){return _b.resolve(null).then(e).catch(ZT)}:Pp;function ZT(e){setTimeout(function(){throw e})}function tm(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Sl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Sl(t)}function La(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),fn="__reactFiber$"+uo,Al="__reactProps$"+uo,Kn="__reactContainer$"+uo,Ap="__reactEvents$"+uo,eI="__reactListeners$"+uo,tI="__reactHandles$"+uo;function ys(e){var t=e[fn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kn]||r[fn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Sb(e);e!==null;){if(r=e[fn])return r;e=Sb(e)}return t}e=r,r=e.parentNode}return null}function nc(e){return e=e[fn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function gf(e){return e[Al]||null}var Op=[],yi=-1;function Ja(e){return{current:e}}function $e(e){0>yi||(e.current=Op[yi],Op[yi]=null,yi--)}function Te(e,t){yi++,Op[yi]=e.current,e.current=t}var Ka={},Bt=Ja(Ka),rr=Ja(!1),Ms=Ka;function Fi(e,t){var r=e.type.contextTypes;if(!r)return Ka;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function nr(e){return e=e.childContextTypes,e!=null}function Xu(){$e(rr),$e(Bt)}function Cb(e,t,r){if(Bt.current!==Ka)throw Error(K(168));Te(Bt,t),Te(rr,r)}function r2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(K(108,F4(e)||"Unknown",a));return Ye({},r,n)}function Qu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ka,Ms=Bt.current,Te(Bt,e),Te(rr,rr.current),!0}function kb(e,t,r){var n=e.stateNode;if(!n)throw Error(K(169));r?(e=r2(e,t,Ms),n.__reactInternalMemoizedMergedChildContext=e,$e(rr),$e(Bt),Te(Bt,e)):$e(rr),Te(rr,r)}var On=null,xf=!1,rm=!1;function n2(e){On===null?On=[e]:On.push(e)}function rI(e){xf=!0,n2(e)}function Za(){if(!rm&&On!==null){rm=!0;var e=0,t=we;try{var r=On;for(we=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}On=null,xf=!1}catch(a){throw On!==null&&(On=On.slice(e+1)),E_(k0,Za),a}finally{we=t,rm=!1}}return null}var bi=[],wi=0,Ju=null,Zu=0,Er=[],Pr=0,Rs=null,Mn=1,Rn="";function fs(e,t){bi[wi++]=Zu,bi[wi++]=Ju,Ju=e,Zu=t}function a2(e,t,r){Er[Pr++]=Mn,Er[Pr++]=Rn,Er[Pr++]=Rs,Rs=e;var n=Mn;e=Rn;var a=32-Zr(n)-1;n&=~(1<<a),r+=1;var i=32-Zr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Mn=1<<32-Zr(t)+a|r<<a|n,Rn=i+e}else Mn=1<<i|r<<a|n,Rn=e}function D0(e){e.return!==null&&(fs(e,1),a2(e,1,0))}function $0(e){for(;e===Ju;)Ju=bi[--wi],bi[wi]=null,Zu=bi[--wi],bi[wi]=null;for(;e===Rs;)Rs=Er[--Pr],Er[Pr]=null,Rn=Er[--Pr],Er[Pr]=null,Mn=Er[--Pr],Er[Pr]=null}var hr=null,fr=null,qe=!1,Xr=null;function s2(e,t){var r=Or(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Eb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hr=e,fr=La(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hr=e,fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Rs!==null?{id:Mn,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Or(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hr=e,fr=null,!0):!1;default:return!1}}function Tp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ip(e){if(qe){var t=fr;if(t){var r=t;if(!Eb(e,t)){if(Tp(e))throw Error(K(418));t=La(r.nextSibling);var n=hr;t&&Eb(e,t)?s2(n,r):(e.flags=e.flags&-4097|2,qe=!1,hr=e)}}else{if(Tp(e))throw Error(K(418));e.flags=e.flags&-4097|2,qe=!1,hr=e}}}function Pb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hr=e}function Wc(e){if(e!==hr)return!1;if(!qe)return Pb(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ep(e.type,e.memoizedProps)),t&&(t=fr)){if(Tp(e))throw i2(),Error(K(418));for(;t;)s2(e,t),t=La(t.nextSibling)}if(Pb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fr=La(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fr=null}}else fr=hr?La(e.stateNode.nextSibling):null;return!0}function i2(){for(var e=fr;e;)e=La(e.nextSibling)}function Bi(){fr=hr=null,qe=!1}function L0(e){Xr===null?Xr=[e]:Xr.push(e)}var nI=aa.ReactCurrentBatchConfig;function $o(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function Vc(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ab(e){var t=e._init;return t(e._payload)}function o2(e){function t(b,j){if(e){var v=b.deletions;v===null?(b.deletions=[j],b.flags|=16):v.push(j)}}function r(b,j){if(!e)return null;for(;j!==null;)t(b,j),j=j.sibling;return null}function n(b,j){for(b=new Map;j!==null;)j.key!==null?b.set(j.key,j):b.set(j.index,j),j=j.sibling;return b}function a(b,j){return b=Ua(b,j),b.index=0,b.sibling=null,b}function i(b,j,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<j?(b.flags|=2,j):v):(b.flags|=2,j)):(b.flags|=1048576,j)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,j,v,w){return j===null||j.tag!==6?(j=cm(v,b.mode,w),j.return=b,j):(j=a(j,v),j.return=b,j)}function c(b,j,v,w){var N=v.type;return N===mi?d(b,j,v.props.children,w,v.key):j!==null&&(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===wa&&Ab(N)===j.type)?(w=a(j,v.props),w.ref=$o(b,j,v),w.return=b,w):(w=Tu(v.type,v.key,v.props,null,b.mode,w),w.ref=$o(b,j,v),w.return=b,w)}function u(b,j,v,w){return j===null||j.tag!==4||j.stateNode.containerInfo!==v.containerInfo||j.stateNode.implementation!==v.implementation?(j=um(v,b.mode,w),j.return=b,j):(j=a(j,v.children||[]),j.return=b,j)}function d(b,j,v,w,N){return j===null||j.tag!==7?(j=ks(v,b.mode,w,N),j.return=b,j):(j=a(j,v),j.return=b,j)}function f(b,j,v){if(typeof j=="string"&&j!==""||typeof j=="number")return j=cm(""+j,b.mode,v),j.return=b,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Mc:return v=Tu(j.type,j.key,j.props,null,b.mode,v),v.ref=$o(b,null,j),v.return=b,v;case hi:return j=um(j,b.mode,v),j.return=b,j;case wa:var w=j._init;return f(b,w(j._payload),v)}if(Jo(j)||To(j))return j=ks(j,b.mode,v,null),j.return=b,j;Vc(b,j)}return null}function h(b,j,v,w){var N=j!==null?j.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(b,j,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mc:return v.key===N?c(b,j,v,w):null;case hi:return v.key===N?u(b,j,v,w):null;case wa:return N=v._init,h(b,j,N(v._payload),w)}if(Jo(v)||To(v))return N!==null?null:d(b,j,v,w,null);Vc(b,v)}return null}function m(b,j,v,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(v)||null,l(j,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mc:return b=b.get(w.key===null?v:w.key)||null,c(j,b,w,N);case hi:return b=b.get(w.key===null?v:w.key)||null,u(j,b,w,N);case wa:var _=w._init;return m(b,j,v,_(w._payload),N)}if(Jo(w)||To(w))return b=b.get(v)||null,d(j,b,w,N,null);Vc(j,w)}return null}function g(b,j,v,w){for(var N=null,_=null,S=j,C=j=0,T=null;S!==null&&C<v.length;C++){S.index>C?(T=S,S=null):T=S.sibling;var O=h(b,S,v[C],w);if(O===null){S===null&&(S=T);break}e&&S&&O.alternate===null&&t(b,S),j=i(O,j,C),_===null?N=O:_.sibling=O,_=O,S=T}if(C===v.length)return r(b,S),qe&&fs(b,C),N;if(S===null){for(;C<v.length;C++)S=f(b,v[C],w),S!==null&&(j=i(S,j,C),_===null?N=S:_.sibling=S,_=S);return qe&&fs(b,C),N}for(S=n(b,S);C<v.length;C++)T=m(S,b,C,v[C],w),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?C:T.key),j=i(T,j,C),_===null?N=T:_.sibling=T,_=T);return e&&S.forEach(function(P){return t(b,P)}),qe&&fs(b,C),N}function x(b,j,v,w){var N=To(v);if(typeof N!="function")throw Error(K(150));if(v=N.call(v),v==null)throw Error(K(151));for(var _=N=null,S=j,C=j=0,T=null,O=v.next();S!==null&&!O.done;C++,O=v.next()){S.index>C?(T=S,S=null):T=S.sibling;var P=h(b,S,O.value,w);if(P===null){S===null&&(S=T);break}e&&S&&P.alternate===null&&t(b,S),j=i(P,j,C),_===null?N=P:_.sibling=P,_=P,S=T}if(O.done)return r(b,S),qe&&fs(b,C),N;if(S===null){for(;!O.done;C++,O=v.next())O=f(b,O.value,w),O!==null&&(j=i(O,j,C),_===null?N=O:_.sibling=O,_=O);return qe&&fs(b,C),N}for(S=n(b,S);!O.done;C++,O=v.next())O=m(S,b,C,O.value,w),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?C:O.key),j=i(O,j,C),_===null?N=O:_.sibling=O,_=O);return e&&S.forEach(function(A){return t(b,A)}),qe&&fs(b,C),N}function y(b,j,v,w){if(typeof v=="object"&&v!==null&&v.type===mi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Mc:e:{for(var N=v.key,_=j;_!==null;){if(_.key===N){if(N=v.type,N===mi){if(_.tag===7){r(b,_.sibling),j=a(_,v.props.children),j.return=b,b=j;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===wa&&Ab(N)===_.type){r(b,_.sibling),j=a(_,v.props),j.ref=$o(b,_,v),j.return=b,b=j;break e}r(b,_);break}else t(b,_);_=_.sibling}v.type===mi?(j=ks(v.props.children,b.mode,w,v.key),j.return=b,b=j):(w=Tu(v.type,v.key,v.props,null,b.mode,w),w.ref=$o(b,j,v),w.return=b,b=w)}return o(b);case hi:e:{for(_=v.key;j!==null;){if(j.key===_)if(j.tag===4&&j.stateNode.containerInfo===v.containerInfo&&j.stateNode.implementation===v.implementation){r(b,j.sibling),j=a(j,v.children||[]),j.return=b,b=j;break e}else{r(b,j);break}else t(b,j);j=j.sibling}j=um(v,b.mode,w),j.return=b,b=j}return o(b);case wa:return _=v._init,y(b,j,_(v._payload),w)}if(Jo(v))return g(b,j,v,w);if(To(v))return x(b,j,v,w);Vc(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,j!==null&&j.tag===6?(r(b,j.sibling),j=a(j,v),j.return=b,b=j):(r(b,j),j=cm(v,b.mode,w),j.return=b,b=j),o(b)):r(b,j)}return y}var zi=o2(!0),l2=o2(!1),ed=Ja(null),td=null,ji=null,F0=null;function B0(){F0=ji=td=null}function z0(e){var t=ed.current;$e(ed),e._currentValue=t}function Mp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ai(e,t){td=e,F0=ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(er=!0),e.firstContext=null)}function Dr(e){var t=e._currentValue;if(F0!==e)if(e={context:e,memoizedValue:t,next:null},ji===null){if(td===null)throw Error(K(308));ji=e,td.dependencies={lanes:0,firstContext:e}}else ji=ji.next=e;return t}var bs=null;function U0(e){bs===null?bs=[e]:bs.push(e)}function c2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,U0(t)):(r.next=a.next,a.next=r),t.interleaved=r,Gn(e,n)}function Gn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ja=!1;function q0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Gn(e,r)}return a=n.interleaved,a===null?(t.next=t,U0(n)):(t.next=a.next,a.next=t),n.interleaved=t,Gn(e,r)}function Cu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,E0(e,r)}}function Ob(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rd(e,t,r,n){var a=e.updateQueue;ja=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(h=t,m=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Ye({},f,h);break e;case 2:ja=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);$s|=o,e.lanes=o,e.memoizedState=f}}function Tb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(K(191,a));a.call(n)}}}var ac={},gn=Ja(ac),Ol=Ja(ac),Tl=Ja(ac);function ws(e){if(e===ac)throw Error(K(174));return e}function W0(e,t){switch(Te(Tl,t),Te(Ol,e),Te(gn,ac),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mp(t,e)}$e(gn),Te(gn,t)}function Ui(){$e(gn),$e(Ol),$e(Tl)}function d2(e){ws(Tl.current);var t=ws(gn.current),r=mp(t,e.type);t!==r&&(Te(Ol,e),Te(gn,r))}function V0(e){Ol.current===e&&($e(gn),$e(Ol))}var Ge=Ja(0);function nd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nm=[];function K0(){for(var e=0;e<nm.length;e++)nm[e]._workInProgressVersionPrimary=null;nm.length=0}var ku=aa.ReactCurrentDispatcher,am=aa.ReactCurrentBatchConfig,Ds=0,He=null,ut=null,bt=null,ad=!1,cl=!1,Il=0,aI=0;function It(){throw Error(K(321))}function G0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function H0(e,t,r,n,a,i){if(Ds=i,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ku.current=e===null||e.memoizedState===null?lI:cI,e=r(n,a),cl){i=0;do{if(cl=!1,Il=0,25<=i)throw Error(K(301));i+=1,bt=ut=null,t.updateQueue=null,ku.current=uI,e=r(n,a)}while(cl)}if(ku.current=sd,t=ut!==null&&ut.next!==null,Ds=0,bt=ut=He=null,ad=!1,t)throw Error(K(300));return e}function Y0(){var e=Il!==0;return Il=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?He.memoizedState=bt=e:bt=bt.next=e,bt}function $r(){if(ut===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=bt===null?He.memoizedState:bt.next;if(t!==null)bt=t,ut=e;else{if(e===null)throw Error(K(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},bt===null?He.memoizedState=bt=e:bt=bt.next=e}return bt}function Ml(e,t){return typeof t=="function"?t(e):t}function sm(e){var t=$r(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=ut,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ds&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,He.lanes|=d,$s|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,an(n,t.memoizedState)||(er=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,He.lanes|=i,$s|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function im(e){var t=$r(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);an(i,t.memoizedState)||(er=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function f2(){}function h2(e,t){var r=He,n=$r(),a=t(),i=!an(n.memoizedState,a);if(i&&(n.memoizedState=a,er=!0),n=n.queue,X0(g2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Rl(9,p2.bind(null,r,n,a,t),void 0,null),jt===null)throw Error(K(349));Ds&30||m2(r,t,a)}return a}function m2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function p2(e,t,r,n){t.value=r,t.getSnapshot=n,x2(t)&&v2(e)}function g2(e,t,r){return r(function(){x2(t)&&v2(e)})}function x2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch{return!0}}function v2(e){var t=Gn(e,1);t!==null&&en(t,e,1,-1)}function Ib(e){var t=un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:e},t.queue=e,e=e.dispatch=oI.bind(null,He,e),[t.memoizedState,e]}function Rl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function y2(){return $r().memoizedState}function Eu(e,t,r,n){var a=un();He.flags|=e,a.memoizedState=Rl(1|t,r,void 0,n===void 0?null:n)}function vf(e,t,r,n){var a=$r();n=n===void 0?null:n;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,n!==null&&G0(n,o.deps)){a.memoizedState=Rl(t,r,i,n);return}}He.flags|=e,a.memoizedState=Rl(1|t,r,i,n)}function Mb(e,t){return Eu(8390656,8,e,t)}function X0(e,t){return vf(2048,8,e,t)}function b2(e,t){return vf(4,2,e,t)}function w2(e,t){return vf(4,4,e,t)}function j2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N2(e,t,r){return r=r!=null?r.concat([e]):null,vf(4,4,j2.bind(null,t,e),r)}function Q0(){}function _2(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&G0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function S2(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&G0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function C2(e,t,r){return Ds&21?(an(r,t)||(r=O_(),He.lanes|=r,$s|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,er=!0),e.memoizedState=r)}function sI(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var n=am.transition;am.transition={};try{e(!1),t()}finally{we=r,am.transition=n}}function k2(){return $r().memoizedState}function iI(e,t,r){var n=za(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},E2(e))P2(t,r);else if(r=c2(e,t,r,n),r!==null){var a=Kt();en(r,e,n,a),A2(r,t,n)}}function oI(e,t,r){var n=za(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(E2(e))P2(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,an(l,o)){var c=t.interleaved;c===null?(a.next=a,U0(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=c2(e,t,a,n),r!==null&&(a=Kt(),en(r,e,n,a),A2(r,t,n))}}function E2(e){var t=e.alternate;return e===He||t!==null&&t===He}function P2(e,t){cl=ad=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function A2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,E0(e,r)}}var sd={readContext:Dr,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},lI={readContext:Dr,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Dr,useEffect:Mb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Eu(4194308,4,j2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Eu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eu(4,2,e,t)},useMemo:function(e,t){var r=un();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=un();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=iI.bind(null,He,e),[n.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:Ib,useDebugValue:Q0,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=Ib(!1),t=e[0];return e=sI.bind(null,e[1]),un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=He,a=un();if(qe){if(r===void 0)throw Error(K(407));r=r()}else{if(r=t(),jt===null)throw Error(K(349));Ds&30||m2(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Mb(g2.bind(null,n,i,e),[e]),n.flags|=2048,Rl(9,p2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=un(),t=jt.identifierPrefix;if(qe){var r=Rn,n=Mn;r=(n&~(1<<32-Zr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Il++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aI++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cI={readContext:Dr,useCallback:_2,useContext:Dr,useEffect:X0,useImperativeHandle:N2,useInsertionEffect:b2,useLayoutEffect:w2,useMemo:S2,useReducer:sm,useRef:y2,useState:function(){return sm(Ml)},useDebugValue:Q0,useDeferredValue:function(e){var t=$r();return C2(t,ut.memoizedState,e)},useTransition:function(){var e=sm(Ml)[0],t=$r().memoizedState;return[e,t]},useMutableSource:f2,useSyncExternalStore:h2,useId:k2,unstable_isNewReconciler:!1},uI={readContext:Dr,useCallback:_2,useContext:Dr,useEffect:X0,useImperativeHandle:N2,useInsertionEffect:b2,useLayoutEffect:w2,useMemo:S2,useReducer:im,useRef:y2,useState:function(){return im(Ml)},useDebugValue:Q0,useDeferredValue:function(e){var t=$r();return ut===null?t.memoizedState=e:C2(t,ut.memoizedState,e)},useTransition:function(){var e=im(Ml)[0],t=$r().memoizedState;return[e,t]},useMutableSource:f2,useSyncExternalStore:h2,useId:k2,unstable_isNewReconciler:!1};function Gr(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Rp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yf={isMounted:function(e){return(e=e._reactInternals)?Hs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kt(),a=za(e),i=Fn(n,a);i.payload=t,r!=null&&(i.callback=r),t=Fa(e,i,a),t!==null&&(en(t,e,a,n),Cu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kt(),a=za(e),i=Fn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Fa(e,i,a),t!==null&&(en(t,e,a,n),Cu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kt(),n=za(e),a=Fn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Fa(e,a,n),t!==null&&(en(t,e,n,r),Cu(t,e,n))}};function Rb(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!kl(r,n)||!kl(a,i):!0}function O2(e,t,r){var n=!1,a=Ka,i=t.contextType;return typeof i=="object"&&i!==null?i=Dr(i):(a=nr(t)?Ms:Bt.current,n=t.contextTypes,i=(n=n!=null)?Fi(e,a):Ka),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Db(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yf.enqueueReplaceState(t,t.state,null)}function Dp(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},q0(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Dr(i):(i=nr(t)?Ms:Bt.current,a.context=Fi(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Rp(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yf.enqueueReplaceState(a,a.state,null),rd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qi(e,t){try{var r="",n=t;do r+=L4(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function om(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $p(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dI=typeof WeakMap=="function"?WeakMap:Map;function T2(e,t,r){r=Fn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){od||(od=!0,Gp=n),$p(e,t)},r}function I2(e,t,r){r=Fn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){$p(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$p(e,t),typeof n!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $b(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new dI;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=SI.bind(null,e,t,r),t.then(e,e))}function Lb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fb(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fn(-1,1),t.tag=2,Fa(r,t,1))),r.lanes|=1),e)}var fI=aa.ReactCurrentOwner,er=!1;function qt(e,t,r,n){t.child=e===null?l2(t,null,r,n):zi(t,e.child,r,n)}function Bb(e,t,r,n,a){r=r.render;var i=t.ref;return Ai(t,a),n=H0(e,t,r,n,i,a),r=Y0(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hn(e,t,a)):(qe&&r&&D0(t),t.flags|=1,qt(e,t,n,a),t.child)}function zb(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!sx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,M2(e,t,i,n,a)):(e=Tu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:kl,r(o,n)&&e.ref===t.ref)return Hn(e,t,a)}return t.flags|=1,e=Ua(i,n),e.ref=t.ref,e.return=t,t.child=e}function M2(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(kl(i,n)&&e.ref===t.ref)if(er=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(er=!0);else return t.lanes=e.lanes,Hn(e,t,a)}return Lp(e,t,r,n,a)}function R2(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(_i,lr),lr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(_i,lr),lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Te(_i,lr),lr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Te(_i,lr),lr|=n;return qt(e,t,a,r),t.child}function D2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lp(e,t,r,n,a){var i=nr(r)?Ms:Bt.current;return i=Fi(t,i),Ai(t,a),r=H0(e,t,r,n,i,a),n=Y0(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hn(e,t,a)):(qe&&n&&D0(t),t.flags|=1,qt(e,t,r,a),t.child)}function Ub(e,t,r,n,a){if(nr(r)){var i=!0;Qu(t)}else i=!1;if(Ai(t,a),t.stateNode===null)Pu(e,t),O2(t,r,n),Dp(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Dr(u):(u=nr(r)?Ms:Bt.current,u=Fi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Db(t,o,n,u),ja=!1;var h=t.memoizedState;o.state=h,rd(t,n,o,a),c=t.memoizedState,l!==n||h!==c||rr.current||ja?(typeof d=="function"&&(Rp(t,r,d,n),c=t.memoizedState),(l=ja||Rb(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,u2(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Dr(c):(c=nr(r)?Ms:Bt.current,c=Fi(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Db(t,o,n,c),ja=!1,h=t.memoizedState,o.state=h,rd(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||rr.current||ja?(typeof m=="function"&&(Rp(t,r,m,n),g=t.memoizedState),(u=ja||Rb(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fp(e,t,r,n,i,a)}function Fp(e,t,r,n,a,i){D2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&kb(t,r,!1),Hn(e,t,i);n=t.stateNode,fI.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=zi(t,e.child,null,i),t.child=zi(t,null,l,i)):qt(e,t,l,i),t.memoizedState=n.state,a&&kb(t,r,!0),t.child}function $2(e){var t=e.stateNode;t.pendingContext?Cb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cb(e,t.context,!1),W0(e,t.containerInfo)}function qb(e,t,r,n,a){return Bi(),L0(a),t.flags|=256,qt(e,t,r,n),t.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function zp(e){return{baseLanes:e,cachePool:null,transitions:null}}function L2(e,t,r){var n=t.pendingProps,a=Ge.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Te(Ge,a&1),e===null)return Ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jf(o,n,0,null),e=ks(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zp(r),t.memoizedState=Bp,e):J0(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return hI(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ua(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ua(l,i):(i=ks(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?zp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Bp,n}return i=e.child,e=i.sibling,n=Ua(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function J0(e,t){return t=jf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kc(e,t,r,n){return n!==null&&L0(n),zi(t,e.child,null,r),e=J0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hI(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=om(Error(K(422))),Kc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=jf({mode:"visible",children:n.children},a,0,null),i=ks(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&zi(t,e.child,null,o),t.child.memoizedState=zp(o),t.memoizedState=Bp,i);if(!(t.mode&1))return Kc(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(K(419)),n=om(i,n,void 0),Kc(e,t,o,n)}if(l=(o&e.childLanes)!==0,er||l){if(n=jt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Gn(e,a),en(n,e,a,-1))}return ax(),n=om(Error(K(421))),Kc(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=CI.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,fr=La(a.nextSibling),hr=t,qe=!0,Xr=null,e!==null&&(Er[Pr++]=Mn,Er[Pr++]=Rn,Er[Pr++]=Rs,Mn=e.id,Rn=e.overflow,Rs=t),t=J0(t,n.children),t.flags|=4096,t)}function Wb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mp(e.return,t,r)}function lm(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function F2(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(qt(e,t,n.children,r),n=Ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wb(e,r,t);else if(e.tag===19)Wb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Te(Ge,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&nd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),lm(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&nd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}lm(t,!0,r,null,i);break;case"together":lm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$s|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,r=Ua(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ua(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mI(e,t,r){switch(t.tag){case 3:$2(t),Bi();break;case 5:d2(t);break;case 1:nr(t.type)&&Qu(t);break;case 4:W0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Te(ed,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Te(Ge,Ge.current&1),t.flags|=128,null):r&t.child.childLanes?L2(e,t,r):(Te(Ge,Ge.current&1),e=Hn(e,t,r),e!==null?e.sibling:null);Te(Ge,Ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return F2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Te(Ge,Ge.current),n)break;return null;case 22:case 23:return t.lanes=0,R2(e,t,r)}return Hn(e,t,r)}var B2,Up,z2,U2;B2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Up=function(){};z2=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ws(gn.current);var i=null;switch(r){case"input":a=up(e,a),n=up(e,n),i=[];break;case"select":a=Ye({},a,{value:void 0}),n=Ye({},n,{value:void 0}),i=[];break;case"textarea":a=hp(e,a),n=hp(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yu)}pp(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};U2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Lo(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pI(e,t,r){var n=t.pendingProps;switch($0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return nr(t.type)&&Xu(),Mt(t),null;case 3:return n=t.stateNode,Ui(),$e(rr),$e(Bt),K0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xr!==null&&(Xp(Xr),Xr=null))),Up(e,t),Mt(t),null;case 5:V0(t);var a=ws(Tl.current);if(r=t.type,e!==null&&t.stateNode!=null)z2(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(K(166));return Mt(t),null}if(e=ws(gn.current),Wc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fn]=t,n[Al]=i,e=(t.mode&1)!==0,r){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(a=0;a<el.length;a++)Re(el[a],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Zy(n,i),Re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Re("invalid",n);break;case"textarea":tb(n,i),Re("invalid",n)}pp(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&qc(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qc(n.textContent,l,e),a=["children",""+l]):bl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Re("scroll",n)}switch(r){case"input":Rc(n),eb(n,i,!0);break;case"textarea":Rc(n),rb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=g_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fn]=t,e[Al]=n,B2(e,t,!1,!1),t.stateNode=e;e:{switch(o=gp(r,n),r){case"dialog":Re("cancel",e),Re("close",e),a=n;break;case"iframe":case"object":case"embed":Re("load",e),a=n;break;case"video":case"audio":for(a=0;a<el.length;a++)Re(el[a],e);a=n;break;case"source":Re("error",e),a=n;break;case"img":case"image":case"link":Re("error",e),Re("load",e),a=n;break;case"details":Re("toggle",e),a=n;break;case"input":Zy(e,n),a=up(e,n),Re("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ye({},n,{value:void 0}),Re("invalid",e);break;case"textarea":tb(e,n),a=hp(e,n),Re("invalid",e);break;default:a=n}pp(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?y_(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&x_(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wl(e,c):typeof c=="number"&&wl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",e):c!=null&&j0(e,i,c,o))}switch(r){case"input":Rc(e),eb(e,n,!1);break;case"textarea":Rc(e),rb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Va(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ci(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ci(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mt(t),null;case 6:if(e&&t.stateNode!=null)U2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(K(166));if(r=ws(Tl.current),ws(gn.current),Wc(t)){if(n=t.stateNode,r=t.memoizedProps,n[fn]=t,(i=n.nodeValue!==r)&&(e=hr,e!==null))switch(e.tag){case 3:qc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fn]=t,t.stateNode=n}return Mt(t),null;case 13:if($e(Ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&fr!==null&&t.mode&1&&!(t.flags&128))i2(),Bi(),t.flags|=98560,i=!1;else if(i=Wc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[fn]=t}else Bi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mt(t),i=!1}else Xr!==null&&(Xp(Xr),Xr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?mt===0&&(mt=3):ax())),t.updateQueue!==null&&(t.flags|=4),Mt(t),null);case 4:return Ui(),Up(e,t),e===null&&El(t.stateNode.containerInfo),Mt(t),null;case 10:return z0(t.type._context),Mt(t),null;case 17:return nr(t.type)&&Xu(),Mt(t),null;case 19:if($e(Ge),i=t.memoizedState,i===null)return Mt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Lo(i,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=nd(e),o!==null){for(t.flags|=128,Lo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Te(Ge,Ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&rt()>Wi&&(t.flags|=128,n=!0,Lo(i,!1),t.lanes=4194304)}else{if(!n)if(e=nd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Lo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!qe)return Mt(t),null}else 2*rt()-i.renderingStartTime>Wi&&r!==1073741824&&(t.flags|=128,n=!0,Lo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,r=Ge.current,Te(Ge,n?r&1|2:r&1),t):(Mt(t),null);case 22:case 23:return nx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?lr&1073741824&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function gI(e,t){switch($0(t),t.tag){case 1:return nr(t.type)&&Xu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(),$e(rr),$e(Bt),K0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V0(t),null;case 13:if($e(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Ge),null;case 4:return Ui(),null;case 10:return z0(t.type._context),null;case 22:case 23:return nx(),null;case 24:return null;default:return null}}var Gc=!1,Dt=!1,xI=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ni(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function qp(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var Vb=!1;function vI(e,t){if(Cp=Ku,e=G_(),R0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(kp={focusedElem:e,selectionRange:r},Ku=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,b=t.stateNode,j=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:Gr(t.type,x),y);b.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(w){Qe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=Vb,Vb=!1,g}function ul(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&qp(t,r,i)}a=a.next}while(a!==n)}}function bf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function q2(e){var t=e.alternate;t!==null&&(e.alternate=null,q2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Al],delete t[Ap],delete t[eI],delete t[tI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W2(e){return e.tag===5||e.tag===3||e.tag===4}function Kb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yu));else if(n!==4&&(e=e.child,e!==null))for(Vp(e,t,r),e=e.sibling;e!==null;)Vp(e,t,r),e=e.sibling}function Kp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Kp(e,t,r),e=e.sibling;e!==null;)Kp(e,t,r),e=e.sibling}var kt=null,Hr=!1;function ma(e,t,r){for(r=r.child;r!==null;)V2(e,t,r),r=r.sibling}function V2(e,t,r){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ff,r)}catch{}switch(r.tag){case 5:Dt||Ni(r,t);case 6:var n=kt,a=Hr;kt=null,ma(e,t,r),kt=n,Hr=a,kt!==null&&(Hr?(e=kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(Hr?(e=kt,r=r.stateNode,e.nodeType===8?tm(e.parentNode,r):e.nodeType===1&&tm(e,r),Sl(e)):tm(kt,r.stateNode));break;case 4:n=kt,a=Hr,kt=r.stateNode.containerInfo,Hr=!0,ma(e,t,r),kt=n,Hr=a;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qp(r,t,o),a=a.next}while(a!==n)}ma(e,t,r);break;case 1:if(!Dt&&(Ni(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}ma(e,t,r);break;case 21:ma(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,ma(e,t,r),Dt=n):ma(e,t,r);break;default:ma(e,t,r)}}function Gb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xI),t.forEach(function(n){var a=kI.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Wr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,Hr=!1;break e;case 3:kt=l.stateNode.containerInfo,Hr=!0;break e;case 4:kt=l.stateNode.containerInfo,Hr=!0;break e}l=l.return}if(kt===null)throw Error(K(160));V2(i,o,a),kt=null,Hr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Qe(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)K2(t,e),t=t.sibling}function K2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wr(t,e),cn(e),n&4){try{ul(3,e,e.return),bf(3,e)}catch(x){Qe(e,e.return,x)}try{ul(5,e,e.return)}catch(x){Qe(e,e.return,x)}}break;case 1:Wr(t,e),cn(e),n&512&&r!==null&&Ni(r,r.return);break;case 5:if(Wr(t,e),cn(e),n&512&&r!==null&&Ni(r,r.return),e.flags&32){var a=e.stateNode;try{wl(a,"")}catch(x){Qe(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&m_(a,i),gp(l,o);var u=gp(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?y_(a,f):d==="dangerouslySetInnerHTML"?x_(a,f):d==="children"?wl(a,f):j0(a,d,f,u)}switch(l){case"input":dp(a,i);break;case"textarea":p_(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ci(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ci(a,!!i.multiple,i.defaultValue,!0):Ci(a,!!i.multiple,i.multiple?[]:"",!1))}a[Al]=i}catch(x){Qe(e,e.return,x)}}break;case 6:if(Wr(t,e),cn(e),n&4){if(e.stateNode===null)throw Error(K(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){Qe(e,e.return,x)}}break;case 3:if(Wr(t,e),cn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(x){Qe(e,e.return,x)}break;case 4:Wr(t,e),cn(e);break;case 13:Wr(t,e),cn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(tx=rt())),n&4&&Gb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||d,Wr(t,e),Dt=u):Wr(t,e),cn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,m=h.child,h.tag){case 0:case 11:case 14:case 15:ul(4,h,h.return);break;case 1:Ni(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Qe(n,r,x)}}break;case 5:Ni(h,h.return);break;case 22:if(h.memoizedState!==null){Yb(f);continue}}m!==null?(m.return=h,Z=m):Yb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=v_("display",o))}catch(x){Qe(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Qe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wr(t,e),cn(e),n&4&&Gb(e);break;case 21:break;default:Wr(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(W2(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(wl(a,""),n.flags&=-33);var i=Kb(e);Kp(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Kb(e);Vp(e,l,o);break;default:throw Error(K(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yI(e,t,r){Z=e,G2(e)}function G2(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var a=Z,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Gc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Dt;l=Gc;var u=Dt;if(Gc=o,(Dt=c)&&!u)for(Z=a;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?Xb(a):c!==null?(c.return=o,Z=c):Xb(a);for(;i!==null;)Z=i,G2(i),i=i.sibling;Z=a,Gc=l,Dt=u}Hb(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Z=i):Hb(e)}}function Hb(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||bf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Gr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Dt||t.flags&512&&Wp(t)}catch(h){Qe(t,t.return,h)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Yb(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Xb(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bf(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Qe(t,a,c)}}var i=t.return;try{Wp(t)}catch(c){Qe(t,i,c)}break;case 5:var o=t.return;try{Wp(t)}catch(c){Qe(t,o,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var bI=Math.ceil,id=aa.ReactCurrentDispatcher,Z0=aa.ReactCurrentOwner,Mr=aa.ReactCurrentBatchConfig,pe=0,jt=null,st=null,At=0,lr=0,_i=Ja(0),mt=0,Dl=null,$s=0,wf=0,ex=0,dl=null,Qt=null,tx=0,Wi=1/0,Pn=null,od=!1,Gp=null,Ba=null,Hc=!1,Aa=null,ld=0,fl=0,Hp=null,Au=-1,Ou=0;function Kt(){return pe&6?rt():Au!==-1?Au:Au=rt()}function za(e){return e.mode&1?pe&2&&At!==0?At&-At:nI.transition!==null?(Ou===0&&(Ou=O_()),Ou):(e=we,e!==0||(e=window.event,e=e===void 0?16:L_(e.type)),e):1}function en(e,t,r,n){if(50<fl)throw fl=0,Hp=null,Error(K(185));tc(e,r,n),(!(pe&2)||e!==jt)&&(e===jt&&(!(pe&2)&&(wf|=r),mt===4&&Ca(e,At)),ar(e,n),r===1&&pe===0&&!(t.mode&1)&&(Wi=rt()+500,xf&&Za()))}function ar(e,t){var r=e.callbackNode;nT(e,t);var n=Vu(e,e===jt?At:0);if(n===0)r!==null&&sb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sb(r),t===1)e.tag===0?rI(Qb.bind(null,e)):n2(Qb.bind(null,e)),JT(function(){!(pe&6)&&Za()}),r=null;else{switch(T_(n)){case 1:r=k0;break;case 4:r=P_;break;case 16:r=Wu;break;case 536870912:r=A_;break;default:r=Wu}r=tS(r,H2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function H2(e,t){if(Au=-1,Ou=0,pe&6)throw Error(K(327));var r=e.callbackNode;if(Oi()&&e.callbackNode!==r)return null;var n=Vu(e,e===jt?At:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cd(e,n);else{t=n;var a=pe;pe|=2;var i=X2();(jt!==e||At!==t)&&(Pn=null,Wi=rt()+500,Cs(e,t));do try{NI();break}catch(l){Y2(e,l)}while(!0);B0(),id.current=i,pe=a,st!==null?t=0:(jt=null,At=0,t=mt)}if(t!==0){if(t===2&&(a=wp(e),a!==0&&(n=a,t=Yp(e,a))),t===1)throw r=Dl,Cs(e,0),Ca(e,n),ar(e,rt()),r;if(t===6)Ca(e,n);else{if(a=e.current.alternate,!(n&30)&&!wI(a)&&(t=cd(e,n),t===2&&(i=wp(e),i!==0&&(n=i,t=Yp(e,i))),t===1))throw r=Dl,Cs(e,0),Ca(e,n),ar(e,rt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(K(345));case 2:hs(e,Qt,Pn);break;case 3:if(Ca(e,n),(n&130023424)===n&&(t=tx+500-rt(),10<t)){if(Vu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Kt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Pp(hs.bind(null,e,Qt,Pn),t);break}hs(e,Qt,Pn);break;case 4:if(Ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Zr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bI(n/1960))-n,10<n){e.timeoutHandle=Pp(hs.bind(null,e,Qt,Pn),n);break}hs(e,Qt,Pn);break;case 5:hs(e,Qt,Pn);break;default:throw Error(K(329))}}}return ar(e,rt()),e.callbackNode===r?H2.bind(null,e):null}function Yp(e,t){var r=dl;return e.current.memoizedState.isDehydrated&&(Cs(e,t).flags|=256),e=cd(e,t),e!==2&&(t=Qt,Qt=r,t!==null&&Xp(t)),e}function Xp(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function wI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!an(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ca(e,t){for(t&=~ex,t&=~wf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zr(t),n=1<<r;e[r]=-1,t&=~n}}function Qb(e){if(pe&6)throw Error(K(327));Oi();var t=Vu(e,0);if(!(t&1))return ar(e,rt()),null;var r=cd(e,t);if(e.tag!==0&&r===2){var n=wp(e);n!==0&&(t=n,r=Yp(e,n))}if(r===1)throw r=Dl,Cs(e,0),Ca(e,t),ar(e,rt()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hs(e,Qt,Pn),ar(e,rt()),null}function rx(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(Wi=rt()+500,xf&&Za())}}function Ls(e){Aa!==null&&Aa.tag===0&&!(pe&6)&&Oi();var t=pe;pe|=1;var r=Mr.transition,n=we;try{if(Mr.transition=null,we=1,e)return e()}finally{we=n,Mr.transition=r,pe=t,!(pe&6)&&Za()}}function nx(){lr=_i.current,$e(_i)}function Cs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,QT(r)),st!==null)for(r=st.return;r!==null;){var n=r;switch($0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xu();break;case 3:Ui(),$e(rr),$e(Bt),K0();break;case 5:V0(n);break;case 4:Ui();break;case 13:$e(Ge);break;case 19:$e(Ge);break;case 10:z0(n.type._context);break;case 22:case 23:nx()}r=r.return}if(jt=e,st=e=Ua(e.current,null),At=lr=t,mt=0,Dl=null,ex=wf=$s=0,Qt=dl=null,bs!==null){for(t=0;t<bs.length;t++)if(r=bs[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}bs=null}return e}function Y2(e,t){do{var r=st;try{if(B0(),ku.current=sd,ad){for(var n=He.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ad=!1}if(Ds=0,bt=ut=He=null,cl=!1,Il=0,Z0.current=null,r===null||r.return===null){mt=1,Dl=t,st=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Lb(o);if(m!==null){m.flags&=-257,Fb(m,o,l,i,t),m.mode&1&&$b(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){$b(i,u,t),ax();break e}c=Error(K(426))}}else if(qe&&l.mode&1){var y=Lb(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Fb(y,o,l,i,t),L0(qi(c,l));break e}}i=c=qi(c,l),mt!==4&&(mt=2),dl===null?dl=[i]:dl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=T2(i,c,t);Ob(i,b);break e;case 1:l=c;var j=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof j.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ba===null||!Ba.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=I2(i,l,t);Ob(i,w);break e}}i=i.return}while(i!==null)}J2(r)}catch(N){t=N,st===r&&r!==null&&(st=r=r.return);continue}break}while(!0)}function X2(){var e=id.current;return id.current=sd,e===null?sd:e}function ax(){(mt===0||mt===3||mt===2)&&(mt=4),jt===null||!($s&268435455)&&!(wf&268435455)||Ca(jt,At)}function cd(e,t){var r=pe;pe|=2;var n=X2();(jt!==e||At!==t)&&(Pn=null,Cs(e,t));do try{jI();break}catch(a){Y2(e,a)}while(!0);if(B0(),pe=r,id.current=n,st!==null)throw Error(K(261));return jt=null,At=0,mt}function jI(){for(;st!==null;)Q2(st)}function NI(){for(;st!==null&&!H4();)Q2(st)}function Q2(e){var t=eS(e.alternate,e,lr);e.memoizedProps=e.pendingProps,t===null?J2(e):st=t,Z0.current=null}function J2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gI(r,t),r!==null){r.flags&=32767,st=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,st=null;return}}else if(r=pI(r,t,lr),r!==null){st=r;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);mt===0&&(mt=5)}function hs(e,t,r){var n=we,a=Mr.transition;try{Mr.transition=null,we=1,_I(e,t,r,n)}finally{Mr.transition=a,we=n}return null}function _I(e,t,r,n){do Oi();while(Aa!==null);if(pe&6)throw Error(K(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(aT(e,i),e===jt&&(st=jt=null,At=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hc||(Hc=!0,tS(Wu,function(){return Oi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Mr.transition,Mr.transition=null;var o=we;we=1;var l=pe;pe|=4,Z0.current=null,vI(e,r),K2(r,e),WT(kp),Ku=!!Cp,kp=Cp=null,e.current=r,yI(r),Y4(),pe=l,we=o,Mr.transition=i}else e.current=r;if(Hc&&(Hc=!1,Aa=e,ld=a),i=e.pendingLanes,i===0&&(Ba=null),J4(r.stateNode),ar(e,rt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(od)throw od=!1,e=Gp,Gp=null,e;return ld&1&&e.tag!==0&&Oi(),i=e.pendingLanes,i&1?e===Hp?fl++:(fl=0,Hp=e):fl=0,Za(),null}function Oi(){if(Aa!==null){var e=T_(ld),t=Mr.transition,r=we;try{if(Mr.transition=null,we=16>e?16:e,Aa===null)var n=!1;else{if(e=Aa,Aa=null,ld=0,pe&6)throw Error(K(331));var a=pe;for(pe|=4,Z=e.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:ul(8,d,i)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,m=d.return;if(q2(d),d===u){Z=null;break}if(h!==null){h.return=m,Z=h;break}Z=m}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ul(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Z=b;break e}Z=i.return}}var j=e.current;for(Z=j;Z!==null;){o=Z;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Z=v;else e:for(o=j;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bf(9,l)}}catch(N){Qe(l,l.return,N)}if(l===o){Z=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Z=w;break e}Z=l.return}}if(pe=a,Za(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ff,e)}catch{}n=!0}return n}finally{we=r,Mr.transition=t}}return!1}function Jb(e,t,r){t=qi(r,t),t=T2(e,t,1),e=Fa(e,t,1),t=Kt(),e!==null&&(tc(e,1,t),ar(e,t))}function Qe(e,t,r){if(e.tag===3)Jb(e,e,r);else for(;t!==null;){if(t.tag===3){Jb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ba===null||!Ba.has(n))){e=qi(r,e),e=I2(t,e,1),t=Fa(t,e,1),e=Kt(),t!==null&&(tc(t,1,e),ar(t,e));break}}t=t.return}}function SI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&r,jt===e&&(At&r)===r&&(mt===4||mt===3&&(At&130023424)===At&&500>rt()-tx?Cs(e,0):ex|=r),ar(e,t)}function Z2(e,t){t===0&&(e.mode&1?(t=Lc,Lc<<=1,!(Lc&130023424)&&(Lc=4194304)):t=1);var r=Kt();e=Gn(e,t),e!==null&&(tc(e,t,r),ar(e,r))}function CI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Z2(e,r)}function kI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(t),Z2(e,r)}var eS;eS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rr.current)er=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return er=!1,mI(e,t,r);er=!!(e.flags&131072)}else er=!1,qe&&t.flags&1048576&&a2(t,Zu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pu(e,t),e=t.pendingProps;var a=Fi(t,Bt.current);Ai(t,r),a=H0(null,t,n,e,a,r);var i=Y0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nr(n)?(i=!0,Qu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,q0(t),a.updater=yf,t.stateNode=a,a._reactInternals=t,Dp(t,n,e,r),t=Fp(null,t,n,!0,i,r)):(t.tag=0,qe&&i&&D0(t),qt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=PI(n),e=Gr(n,e),a){case 0:t=Lp(null,t,n,e,r);break e;case 1:t=Ub(null,t,n,e,r);break e;case 11:t=Bb(null,t,n,e,r);break e;case 14:t=zb(null,t,n,Gr(n.type,e),r);break e}throw Error(K(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),Lp(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),Ub(e,t,n,a,r);case 3:e:{if($2(t),e===null)throw Error(K(387));n=t.pendingProps,i=t.memoizedState,a=i.element,u2(e,t),rd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=qi(Error(K(423)),t),t=qb(e,t,n,r,a);break e}else if(n!==a){a=qi(Error(K(424)),t),t=qb(e,t,n,r,a);break e}else for(fr=La(t.stateNode.containerInfo.firstChild),hr=t,qe=!0,Xr=null,r=l2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bi(),n===a){t=Hn(e,t,r);break e}qt(e,t,n,r)}t=t.child}return t;case 5:return d2(t),e===null&&Ip(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Ep(n,a)?o=null:i!==null&&Ep(n,i)&&(t.flags|=32),D2(e,t),qt(e,t,o,r),t.child;case 6:return e===null&&Ip(t),null;case 13:return L2(e,t,r);case 4:return W0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zi(t,null,n,r):qt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),Bb(e,t,n,a,r);case 7:return qt(e,t,t.pendingProps,r),t.child;case 8:return qt(e,t,t.pendingProps.children,r),t.child;case 12:return qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Te(ed,n._currentValue),n._currentValue=o,i!==null)if(an(i.value,o)){if(i.children===a.children&&!rr.current){t=Hn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Fn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Mp(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Mp(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ai(t,r),a=Dr(a),n=n(a),t.flags|=1,qt(e,t,n,r),t.child;case 14:return n=t.type,a=Gr(n,t.pendingProps),a=Gr(n.type,a),zb(e,t,n,a,r);case 15:return M2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gr(n,a),Pu(e,t),t.tag=1,nr(n)?(e=!0,Qu(t)):e=!1,Ai(t,r),O2(t,n,a),Dp(t,n,a,r),Fp(null,t,n,!0,e,r);case 19:return F2(e,t,r);case 22:return R2(e,t,r)}throw Error(K(156,t.tag))};function tS(e,t){return E_(e,t)}function EI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,r,n){return new EI(e,t,r,n)}function sx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PI(e){if(typeof e=="function")return sx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_0)return 11;if(e===S0)return 14}return 2}function Ua(e,t){var r=e.alternate;return r===null?(r=Or(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tu(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")sx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case mi:return ks(r.children,a,i,t);case N0:o=8,a|=8;break;case ip:return e=Or(12,r,t,a|2),e.elementType=ip,e.lanes=i,e;case op:return e=Or(13,r,t,a),e.elementType=op,e.lanes=i,e;case lp:return e=Or(19,r,t,a),e.elementType=lp,e.lanes=i,e;case d_:return jf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case c_:o=10;break e;case u_:o=9;break e;case _0:o=11;break e;case S0:o=14;break e;case wa:o=16,n=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Or(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ks(e,t,r,n){return e=Or(7,e,n,t),e.lanes=r,e}function jf(e,t,r,n){return e=Or(22,e,n,t),e.elementType=d_,e.lanes=r,e.stateNode={isHidden:!1},e}function cm(e,t,r){return e=Or(6,e,null,t),e.lanes=r,e}function um(e,t,r){return t=Or(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function AI(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ix(e,t,r,n,a,i,o,l,c){return e=new AI(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Or(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},q0(i),e}function OI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rS(e){if(!e)return Ka;e=e._reactInternals;e:{if(Hs(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(nr(r))return r2(e,r,t)}return t}function nS(e,t,r,n,a,i,o,l,c){return e=ix(r,n,!0,e,a,i,o,l,c),e.context=rS(null),r=e.current,n=Kt(),a=za(r),i=Fn(n,a),i.callback=t??null,Fa(r,i,a),e.current.lanes=a,tc(e,a,n),ar(e,n),e}function Nf(e,t,r,n){var a=t.current,i=Kt(),o=za(a);return r=rS(r),t.context===null?t.context=r:t.pendingContext=r,t=Fn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fa(a,t,o),e!==null&&(en(e,a,o,i),Cu(e,a,o)),o}function ud(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ox(e,t){Zb(e,t),(e=e.alternate)&&Zb(e,t)}function TI(){return null}var aS=typeof reportError=="function"?reportError:function(e){console.error(e)};function lx(e){this._internalRoot=e}_f.prototype.render=lx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Nf(e,t,null,null)};_f.prototype.unmount=lx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ls(function(){Nf(null,e,null,null)}),t[Kn]=null}};function _f(e){this._internalRoot=e}_f.prototype.unstable_scheduleHydration=function(e){if(e){var t=R_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sa.length&&t!==0&&t<Sa[r].priority;r++);Sa.splice(r,0,e),r===0&&$_(e)}};function cx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ew(){}function II(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ud(o);i.call(u)}}var o=nS(t,n,e,0,null,!1,!1,"",ew);return e._reactRootContainer=o,e[Kn]=o.current,El(e.nodeType===8?e.parentNode:e),Ls(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ud(c);l.call(u)}}var c=ix(e,0,!1,null,null,!1,!1,"",ew);return e._reactRootContainer=c,e[Kn]=c.current,El(e.nodeType===8?e.parentNode:e),Ls(function(){Nf(t,c,r,n)}),c}function Cf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ud(o);l.call(c)}}Nf(t,o,e,a)}else o=II(r,t,e,a,n);return ud(o)}I_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zo(t.pendingLanes);r!==0&&(E0(t,r|1),ar(t,rt()),!(pe&6)&&(Wi=rt()+500,Za()))}break;case 13:Ls(function(){var n=Gn(e,1);if(n!==null){var a=Kt();en(n,e,1,a)}}),ox(e,1)}};P0=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var r=Kt();en(t,e,134217728,r)}ox(e,134217728)}};M_=function(e){if(e.tag===13){var t=za(e),r=Gn(e,t);if(r!==null){var n=Kt();en(r,e,t,n)}ox(e,t)}};R_=function(){return we};D_=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};vp=function(e,t,r){switch(t){case"input":if(dp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=gf(n);if(!a)throw Error(K(90));h_(n),dp(n,a)}}}break;case"textarea":p_(e,r);break;case"select":t=r.value,t!=null&&Ci(e,!!r.multiple,t,!1)}};j_=rx;N_=Ls;var MI={usingClientEntryPoint:!1,Events:[nc,vi,gf,b_,w_,rx]},Fo={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RI={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C_(e),e===null?null:e.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||TI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{ff=Yc.inject(RI),pn=Yc}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MI;vr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cx(t))throw Error(K(200));return OI(e,t,null,r)};vr.createRoot=function(e,t){if(!cx(e))throw Error(K(299));var r=!1,n="",a=aS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ix(e,1,!1,null,null,r,!1,n,a),e[Kn]=t.current,El(e.nodeType===8?e.parentNode:e),new lx(t)};vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=C_(t),e=e===null?null:e.stateNode,e};vr.flushSync=function(e){return Ls(e)};vr.hydrate=function(e,t,r){if(!Sf(t))throw Error(K(200));return Cf(null,e,t,!0,r)};vr.hydrateRoot=function(e,t,r){if(!cx(e))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=aS;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=nS(t,null,e,1,r??null,a,!1,i,o),e[Kn]=t.current,El(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new _f(t)};vr.render=function(e,t,r){if(!Sf(t))throw Error(K(200));return Cf(null,e,t,!1,r)};vr.unmountComponentAtNode=function(e){if(!Sf(e))throw Error(K(40));return e._reactRootContainer?(Ls(function(){Cf(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1};vr.unstable_batchedUpdates=rx;vr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sf(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Cf(e,t,r,!1,n)};vr.version="18.3.1-next-f1338f8080-20240426";function sS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sS)}catch(e){console.error(e)}}sS(),s_.exports=vr;var ux=s_.exports,tw=ux;ap.createRoot=tw.createRoot,ap.hydrateRoot=tw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}var Oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oa||(Oa={}));const rw="popstate";function DI(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Qp("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:dd(a)}return LI(t,r,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $I(){return Math.random().toString(36).substr(2,8)}function nw(e,t){return{usr:e.state,key:e.key,idx:t}}function Qp(e,t,r,n){return r===void 0&&(r=null),$l({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fo(t):t,{state:r,key:t&&t.key||n||$I()})}function dd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function LI(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Oa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState($l({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Oa.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:x.location,delta:b})}function h(y,b){l=Oa.Push;let j=Qp(x.location,y,b);u=d()+1;let v=nw(j,u),w=x.createHref(j);try{o.pushState(v,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}i&&c&&c({action:l,location:x.location,delta:1})}function m(y,b){l=Oa.Replace;let j=Qp(x.location,y,b);u=d();let v=nw(j,u),w=x.createHref(j);o.replaceState(v,"",w),i&&c&&c({action:l,location:x.location,delta:0})}function g(y){let b=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof y=="string"?y:dd(y);return j=j.replace(/ $/,"%20"),nt(b,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,b)}let x={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(rw,f),c=y,()=>{a.removeEventListener(rw,f),c=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(y){return o.go(y)}};return x}var aw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aw||(aw={}));function FI(e,t,r){return r===void 0&&(r="/"),BI(e,t,r)}function BI(e,t,r,n){let a=typeof t=="string"?fo(t):t,i=dx(a.pathname||"/",r);if(i==null)return null;let o=oS(e);zI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ZI(i);l=XI(o[c],u)}return l}function oS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=qa([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oS(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:HI(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of lS(i.path))a(i,o,c)}),t}function lS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=lS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const UI=/^:[\w-]+$/,qI=3,WI=2,VI=1,KI=10,GI=-2,sw=e=>e==="*";function HI(e,t){let r=e.split("/"),n=r.length;return r.some(sw)&&(n+=GI),t&&(n+=WI),r.filter(a=>!sw(a)).reduce((a,i)=>a+(UI.test(i)?qI:i===""?VI:KI),n)}function YI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function XI(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=QI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:qa([i,f.pathname]),pathnameBase:n3(qa([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=qa([i,f.pathnameBase]))}return o}function QI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=JI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function JI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),iS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function ZI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return iS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function e3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?fo(e):e;return{pathname:r?r.startsWith("/")?r:t3(r,t):t,search:a3(n),hash:s3(a)}}function t3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function dm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function fx(e,t){let r=r3(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function hx(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=fo(e):(a=$l({},e),nt(!a.pathname||!a.pathname.includes("?"),dm("?","pathname","search",a)),nt(!a.pathname||!a.pathname.includes("#"),dm("#","pathname","hash",a)),nt(!a.search||!a.search.includes("#"),dm("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=e3(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const qa=e=>e.join("/").replace(/\/\/+/g,"/"),n3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),a3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function i3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cS=["post","put","patch","delete"];new Set(cS);const o3=["get",...cS];new Set(o3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}const mx=p.createContext(null),l3=p.createContext(null),es=p.createContext(null),kf=p.createContext(null),sa=p.createContext({outlet:null,matches:[],isDataRoute:!1}),uS=p.createContext(null);function c3(e,t){let{relative:r}=t===void 0?{}:t;ho()||nt(!1);let{basename:n,navigator:a}=p.useContext(es),{hash:i,pathname:o,search:l}=fS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:qa([n,o])),a.createHref({pathname:c,search:l,hash:i})}function ho(){return p.useContext(kf)!=null}function ts(){return ho()||nt(!1),p.useContext(kf).location}function dS(e){p.useContext(es).static||p.useLayoutEffect(e)}function on(){let{isDataRoute:e}=p.useContext(sa);return e?N3():u3()}function u3(){ho()||nt(!1);let e=p.useContext(mx),{basename:t,future:r,navigator:n}=p.useContext(es),{matches:a}=p.useContext(sa),{pathname:i}=ts(),o=JSON.stringify(fx(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return dS(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=hx(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qa([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function d3(){let{matches:e}=p.useContext(sa),t=e[e.length-1];return t?t.params:{}}function fS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(es),{matches:a}=p.useContext(sa),{pathname:i}=ts(),o=JSON.stringify(fx(a,n.v7_relativeSplatPath));return p.useMemo(()=>hx(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function f3(e,t){return h3(e,t)}function h3(e,t,r,n){ho()||nt(!1);let{navigator:a}=p.useContext(es),{matches:i}=p.useContext(sa),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ts(),d;if(t){var f;let y=typeof t=="string"?fo(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||nt(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=FI(e,{pathname:m}),x=v3(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:qa([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:qa([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&x?p.createElement(kf.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Oa.Pop}},x):x}function m3(){let e=j3(),t=i3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const p3=p.createElement(m3,null);class g3 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(sa.Provider,{value:this.props.routeContext},p.createElement(uS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x3(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(mx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(sa.Provider,{value:t},n)}function v3(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||nt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,x=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||p3,c&&(u<0&&h===0?(_3("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),j=()=>{let v;return m?v=x:g?v=y:f.route.Component?v=p.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,p.createElement(x3,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(g3,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:j(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):j()},null)}var hS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hS||{}),mS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mS||{});function y3(e){let t=p.useContext(mx);return t||nt(!1),t}function b3(e){let t=p.useContext(l3);return t||nt(!1),t}function w3(e){let t=p.useContext(sa);return t||nt(!1),t}function pS(e){let t=w3(),r=t.matches[t.matches.length-1];return r.route.id||nt(!1),r.route.id}function j3(){var e;let t=p.useContext(uS),r=b3(),n=pS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function N3(){let{router:e}=y3(hS.UseNavigateStable),t=pS(mS.UseNavigateStable),r=p.useRef(!1);return dS(()=>{r.current=!0}),p.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ll({fromRouteId:t},i)))},[e,t])}const iw={};function _3(e,t,r){iw[e]||(iw[e]=!0)}function S3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ow(e){let{to:t,replace:r,state:n,relative:a}=e;ho()||nt(!1);let{future:i,static:o}=p.useContext(es),{matches:l}=p.useContext(sa),{pathname:c}=ts(),u=on(),d=hx(t,fx(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ye(e){nt(!1)}function C3(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Oa.Pop,navigator:i,static:o=!1,future:l}=e;ho()&&nt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:Ll({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=fo(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,x=p.useMemo(()=>{let y=dx(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return x==null?null:p.createElement(es.Provider,{value:u},p.createElement(kf.Provider,{children:r,value:x}))}function k3(e){let{children:t,location:r}=e;return f3(Jp(t),r)}new Promise(()=>{});function Jp(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let i=[...t,a];if(n.type===p.Fragment){r.push.apply(r,Jp(n.props.children,i));return}n.type!==ye&&nt(!1),!n.props.index||!n.props.children||nt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Jp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(this,arguments)}function E3(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function P3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function A3(e,t){return e.button===0&&(!t||t==="_self")&&!P3(e)}function eg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function O3(e,t){let r=eg(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const T3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I3="6";try{window.__reactRouterVersion=I3}catch{}const M3="startTransition",lw=df[M3];function R3(e){let{basename:t,children:r,future:n,window:a}=e,i=p.useRef();i.current==null&&(i.current=DI({window:a,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&lw?lw(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>S3(n),[n]),p.createElement(C3,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const D3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=p.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=E3(t,T3),{basename:m}=p.useContext(es),g,x=!1;if(typeof u=="string"&&$3.test(u)&&(g=u,D3))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),N=dx(w.pathname,m);w.origin===v.origin&&N!=null?u=N+w.search+w.hash:x=!0}catch{}let y=c3(u,{relative:a}),b=L3(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function j(v){n&&n(v),v.defaultPrevented||b(v)}return p.createElement("a",Zp({},h,{href:g||y,onClick:x||i?n:j,ref:r,target:c}))});var cw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cw||(cw={}));var uw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uw||(uw={}));function L3(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=on(),u=ts(),d=fS(e,{relative:o});return p.useCallback(f=>{if(A3(f,r)){f.preventDefault();let h=n!==void 0?n:dd(u)===dd(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function F3(e){let t=p.useRef(eg(e)),r=p.useRef(!1),n=ts(),a=p.useMemo(()=>O3(n.search,r.current?null:t.current),[n.search]),i=on(),o=p.useCallback((l,c)=>{const u=eg(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const B3="modulepreload",z3=function(e){return"/"+e},dw={},sc=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=z3(c),c in dw)return;dw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":B3,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},U3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>sc(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class px extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class q3 extends px{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fw extends px{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hw extends px{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tg||(tg={}));var W3=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class V3{constructor(t,{headers:r={},customFetch:n,region:a=tg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=U3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return W3(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(x=>{throw new q3(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new fw(f);if(!f.ok)throw new hw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof hw||a instanceof fw?a.context:void 0}}})}}var Jt={},gx={},Ef={},ic={},Pf={},Af={},K3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vi=K3();const G3=Vi.fetch,gS=Vi.fetch.bind(Vi),xS=Vi.Headers,H3=Vi.Request,Y3=Vi.Response,mo=Object.freeze(Object.defineProperty({__proto__:null,Headers:xS,Request:H3,Response:Y3,default:gS,fetch:G3},Symbol.toStringTag,{value:"Module"})),X3=u4(mo);var Of={};Object.defineProperty(Of,"__esModule",{value:!0});let Q3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Of.default=Q3;var vS=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Af,"__esModule",{value:!0});const J3=vS(X3),Z3=vS(Of);let e5=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=J3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,h=null,m=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=j:f=JSON.parse(j))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await i.text();try{d=JSON.parse(y),Array.isArray(d)&&i.status===404&&(f=[],d=null,m=200,g="OK")}catch{i.status===404&&y===""?(m=204,g="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,g="OK"),d&&this.shouldThrowOnError)throw new Z3.default(d)}return{error:d,data:f,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Af.default=e5;var t5=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pf,"__esModule",{value:!0});const r5=t5(Af);let n5=class extends r5.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Pf.default=n5;var a5=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ic,"__esModule",{value:!0});const s5=a5(Pf);let i5=class extends s5.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ic.default=i5;var o5=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ef,"__esModule",{value:!0});const Bo=o5(ic);let l5=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Bo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Bo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Bo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Bo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Bo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ef.default=l5;var yS=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gx,"__esModule",{value:!0});const c5=yS(Ef),u5=yS(ic);let d5=class bS{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new c5.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new u5.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};gx.default=d5;var po=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.PostgrestError=Jt.PostgrestBuilder=Jt.PostgrestTransformBuilder=Jt.PostgrestFilterBuilder=Jt.PostgrestQueryBuilder=Jt.PostgrestClient=void 0;const wS=po(gx);Jt.PostgrestClient=wS.default;const jS=po(Ef);Jt.PostgrestQueryBuilder=jS.default;const NS=po(ic);Jt.PostgrestFilterBuilder=NS.default;const _S=po(Pf);Jt.PostgrestTransformBuilder=_S.default;const SS=po(Af);Jt.PostgrestBuilder=SS.default;const CS=po(Of);Jt.PostgrestError=CS.default;var f5=Jt.default={PostgrestClient:wS.default,PostgrestQueryBuilder:jS.default,PostgrestFilterBuilder:NS.default,PostgrestTransformBuilder:_S.default,PostgrestBuilder:SS.default,PostgrestError:CS.default};const{PostgrestClient:h5,PostgrestQueryBuilder:jJ,PostgrestFilterBuilder:NJ,PostgrestTransformBuilder:_J,PostgrestBuilder:SJ,PostgrestError:CJ}=f5;class m5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const p5="2.15.5",g5=`realtime-js/${p5}`,x5="1.0.0",rg=1e4,v5=1e3,y5=100;var hl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hl||(hl={}));var lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lt||(lt={}));var Yr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yr||(Yr={}));var ng;(function(e){e.websocket="websocket"})(ng||(ng={}));var vs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vs||(vs={}));class b5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class kS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ae||(Ae={}));const mw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=w5(o,e,t,a),i),{})},w5=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?ES(i,o):ag(o)},ES=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return S5(t,r)}switch(e){case Ae.bool:return j5(t);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return N5(t);case Ae.json:case Ae.jsonb:return _5(t);case Ae.timestamp:return C5(t);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return ag(t);default:return ag(t)}},ag=e=>e,j5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},N5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},S5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ES(t,l))}return e},C5=e=>typeof e=="string"?e.replace(" ","T"):e,PS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class fm{constructor(t,r,n={},a=rg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pw||(pw={}));class ml{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ml.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ml.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ml.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),x=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gw||(gw={}));var pl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pl||(pl={}));var An;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));class xx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fm(this,Yr.join,this.params,this.timeout),this.rejoinTimer=new kS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new ml(this),this.broadcastEndpointURL=PS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[pl.PRESENCE]&&this.bindings[pl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(An.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(An.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(An.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,b=[];for(let j=0;j<y;j++){const v=x[j],{filter:{event:w,schema:N,table:_,filter:S}}=v,C=m&&m[j];if(C&&C.event===w&&C.schema===N&&C.table===_&&C.filter===S)b.push(Object.assign(Object.assign({},v),{id:C.id}));else{this.unsubscribe(),this.state=lt.errored,t==null||t(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(An.SUBSCRIBED);return}}).receive("error",m=>{this.state=lt.errored,t==null||t(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===lt.joined&&t===pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new fm(this,Yr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new fm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>y5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Yr;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,x,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(x=m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,x,y,b,j,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,N=(g=m.filter)===null||g===void 0?void 0:g.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(j=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return w==="*"||w===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:x,table:y,commit_timestamp:b,type:j,errors:v}=g;h=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:b,eventType:j,new:{},old:{},errors:v}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&xx.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yr.close,{},t)}_onError(t){this._on(Yr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mw(t.columns,t.old_record)),r}}const hm=()=>{},Xc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},k5=[1e3,2e3,5e3,1e4],E5=1e4,P5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class A5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rg,this.transport=null,this.heartbeatIntervalMs=Xc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hm,this.ref=0,this.reconnectTimer=null,this.logger=hm,this.conn=null,this.sendBuffer=[],this.serializer=new b5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>sc(async()=>{const{default:l}=await Promise.resolve().then(()=>mo);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ng.websocket}`,this.httpEndpoint=PS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=m5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:x5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hl.connecting:return vs.Connecting;case hl.open:return vs.Open;case hl.closing:return vs.Closing;default:return vs.Closed}}isConnected(){return this.connectionState()===vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new xx(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(v5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([P5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:g5};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Yr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:rg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Xc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:hm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>k5[f-1]||E5,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class O5 extends vx{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sg extends vx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var T5=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const AS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>sc(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},I5=()=>T5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sc(()=>Promise.resolve().then(()=>mo),void 0)).Response:Response}),ig=e=>{if(Array.isArray(e))return e.map(r=>ig(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=ig(n)}),t},M5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ys=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const mm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),R5=(e,t,r)=>Ys(void 0,void 0,void 0,function*(){const n=yield I5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new O5(mm(a),i,o))}).catch(a=>{t(new sg(mm(a),a))}):t(new sg(mm(e),e))}),D5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(M5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function oc(e,t,r,n,a,i){return Ys(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,D5(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>R5(c,l,n))})})}function fd(e,t,r,n){return Ys(this,void 0,void 0,function*(){return oc(e,"GET",t,r,n)})}function dn(e,t,r,n,a){return Ys(this,void 0,void 0,function*(){return oc(e,"POST",t,n,a,r)})}function og(e,t,r,n,a){return Ys(this,void 0,void 0,function*(){return oc(e,"PUT",t,n,a,r)})}function $5(e,t,r,n){return Ys(this,void 0,void 0,function*(){return oc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function OS(e,t,r,n,a){return Ys(this,void 0,void 0,function*(){return oc(e,"DELETE",t,n,a,r)})}var Ut=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const L5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class F5{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=AS(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ut(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},xw),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?og:dn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ut(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:xw.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield og(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ct(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new vx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:{path:(yield dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ut(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield dn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ut(this,void 0,void 0,function*(){try{const a=yield dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}download(t,r){return Ut(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield fd(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}info(t){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield fd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ig(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}exists(t){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n)&&n instanceof sg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield OS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ut(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},L5),r),{prefix:t||""});return{data:yield dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ut(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield dn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const B5="2.12.1",z5={"X-Client-Info":`storage-js/${B5}`};var ai=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class U5{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},z5),r),this.fetch=AS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ai(this,void 0,void 0,function*(){try{return{data:yield fd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}getBucket(t){return ai(this,void 0,void 0,function*(){try{return{data:yield fd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ai(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ai(this,void 0,void 0,function*(){try{return{data:yield og(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ai(this,void 0,void 0,function*(){try{return{data:yield dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ai(this,void 0,void 0,function*(){try{return{data:yield OS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}}class q5 extends U5{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new F5(this.url,this.headers,t,this.fetch)}}const W5="2.57.4";let tl="";typeof Deno<"u"?tl="deno":typeof document<"u"?tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tl="react-native":tl="node";const V5={"X-Client-Info":`supabase-js-${tl}/${W5}`},K5={headers:V5},G5={schema:"public"},H5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Y5={};var X5=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Q5=e=>{let t;return e?t=e:typeof fetch>"u"?t=gS:t=fetch,(...r)=>t(...r)},J5=()=>typeof Headers>"u"?xS:Headers,Z5=(e,t,r)=>{const n=Q5(r),a=J5();return(i,o)=>X5(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var e6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function t6(e){return e.endsWith("/")?e:e+"/"}function r6(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>e6(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function n6(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t6(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const TS="2.71.1",di=30*1e3,lg=3,pm=lg*di,a6="http://localhost:9999",s6="supabase.auth.token",i6={"X-Client-Info":`gotrue-js/${TS}`},cg="X-Supabase-Api-Version",IS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l6=10*60*1e3;class yx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class c6 extends yx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function u6(e){return ce(e)&&e.name==="AuthApiError"}class MS extends yx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class rs extends yx{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class va extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d6(e){return ce(e)&&e.name==="AuthSessionMissingError"}class Qc extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jc extends rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zc extends rs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function f6(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class vw extends rs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ug extends rs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gm(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class yw extends rs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class dg extends rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bw=` 	
\r=`.split(""),h6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bw.length;t+=1)e[bw[t].charCodeAt(0)]=-2;for(let t=0;t<hd.length;t+=1)e[hd[t].charCodeAt(0)]=t;return e})();function ww(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hd[n]),t.queuedBits-=6}}function RS(e,t,r){const n=h6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jw(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{g6(o,n,r)};for(let o=0;o<e.length;o+=1)RS(e.charCodeAt(o),a,i);return t.join("")}function m6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function p6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}m6(n,t)}}function g6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function x6(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)RS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function v6(e){const t=[];return p6(e,r=>t.push(r)),new Uint8Array(t)}function y6(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>ww(a,r,n)),ww(null,r,n),t.join("")}function b6(e){return Math.round(Date.now()/1e3)+e}function w6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vr=()=>typeof window<"u"&&typeof document<"u",cs={tested:!1,writable:!1},DS=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cs.tested)return cs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),cs.tested=!0,cs.writable=!0}catch{cs.tested=!0,cs.writable=!1}return cs.writable};function j6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const $S=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>sc(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},N6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},us=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pa=async(e,t)=>{await e.removeItem(t)};class Tf{constructor(){this.promise=new Tf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Tf.promiseConstructor=Promise;function xm(e){const t=e.split(".");if(t.length!==3)throw new dg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!o6.test(t[n]))throw new dg("JWT not in base64url format");return{header:JSON.parse(jw(t[0])),payload:JSON.parse(jw(t[1])),signature:x6(t[2]),raw:{header:t[0],payload:t[1]}}}async function _6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function S6(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function C6(e){return("0"+e.toString(16)).substr(-2)}function k6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,C6).join("")}async function E6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function P6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await E6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function si(e,t,r=!1){const n=k6();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await fi(e,`${t}-code-verifier`,a);const i=await P6(n);return[i,n===i?"plain":"s256"]}const A6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O6(e){const t=e.headers.get(cg);if(!t||!t.match(A6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function T6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function I6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const M6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ii(e){if(!M6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nw(e){return JSON.parse(JSON.stringify(e))}var R6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ms=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D6=[502,503,504];async function _w(e){var t;if(!N6(e))throw new ug(ms(e),0);if(D6.includes(e.status))throw new ug(ms(e),e.status);let r;try{r=await e.json()}catch(i){throw new MS(ms(i),i)}let n;const a=O6(e);if(a&&a.getTime()>=IS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yw(ms(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new va}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yw(ms(r),e.status,r.weak_password.reasons);throw new c6(ms(r),e.status||500,n)}const $6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function de(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[cg]||(i[cg]=IS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await L6(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function L6(e,t,r,n,a,i){const o=$6(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new ug(ms(c),0)}if(l.ok||await _w(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await _w(c)}}function kn(e){var t;let r=null;U6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=b6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Sw(e){const t=kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ka(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function F6(e){return{data:e,error:null}}function B6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=R6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function z6(e){return e}function U6(e){return e.access_token&&e.refresh_token&&e.expires_in}const ym=["global","local","others"];var q6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class W6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$S(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ym[0]){if(ym.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ym.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ka})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=q6(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:B6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ka})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:z6});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ii(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ka})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ii(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ka})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ii(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ka})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ii(t.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ii(t.userId),ii(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function Cw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function V6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const oi={debug:!!(globalThis&&DS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class K6 extends LS{}async function G6(e,t,r){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new K6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}V6();const H6={url:a6,storageKey:s6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kw(e,t,r){return await r()}const li={};class Fl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fl.nextInstanceID,Fl.nextInstanceID+=1,this.instanceID>0&&Vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},H6),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new W6({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=$S(a.fetch),this.lock=a.lock||kw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Vr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=G6:this.lock=kw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:DS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Cw(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${TS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=j6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),f6(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?{error:r}:{error:new MS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:kn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await si(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:kn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kn})}else throw new Jc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sw})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sw})}else throw new Jc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Qc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:y,wallet:b,statement:j,options:v}=t;let w;if(Vr())if(typeof b=="object")w=b;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))w=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const N=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const _=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),j?{statement:j}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=_}}try{const{data:y,error:b}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:y6(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:kn});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Qc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(ce(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await us(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kn});if(await pa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Qc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ce(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Qc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await si(this.storage,this.storageKey));const{error:f}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Jc("You must provide either an email or phone number.")}catch(l){if(ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:kn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await si(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:F6})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new va;const{error:a}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Jc("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await us(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<pm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await us(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=vm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ka}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new va}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ka})})}catch(r){if(ce(r))return d6(r)&&(await this._removeSession(),await pa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new va;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await si(this.storage,this.storageKey));const{data:u,error:d}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ka});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new va;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=xm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ce(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new va;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Vr())throw new Zc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vw("No code detected.");const{data:j,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Zc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:x,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(ce(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await us(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(u6(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await pa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=w6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await si(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Vr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ce(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await S6(async a=>(a>0&&await _6(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&gm(i)&&Date.now()+o-n<di})}catch(n){if(this._debug(r,"error",n),ce(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await us(this.storage,this.storageKey);if(a&&this.userStorage){let o=await us(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await fi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:vm()}else if(a&&!a.user&&!a.user){const o=await us(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await pa(this.storage,this.storageKey+"-user"),await fi(this.storage,this.storageKey,a)):a.user=vm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<pm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${pm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),gm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new va;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Tf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new va;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ce(i)){const o={session:null,error:i};return gm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Nw(a);await fi(this.storage,this.storageKey,i)}else{const a=Nw(r);await fi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await pa(this.storage,this.storageKey),await pa(this.storage,this.storageKey+"-code-verifier"),await pa(this.storage,this.storageKey+"-user"),this.userStorage&&await pa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),di);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${di}ms, refresh threshold is ${lg} ticks`),a<=lg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await si(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await de(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=xm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+l6>a)return n;const{data:i,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=xm(n);r!=null&&r.allowExpired||T6(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=I6(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,v6(`${l}.${c}`)))throw new dg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}Fl.nextInstanceID=0;const Y6=Fl;class X6 extends Y6{constructor(t){super(t)}}var Q6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class J6{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=n6(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:G5,realtime:Y5,auth:Object.assign(Object.assign({},H5),{storageKey:c}),global:K5},d=r6(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Z5(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new h5(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new q5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new V3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Q6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new X6({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new A5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z6=(e,t,r)=>new J6(e,t,r);function eM(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}eM()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tM="https://dbwbxzbtydeauczfleqx.supabase.co",rM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRid2J4emJ0eWRlYXVjemZsZXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyODgxMDcsImV4cCI6MjA3Mjg2NDEwN30.t-SDdi41bhb8piYz9GyyEJWGE3H_BdTtAC8VZgxhW1E",te=Z6(tM,rM,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Xs=()=>{const[e,t]=p.useState([]);return{toast:n=>{const a=Math.random().toString(36).substr(2,9),i={...n,id:a};t(o=>[...o,i]),alert(`${n.title}: ${n.description}`),setTimeout(()=>{t(o=>o.filter(l=>l.id!==a))},5e3)},toasts:e}},FS=p.createContext({user:null,profile:null,loading:!0,signOut:async()=>{},signUp:async()=>{},signIn:async()=>{},resetPassword:async()=>{},updateProfile:async()=>{},checkSubscription:async()=>{},updatePerfil:async()=>{},upgradeUser:async()=>{},perfilConfeitaria:null});function nM({children:e}){const[t,r]=p.useState(null),[n,a]=p.useState(null),[i,o]=p.useState(!0),l=on(),{toast:c}=Xs(),u=async v=>{try{const w=[{nome:"Bolos",cor_hex:"#FF6B6B",icone:"🎂",ordem:1},{nome:"Doces",cor_hex:"#4ECDC4",icone:"🍬",ordem:2},{nome:"Salgados",cor_hex:"#45B7D1",icone:"🥧",ordem:3},{nome:"Tortas",cor_hex:"#96CEB4",icone:"🥧",ordem:4},{nome:"Sobremesas",cor_hex:"#FFEAA7",icone:"🍰",ordem:5}];for(const N of w)await te.from("categorias").insert({user_id:v,...N});await te.from("configuracoes_usuario").insert({user_id:v,moeda:"BRL",fuso_horario:"America/Sao_Paulo",margem_padrao:30,custo_hora_trabalho:25,notificacoes_email:!0,notificacoes_whatsapp:!0})}catch(w){console.error("Erro ao inicializar dados do usuário:",w)}},d=async v=>{try{const{data:w,error:N}=await te.from("profiles").select("*").eq("id",v).single();if(N&&N.code!=="PGRST116")throw N;if(w){const _={id:w.id,nome:w.nome,email:w.email,plano:w.plano||"free",nome_negocio:w.nome_negocio||void 0,whatsapp:w.whatsapp||void 0,instagram:w.instagram||void 0,endereco:w.endereco||void 0,cidade:w.cidade||void 0,estado:w.estado||void 0,bio:w.bio||void 0,foto_perfil:w.foto_perfil||void 0};a(_)}}catch(w){console.error("Erro ao buscar perfil:",w)}};p.useEffect(()=>{te.auth.getSession().then(({data:{session:w}})=>{r((w==null?void 0:w.user)??null),w!=null&&w.user&&d(w.user.id),o(!1)});const{data:{subscription:v}}=te.auth.onAuthStateChange((w,N)=>{r((N==null?void 0:N.user)??null),o(!1),N!=null&&N.user?setTimeout(()=>{d(N.user.id),w==="SIGNED_IN"&&(j(),l("/dashboard",{replace:!0}))},0):a(null)});return()=>v.unsubscribe()},[]);const f=async(v,w,N,_)=>{try{o(!0);const{data:S,error:C}=await te.auth.signUp({email:v,password:w,options:{emailRedirectTo:`${window.location.origin}/dashboard`,data:{nome:N,nome_negocio:_}}});if(C)throw C;if(S.user){const{error:T}=await te.from("profiles").insert({id:S.user.id,email:v,nome:N,nome_negocio:_||"",plano:"free",password:"supabase_managed"});if(T)throw T;await u(S.user.id),c({title:"Conta criada com sucesso!",description:"Bem-vinda ao DoceCalc. Sua conta já está pronta para uso."})}}catch(S){throw c({title:"Erro ao criar conta",description:S.message,variant:"destructive"}),o(!1),S}},h=async(v,w)=>{try{o(!0);const{error:N}=await te.auth.signInWithPassword({email:v,password:w});if(N)throw N;c({title:"Login realizado!",description:"Bem-vindo de volta!"});return}catch(N){throw c({title:"Erro no login",description:N.message,variant:"destructive"}),o(!1),N}},m=async()=>{try{const{error:v}=await te.auth.signOut();if(v)throw v;r(null),a(null),l("/"),c({title:"Logout realizado",description:"Até logo!"})}catch(v){c({title:"Erro no logout",description:v.message,variant:"destructive"})}},g=async v=>{try{const{error:w}=await te.auth.resetPasswordForEmail(v,{redirectTo:`${window.location.origin}/reset-password`});if(w)throw w;c({title:"Email enviado!",description:"Verifique sua caixa de entrada para redefinir a senha."})}catch(w){throw c({title:"Erro ao enviar email",description:w.message,variant:"destructive"}),w}},x=async v=>{if(!(!t||!n))try{const{error:w}=await te.from("profiles").update(v).eq("id",t.id);if(w)throw w;a({...n,...v}),c({title:"Perfil atualizado!",description:"Suas informações foram salvas."})}catch(w){throw c({title:"Erro ao atualizar perfil",description:w.message,variant:"destructive"}),w}},y=x,b=async v=>{await x({plano:v})},j=async()=>{if(t)try{const{data:v,error:w}=await te.functions.invoke("check-subscription",{body:{userEmail:t.email}});if(w)throw w;v!=null&&v.subscribed&&(n==null?void 0:n.plano)!=="professional"?await x({plano:"professional"}):!(v!=null&&v.subscribed)&&(n==null?void 0:n.plano)!=="free"&&await x({plano:"free"})}catch(v){console.error("Erro ao verificar assinatura:",v)}};return s.jsx(FS.Provider,{value:{user:t,profile:n,loading:i,signOut:m,signUp:f,signIn:h,resetPassword:g,updateProfile:x,checkSubscription:j,updatePerfil:y,upgradeUser:b,perfilConfeitaria:n},children:e})}const Ie=()=>{const e=p.useContext(FS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};var aM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>p.createElement("svg",{ref:u,...aM,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${sM(e)}`,...c},[...t.map(([d,f])=>p.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r},bx=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Iu=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ve=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),kr=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),iM=Y("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),md=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),oM=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),lM=Y("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),cM=Y("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Es=Y("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),bm=Y("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),uM=Y("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),dM=Y("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),wm=Y("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]),tn=Y("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),If=Y("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ga=Y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),fM=Y("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),je=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ps=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),hM=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),mM=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ns=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),BS=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),lc=Y("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Yn=Y("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),sn=Y("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),go=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),zS=Y("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ew=Y("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),fg=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ht=Y("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),pM=Y("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),US=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Pw=Y("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),gM=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),qS=Y("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),wx=Y("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),hn=Y("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Mu=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),pd=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),xM=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),xn=Y("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Aw=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),vM=Y("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Fs=Y("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),jx=Y("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Bn=Y("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),WS=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),yM=Y("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),VS=Y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),gr=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),rn=Y("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Ow=Y("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),jm=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),bM=Y("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Bl=Y("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),wM=Y("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Xn=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ti=Y("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),jM=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),zl=Y("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),hg=Y("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Zt=Y("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),NM=Y("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),KS=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Qn=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),mg=Y("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Tw=Y("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),gd=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Iw=Y("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Mw=Y("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),Rw=Y("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),nn=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),pg=Y("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Jn=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Lr=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Tr=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),vn=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),_M=Y("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Lt=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ki=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function ze({children:e,requiresPro:t=!1}){const{user:r,profile:n,loading:a}=Ie(),i=ts();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(wx,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):r?t&&(n==null?void 0:n.plano)!=="professional"?s.jsx(ow,{to:"/upgrade",replace:!0}):s.jsx(s.Fragment,{children:e}):s.jsx(ow,{to:"/login",state:{from:i},replace:!0})}function SM(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[a,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),h=on(),{toast:m}=Xs();p.useEffect(()=>{te.auth.getSession().then(({data:{session:x}})=>{x&&x.user.aud==="authenticated"?f(!0):h("/login")})},[h]);const g=async x=>{if(x.preventDefault(),e!==r){m({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});return}if(e.length<6){m({title:"Erro",description:"A senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}u(!0);try{const{error:y}=await te.auth.updateUser({password:e});if(y)throw y;m({title:"Senha alterada!",description:"Sua senha foi alterada com sucesso."}),h("/dashboard")}catch(y){m({title:"Erro ao alterar senha",description:y.message,variant:"destructive"})}finally{u(!1)}};return d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-100 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 relative",children:[s.jsx(re,{to:"/login",className:"absolute top-6 left-6 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Ve,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full",children:s.jsx(Mu,{className:"h-8 w-8 text-white"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Nova Senha"}),s.jsx("p",{className:"text-gray-600",children:"Digite sua nova senha"})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:a?"text":"password",value:e,onChange:x=>t(x.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Digite sua nova senha",required:!0,minLength:6}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?s.jsx(Ew,{className:"h-5 w-5"}):s.jsx(fg,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nova Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:o?"text":"password",value:r,onChange:x=>n(x.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Confirme sua nova senha",required:!0,minLength:6}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?s.jsx(Ew,{className:"h-5 w-5"}):s.jsx(fg,{className:"h-5 w-5"})})]})]}),s.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-lg hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-all duration-200",children:c?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Alterando..."})]}):"Alterar Senha"})]})]})}):null}const Gi=[{id:"free",nome:"Gratuito",preco_mensal:0,limite_receitas:5,limite_orcamentos:3,descricao:"Ideal para começar",funcionalidades:["Até 5 receitas cadastradas","Calculadora básica de custos","3 orçamentos por mês","Biblioteca com 20 ingredientes padrão","Acesso web básico"]},{id:"professional",nome:"Profissional",preco_mensal:39.9,limite_receitas:null,limite_orcamentos:null,descricao:"Acesso completo a todas as funcionalidades",popular:!0,funcionalidades:["Receitas ilimitadas","Orçamentos ilimitados","Gestão completa de ingredientes","Gestão completa de clientes","Controle completo de pedidos","Relatórios completos","Backup automático","Catálogo público ilimitado","Comunidade completa","Todas as ferramentas","Suporte prioritário"]}];function CM(){var x;const[e,t]=p.useState(""),[r,n]=p.useState(!1),[a,i]=p.useState(!1),[o,l]=p.useState([{nome:"Leite condensado",quantidade:1,preco:3.95},{nome:"Chocolate pó",quantidade:50,preco:.025},{nome:"Manteiga",quantidade:15,preco:.018}]),[c,u]=p.useState(60),[d,f]=p.useState(2.4),[h,m]=p.useState(12.5),g=[{nome:"Maria Silva",confeitaria:"Doces da Maria",avatar:"👩‍🍳",texto:"O DoceCalc revolucionou meu negócio! Agora sei exatamente quanto cobrar e meu lucro aumentou 40%.",estrelas:5},{nome:"Ana Costa",confeitaria:"Bolos & Cia",avatar:"👩‍🦰",texto:"Antes eu chutava os preços. Com o DoceCalc, tenho controle total dos custos e margem de lucro.",estrelas:5},{nome:"Lucia Santos",confeitaria:"Delícias da Lu",avatar:"👩‍🦳",texto:"Excelente ferramenta! A gestão de ingredientes me ajuda muito no controle de estoque.",estrelas:5}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50",children:[s.jsxs("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-50 animate-fade-in",children:[s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wm,{className:"h-8 w-8 text-pink-500"}),s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"DoceCalc"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[s.jsx("a",{href:"#funcionalidades",className:"text-gray-600 hover:text-pink-500 transition-colors story-link",children:"Funcionalidades"}),s.jsx("a",{href:"#planos",className:"text-gray-600 hover:text-pink-500 transition-colors story-link",children:"Planos"}),s.jsx("a",{href:"#depoimentos",className:"text-gray-600 hover:text-pink-500 transition-colors story-link",children:"Depoimentos"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[s.jsx(re,{to:"/login",className:"text-gray-600 hover:text-gray-900 transition-colors font-medium",children:"Entrar"}),s.jsx(re,{to:"/login",className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:shadow-lg hover-scale transition-all duration-200 font-medium",children:"Começar Grátis"})]}),s.jsx("button",{onClick:()=>i(!a),className:"md:hidden text-gray-600 hover:text-gray-900 transition-colors",children:a?s.jsx(Lt,{className:"h-6 w-6"}):s.jsx(xM,{className:"h-6 w-6"})})]}),a&&s.jsx("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white/95 backdrop-blur-sm border-b shadow-lg animate-slide-in-right",children:s.jsxs("div",{className:"px-4 py-4 space-y-4",children:[s.jsx("a",{href:"#funcionalidades",className:"block text-gray-600 hover:text-pink-500 transition-colors py-2",onClick:()=>i(!1),children:"Funcionalidades"}),s.jsx("a",{href:"#planos",className:"block text-gray-600 hover:text-pink-500 transition-colors py-2",onClick:()=>i(!1),children:"Planos"}),s.jsx("a",{href:"#depoimentos",className:"block text-gray-600 hover:text-pink-500 transition-colors py-2",onClick:()=>i(!1),children:"Depoimentos"}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsx(re,{to:"/login",className:"block text-center text-gray-600 hover:text-gray-900 transition-colors font-medium py-2",onClick:()=>i(!1),children:"Entrar"}),s.jsx(re,{to:"/login",className:"block text-center bg-gradient-to-r from-pink-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all duration-200 font-medium",onClick:()=>i(!1),children:"Começar Grátis"})]})]})})]}),s.jsx("section",{className:"py-12 sm:py-16 lg:py-20 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"container mx-auto text-center max-w-4xl animate-fade-in",children:[s.jsx("div",{className:"mb-4 inline-flex items-center px-4 py-2 bg-pink-100 text-pink-700 rounded-full text-sm font-medium animate-bounce-in",children:"+500k Confeiteiras no Brasil 🇧🇷"}),s.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Pare de vender no",s.jsx("span",{className:"text-transparent bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text",children:" prejuízo!"})]}),s.jsxs("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:["A calculadora completa para confeiteiras que querem ter uma confeitaria",s.jsx("strong",{className:"text-pink-600",children:" realmente lucrativa"}),". Calcule preços corretos e venda com confiança!"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[s.jsxs(re,{to:"/login",className:"w-full sm:w-auto bg-gradient-to-r from-pink-500 to-purple-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:shadow-lg hover-scale transition-all duration-200 flex items-center justify-center space-x-2",children:[s.jsx("span",{children:"Começar Grátis Agora"}),s.jsx(kr,{className:"h-5 w-5"})]}),s.jsxs("button",{onClick:()=>n(!r),className:"w-full sm:w-auto border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 flex items-center justify-center space-x-2",children:[s.jsx(VS,{className:"h-5 w-5"}),s.jsx("span",{children:"Ver Demonstração"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center hover-lift p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-pink-600",children:"8k+"}),s.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Buscas mensais"})]}),s.jsxs("div",{className:"text-center hover-lift p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-pink-600",children:"500k+"}),s.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Confeiteiras BR"})]}),s.jsxs("div",{className:"text-center hover-lift p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-pink-600",children:"R$ 39,90"}),s.jsx("div",{className:"text-sm sm:text-base text-gray-600",children:"Por mês apenas"})]})]}),r&&s.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 sm:p-8 max-w-4xl mx-auto mt-12 animate-scale-in",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"🎯 Exemplo Prático: Brigadeiro"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 text-left bg-gradient-to-r from-pink-500 to-purple-600 text-white p-6 rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold mb-2 text-lg",children:"📝 Ingredientes:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"• Leite condensado: R$ 3,95"}),s.jsx("li",{children:"• Chocolate pó: R$ 1,25"}),s.jsx("li",{children:"• Manteiga: R$ 0,27"}),s.jsx("li",{children:"• Granulado: R$ 2,00"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold mb-2 text-lg",children:"⚡ Cálculo Automático:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"• Custo ingredientes: R$ 7,47"}),s.jsx("li",{children:"• Mão de obra (30min): R$ 12,50"}),s.jsx("li",{children:"• Custos fixos: R$ 2,40"}),s.jsx("li",{children:"• Margem 60%: R$ 13,42"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold mb-2 text-lg",children:"💰 Resultado:"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Custo total: R$ 22,37"})]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Preço final: R$ 35,79"})]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Por unidade: R$ 1,20"})]}),s.jsx("li",{children:"• ✅ Lucro real: R$ 13,42"})]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"inline-flex items-center px-4 py-2 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:"✨ Antes você cobrava R$ 1,00 e tinha prejuízo. Agora R$ 1,20 com 60% de lucro!"})})]})]})}),s.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-white/70",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Você já passou por isso? 😰"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"A maioria das confeiteiras comete estes erros que quebram o negócio"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"border-2 border-red-200 bg-red-50/50 rounded-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center text-red-700 mb-4",children:[s.jsx(sn,{className:"h-6 w-6 mr-2 flex-shrink-0"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:'Preço no "achômetro"'})]}),s.jsx("p",{className:"text-red-600 text-sm sm:text-base",children:'"Cobro R$ 3,00 o brigadeiro porque a concorrência cobra isso..." Resultado: prejuízo mascarado que só aparece no final do mês.'})]}),s.jsxs("div",{className:"border-2 border-red-200 bg-red-50/50 rounded-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center text-red-700 mb-4",children:[s.jsx(ns,{className:"h-6 w-6 mr-2 flex-shrink-0"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"Esquece a mão de obra"})]}),s.jsx("p",{className:"text-red-600 text-sm sm:text-base",children:'"Só conto o ingrediente, meu trabalho é de graça!" Seu tempo vale dinheiro e precisa estar no preço.'})]}),s.jsxs("div",{className:"border-2 border-red-200 bg-red-50/50 rounded-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center text-red-700 mb-4",children:[s.jsx(Jn,{className:"h-6 w-6 mr-2 flex-shrink-0"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"Margem de lucro baixa"})]}),s.jsx("p",{className:"text-red-600 text-sm sm:text-base",children:'"20% de lucro está bom..." Não! Para crescer o negócio, você precisa de margens maiores.'})]}),s.jsxs("div",{className:"border-2 border-red-200 bg-red-50/50 rounded-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center text-red-700 mb-4",children:[s.jsx(ht,{className:"h-6 w-6 mr-2 flex-shrink-0"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:"Orçamentos amadores"})]}),s.jsx("p",{className:"text-red-600 text-sm sm:text-base",children:'"Mando por WhatsApp mesmo..." Clientes não levam a sério e você perde vendas por parecer amadora.'})]})]})]})}),s.jsx("section",{id:"funcionalidades",className:"py-12 sm:py-16 lg:py-20",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"A solução completa para sua confeitaria 🎂"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Tudo que você precisa para calcular preços corretos e ter um negócio lucrativo"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(tn,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Calculadora Inteligente"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Calcula automaticamente custos de ingredientes, mão de obra, custos fixos e margem de lucro ideal."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(wm,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Base de Receitas"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Cadastre suas receitas com ingredientes e quantidades. Templates prontos para começar rápido."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(sn,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Preços Atualizados"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Base de ingredientes com preços médios do mercado, atualizada por nossa comunidade."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(yM,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Relatórios Inteligentes"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Veja quais produtos dão mais lucro, análise de custos e insights para otimizar seu negócio."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(ht,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Orçamentos Profissionais"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Gere orçamentos em PDF profissionais para impressionar seus clientes e fechar mais vendas."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift transition-shadow animate-fade-in",children:[s.jsx(Ki,{className:"h-12 w-12 text-pink-500 mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Cálculo Instantâneo"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Mude a quantidade e veja o preço atualizar na hora. Perfeito para atender clientes rapidamente."})]})]})]})}),s.jsx("section",{id:"planos",className:"py-12 sm:py-16 lg:py-20 bg-white/70",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Escolha seu plano 💎"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Comece grátis e upgrade quando seu negócio crescer"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 relative hover-lift animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Plano Gratuito"}),s.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-pink-500",children:"R$ 0"}),s.jsx("p",{className:"text-gray-600",children:"Para sempre"})]}),s.jsxs("ul",{className:"space-y-3 mb-8",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(je,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base",children:"3 receitas cadastradas"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(je,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Calculadora básica"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(je,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Base de ingredientes"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(je,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Suporte por email"})]})]}),s.jsx(re,{to:"/login",className:"w-full py-3 px-4 rounded-lg font-medium transition-colors text-center block bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Começar Grátis"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 relative border-2 border-pink-500 hover-lift animate-fade-in",children:[s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx("div",{className:"bg-pink-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Mais Popular 🔥"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Plano Profissional"}),s.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-pink-500",children:"R$ 39,90"}),s.jsx("p",{className:"text-gray-600",children:"Por mês"})]}),s.jsx("ul",{className:"space-y-3 mb-8",children:(x=Gi.find(y=>y.id==="professional"))==null?void 0:x.funcionalidades.slice(0,8).map((y,b)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx(je,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:y})]},b))}),s.jsx(re,{to:"/login",className:"w-full py-3 px-4 rounded-lg font-medium transition-colors text-center block bg-gradient-to-r from-pink-500 to-purple-600 text-white hover:shadow-lg hover-scale",children:"Começar Agora"})]})]})]})}),s.jsx("section",{id:"depoimentos",className:"py-12 sm:py-16 lg:py-20",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"O que dizem nossas confeiteiras ❤️"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Histórias reais de transformação e sucesso"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:g.map((y,b)=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover-lift animate-fade-in",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("span",{className:"text-3xl mr-3",children:y.avatar}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:y.nome}),s.jsx("p",{className:"text-sm text-gray-600",children:y.confeitaria})]})]}),s.jsx("div",{className:"flex mb-3",children:[...Array(y.estrelas)].map((j,v)=>s.jsx(Qn,{className:"h-4 w-4 text-yellow-400 fill-current"},v))}),s.jsxs("p",{className:"text-gray-700 text-sm sm:text-base leading-relaxed italic",children:['"',y.texto,'"']})]},b))})]})}),s.jsx("section",{className:"py-12 sm:py-16 lg:py-20 bg-gradient-to-r from-pink-500 to-purple-600 text-white",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center animate-fade-in",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-4",children:"Pronta para ter uma confeitaria lucrativa? 🚀"}),s.jsx("p",{className:"text-lg sm:text-xl mb-8 max-w-2xl mx-auto opacity-90",children:"Junte-se a milhares de confeiteiras que já transformaram seus negócios com o DoceCalc. Comece grátis hoje mesmo!"}),s.jsxs(re,{to:"/login",className:"inline-flex items-center space-x-2 bg-white text-pink-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 hover-scale transition-all duration-200",children:[s.jsx("span",{children:"Começar Grátis Agora"}),s.jsx(kr,{className:"h-5 w-5"})]}),s.jsx("p",{className:"mt-4 text-sm opacity-75",children:"✨ Sem compromisso • Sem cartão de crédito • Resultados em minutos"})]})}),s.jsx("footer",{className:"py-8 bg-gray-900 text-white",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[s.jsx(wm,{className:"h-6 w-6 text-pink-500"}),s.jsx("span",{className:"text-xl font-bold",children:"DoceCalc"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"© 2024 DoceCalc. Todos os direitos reservados. Feito com ❤️ para confeiteiras brasileiras."})]})})]})}function kM(){const[e,t]=p.useState(!0),[r,n]=p.useState(""),[a,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[g,x]=p.useState(""),[y,b]=p.useState(""),{signIn:j,signUp:v,resetPassword:w,loading:N}=Ie(),_=async S=>{S.preventDefault(),b("");try{e?await j(r,a):await v(r,a,o,c)}catch(C){b(C instanceof Error?C.message:"Erro desconhecido")}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-purple-100 to-indigo-100 flex items-center justify-center p-4",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 text-6xl",children:"🧁"}),s.jsx("div",{className:"absolute top-20 right-20 text-4xl",children:"🍰"}),s.jsx("div",{className:"absolute bottom-20 left-20 text-5xl",children:"🎂"}),s.jsx("div",{className:"absolute bottom-10 right-10 text-3xl",children:"🍪"}),s.jsx("div",{className:"absolute top-1/2 left-1/3 text-2xl",children:"🥧"})]}),s.jsxs("div",{className:"max-w-md w-full bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 animate-scale-in relative z-10",children:[s.jsx(re,{to:"/",className:"absolute top-6 left-6 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Ve,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full animate-bounce-in",children:s.jsx(tn,{className:"h-12 w-12 text-white"})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"DoceCalc"}),s.jsx("p",{className:"text-gray-600",children:"Calculadora de Preços para Confeiteiras"})]}),s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[!e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seu Nome"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white text-gray-900 placeholder:text-gray-500",placeholder:"Seu nome completo",required:!e})]})]}),s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Confeitaria"}),s.jsxs("div",{className:"relative",children:[s.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:c,onChange:S=>u(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white text-gray-900 placeholder:text-gray-500",placeholder:"Nome da sua confeitaria",required:!e})]})]})]}),s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",value:r,onChange:S=>n(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white text-gray-900 placeholder:text-gray-500",placeholder:"seu@email.com",required:!0})]})]}),s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",value:a,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all duration-200 bg-white text-gray-900 placeholder:text-gray-500",placeholder:"Sua senha",required:!0})]})]}),y&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg animate-fade-in",children:y}),s.jsx("button",{type:"submit",disabled:N,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-4 rounded-lg hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-lg transition-all duration-200 hover-scale",children:N?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Carregando..."})]}):e?"Entrar":"Cadastrar"})]}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-3",children:e?"Não tem uma conta?":"Já tem uma conta?"}),s.jsx("button",{onClick:()=>t(!e),className:"text-pink-500 hover:text-pink-600 font-medium transition-colors story-link",children:e?"Criar conta gratuita":"Fazer login"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-2xl mb-1",children:"🧮"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Calculadora"})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-2xl mb-1",children:"📊"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Relatórios"})]}),s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-2xl mb-1",children:"💰"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Lucro Real"})]})]})]})]})}function GS({children:e}){var h,m;const{user:t,profile:r,signOut:n}=Ie(),a=ts(),[i,o]=p.useState(!1),l=[{name:"Início",href:"/dashboard",icon:Pw},{name:"Calculadora",href:"/calculadora",icon:tn},{name:"Receitas",href:"/receitas",icon:ht},{name:"Ingredientes",href:"/ingredientes",icon:Fs},{name:"Comunidade",href:"/comunidade",icon:vn},{name:"Financeiro",href:"/financeiro",icon:sn}],c=[{name:"Clientes",href:"/clientes",icon:vn},{name:"Orçamentos",href:"/orcamentos",icon:ht},{name:"Catálogo",href:"/custom-catalog",icon:jx},{name:"Marketplace",href:"/marketplace",icon:Zt},{name:"DoceBot IA",href:"/ai-assistant",icon:Es}],u=[{name:"Início",href:"/dashboard",icon:Pw},{name:"Calculadora",href:"/calculadora",icon:tn},{name:"Receitas",href:"/receitas",icon:ht},{name:"Comunidade",href:"/comunidade",icon:vn}],[d,f]=p.useState(!1);return s.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-50",children:[s.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0 w-64",children:s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsxs("div",{className:"flex items-center h-16 flex-shrink-0 px-4 bg-white border-r border-gray-200",children:[s.jsx(tn,{className:"h-8 w-8",style:{color:"var(--primary)"}}),s.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"DoceCalc"})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto bg-white border-r border-gray-200",children:[s.jsxs("nav",{className:"flex-1 px-2 py-4 space-y-1",children:[l.map(g=>{const x=a.pathname===g.href;return s.jsxs(re,{to:g.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${x?"text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,style:x?{backgroundColor:"var(--primary)"}:{},children:[s.jsx(g.icon,{className:`flex-shrink-0 h-5 w-5 ${x?"text-white":"text-gray-400 group-hover:text-gray-500"}`}),s.jsx("span",{className:"ml-3",children:g.name})]},g.name)}),c.map(g=>{const x=a.pathname===g.href;return s.jsxs(re,{to:g.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${x?"text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,style:x?{backgroundColor:"var(--primary)"}:{},children:[s.jsx(g.icon,{className:`flex-shrink-0 h-5 w-5 ${x?"text-white":"text-gray-400 group-hover:text-gray-500"}`}),s.jsx("span",{className:"ml-3",children:g.name})]},g.name)})]}),s.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"📱 Suporte WhatsApp:"}),s.jsx("br",{}),s.jsx("a",{href:"https://wa.me/385915561776",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"+385 915561776"})]}),s.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"text-orange-600 font-medium",children:"⚠️ App em Beta"}),s.jsx("br",{}),"Todo feedback será bem-vindo!",s.jsx("br",{}),"Reporte bugs por favor."]})]})})]})]})}),s.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[s.jsx("div",{className:"relative z-10 flex-shrink-0 flex h-16 bg-white shadow-sm border-gray-200 lg:border-b",children:s.jsxs("div",{className:"flex-1 px-4 lg:px-4 flex justify-between",children:[s.jsx("div",{className:"flex-1 flex",children:s.jsx("div",{className:"flex items-center",children:s.jsxs("h1",{className:"text-lg font-semibold text-gray-900",children:["Olá, ",(r==null?void 0:r.nome)||((h=t==null?void 0:t.email)==null?void 0:h.split("@")[0])||"Confeiteira","! 👋"]})})}),s.jsxs("div",{className:"ml-4 flex items-center md:ml-6 space-x-3",children:[s.jsx("button",{className:"p-1 rounded-full text-gray-400 hover:text-gray-500",children:s.jsx(oM,{className:"h-5 w-5"})}),s.jsxs("div",{className:"relative flex items-center space-x-2",children:[s.jsxs(re,{to:"/perfil",className:"flex items-center space-x-2 p-1 rounded-full hover:bg-gray-50",children:[r!=null&&r.foto_perfil?s.jsx("img",{src:r.foto_perfil,alt:"Foto de perfil",className:"h-8 w-8 rounded-full object-cover"}):s.jsx("div",{className:"h-8 w-8 rounded-full bg-pink-100 flex items-center justify-center",children:s.jsx(Tr,{className:"h-4 w-4 text-pink-600"})}),s.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:(r==null?void 0:r.nome)||((m=t==null?void 0:t.email)==null?void 0:m.split("@")[0])||"Perfil"})]}),s.jsx("button",{onClick:n,className:"text-sm text-gray-500 hover:text-gray-700 px-2 py-1 rounded",children:"Sair"})]})]})]})}),s.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:e})]}),s.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:s.jsxs("div",{className:"grid grid-cols-5 h-16",children:[u.map(g=>{const x=a.pathname===g.href;return s.jsxs(re,{to:g.href,className:`flex flex-col items-center justify-center space-y-1 ${x?"text-white":"text-gray-400"}`,style:x?{backgroundColor:"var(--primary)"}:{},children:[s.jsx(g.icon,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:g.name})]},g.name)}),s.jsxs("button",{className:"flex flex-col items-center justify-center space-y-1 text-gray-400 hover:text-gray-600",onClick:()=>f(!0),children:[s.jsx(gr,{className:"h-5 w-5"}),s.jsx("span",{className:"text-xs",children:"Mais"})]})]})}),d&&s.jsx("div",{className:"lg:hidden fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),s.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all w-full max-w-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Mais Funcionalidades"}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>f(!1),children:s.jsx(Lt,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:c.map(g=>s.jsxs(re,{to:g.href,className:"flex flex-col items-center p-4 rounded-lg border border-gray-200 hover:border-pink-300 hover:bg-pink-50 transition-colors",onClick:()=>f(!1),children:[s.jsx("div",{className:"p-3 rounded-lg bg-gray-100 mb-2",children:s.jsx(g.icon,{className:"h-6 w-6 text-gray-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-900 text-center",children:g.name})]},g.name))})]})]})})]})}function EM(){var r;const{user:e,profile:t}=Ie();return e?s.jsx(GS,{children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-pink-600 rounded-xl p-6 text-white",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Olá, ",(t==null?void 0:t.nome)||((r=e==null?void 0:e.email)==null?void 0:r.split("@")[0])||"Confeiteira","! 👋"]}),s.jsxs("p",{className:"text-pink-100 mb-4",children:["Bem-vinda ao seu painel de controle da ",(t==null?void 0:t.nome_negocio)||"sua confeitaria"]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yn,{className:`h-4 w-4 mr-1 ${(t==null?void 0:t.plano)==="professional"?"text-yellow-300":"text-pink-200"}`}),s.jsxs("span",{children:["Plano ",(t==null?void 0:t.plano)==="professional"?"Pro":"Gratuito"]})]}),(t==null?void 0:t.plano)!=="professional"&&s.jsx(re,{to:"/upgrade",className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-3 py-1 rounded-full text-sm font-medium transition-colors",children:"Fazer Upgrade ✨"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-pink-100",children:s.jsx(ht,{className:"h-5 w-5 text-pink-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Receitas"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"15"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:s.jsx(Fs,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ingredientes"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"32"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:s.jsx(sn,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Receita Hoje"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"R$ 250,00"})]})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Principais Funcionalidades"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(re,{to:"/calculadora",className:"group bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-pink-200 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-pink-100 group-hover:bg-pink-500 transition-colors",children:s.jsx(tn,{className:"h-6 w-6 text-pink-600 group-hover:text-white"})}),s.jsx(kr,{className:"h-5 w-5 text-gray-400 group-hover:text-pink-500"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Calculadora"}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Calcule preços precisos para suas receitas"}),s.jsxs("div",{className:"flex items-center text-sm text-pink-600",children:[s.jsx(Ki,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Ação rápida"})]})]}),s.jsxs(re,{to:"/receitas",className:"group bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-green-200 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-100 group-hover:bg-green-500 transition-colors",children:s.jsx(ht,{className:"h-6 w-6 text-green-600 group-hover:text-white"})}),s.jsx(kr,{className:"h-5 w-5 text-gray-400 group-hover:text-green-500"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Receitas"}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Gerencie e organize suas receitas"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[s.jsx(Es,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Com IA"})]})]}),s.jsxs(re,{to:"/ingredientes",className:"group bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-purple-200 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-100 group-hover:bg-purple-500 transition-colors",children:s.jsx(Fs,{className:"h-6 w-6 text-purple-600 group-hover:text-white"})}),s.jsx(kr,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-500"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ingredientes"}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Controle de estoque e preços"}),s.jsxs("div",{className:"flex items-center text-sm text-purple-600",children:[s.jsx(gd,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"32 itens"})]})]}),s.jsxs(re,{to:"/comunidade",className:"group bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-teal-200 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-teal-100 group-hover:bg-teal-500 transition-colors",children:s.jsx(vn,{className:"h-6 w-6 text-teal-600 group-hover:text-white"})}),s.jsx(kr,{className:"h-5 w-5 text-gray-400 group-hover:text-teal-500"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comunidade"}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Troque receitas e experiências"}),s.jsxs("div",{className:"flex items-center text-sm text-teal-600",children:[s.jsx(vn,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"Conectar"})]})]}),s.jsxs(re,{to:"/financeiro",className:"group bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md hover:border-emerald-200 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-emerald-100 group-hover:bg-emerald-500 transition-colors",children:s.jsx(sn,{className:"h-6 w-6 text-emerald-600 group-hover:text-white"})}),s.jsx(kr,{className:"h-5 w-5 text-gray-400 group-hover:text-emerald-500"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Financeiro"}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Controle financeiro completo"}),s.jsxs("div",{className:"flex items-center text-sm text-emerald-600",children:[s.jsx(Es,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:"OCR + IA"})]})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Mais Funcionalidades"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.jsx(re,{to:"/clientes",className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md hover:border-blue-200 transition-all group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-100 group-hover:bg-blue-500 transition-colors inline-block mb-3",children:s.jsx(vn,{className:"h-6 w-6 text-blue-600 group-hover:text-white"})}),s.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Clientes"}),s.jsx("p",{className:"text-xs text-gray-600",children:"CRM completo"})]})}),s.jsx(re,{to:"/orcamentos",className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md hover:border-indigo-200 transition-all group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-indigo-100 group-hover:bg-indigo-500 transition-colors inline-block mb-3",children:s.jsx(ht,{className:"h-6 w-6 text-indigo-600 group-hover:text-white"})}),s.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Orçamentos"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Crie propostas"})]})}),s.jsx(re,{to:"/ai-assistant",className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md hover:border-yellow-200 transition-all group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-yellow-100 group-hover:bg-yellow-500 transition-colors inline-block mb-3",children:s.jsx(Es,{className:"h-6 w-6 text-yellow-600 group-hover:text-white"})}),s.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"DoceBot IA"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Assistente"})]})}),s.jsx(re,{to:"/marketplace",className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md hover:border-red-200 transition-all group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-100 group-hover:bg-red-500 transition-colors inline-block mb-3",children:s.jsx(Zt,{className:"h-6 w-6 text-red-600 group-hover:text-white"})}),s.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Marketplace"}),s.jsx("p",{className:"text-xs text-gray-600",children:"E-books"})]})}),s.jsx(re,{to:"/custom-catalog",className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md hover:border-rose-200 transition-all group",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 rounded-lg bg-rose-100 group-hover:bg-rose-500 transition-colors inline-block mb-3",children:s.jsx(jx,{className:"h-6 w-6 text-rose-600 group-hover:text-white"})}),s.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"Catálogo"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Personalize"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📚 Dicas Rápidas"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Use a calculadora para precificar corretamente suas receitas"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Mantenha seus ingredientes sempre atualizados"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Utilize o CRM para fidelizar seus clientes"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🚀 Próximos Passos"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(re,{to:"/calculadora",className:"flex items-center justify-between p-3 bg-white rounded-lg hover:shadow-sm transition-shadow",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Calcular uma receita"}),s.jsx(kr,{className:"h-4 w-4 text-gray-400"})]}),s.jsxs(re,{to:"/receitas",className:"flex items-center justify-between p-3 bg-white rounded-lg hover:shadow-sm transition-shadow",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Adicionar nova receita"}),s.jsx(kr,{className:"h-4 w-4 text-gray-400"})]}),s.jsxs(re,{to:"/clientes",className:"flex items-center justify-between p-3 bg-white rounded-lg hover:shadow-sm transition-shadow",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Cadastrar cliente"}),s.jsx(kr,{className:"h-4 w-4 text-gray-400"})]})]})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Carregando..."}),s.jsx(re,{to:"/login",className:"hover:text-pink-600",style:{color:"var(--primary)"},children:"Fazer login"})]})})}const le={USER:"doce_user",PERFIL_CONFEITARIA:"doce_perfil_confeitaria",RECEITAS:"doce_receitas",INGREDIENTES_USUARIO:"doce_ingredientes_usuario",CATEGORIAS:"doce_categorias",CLIENTES:"doce_clientes",ORCAMENTOS:"doce_orcamentos",PEDIDOS:"doce_pedidos",CONFIGURACOES:"doce_configuracoes",STATS_DASHBOARD:"doce_stats_dashboard",DOCUMENTOS_FISCAIS:"doce_documentos_fiscais"};function ft(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Erro ao salvar no localStorage:",r)}}const Nm=ft;function se(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error("Erro ao ler do localStorage:",r),t}}const PM=()=>{const e=p.useCallback(o=>o==null||isNaN(o)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),[]),t=p.useCallback(o=>{if(!o||o.trim()==="")return 0;const l=o.replace(/R\$\s?/g,"").replace(/\./g,"").replace(",",".").trim(),c=parseFloat(l);return isNaN(c)?0:c},[]),r=p.useCallback(o=>o==null||isNaN(o)?"":o.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),[]),n=p.useCallback(o=>{const l=o.replace(/\D/g,"");return l?(parseInt(l)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},[]),a=p.useCallback(o=>!o||o.trim()===""?!0:/^(R\$\s?)?(\d{1,3}(\.\d{3})*|\d+)(,\d{0,2})?$/.test(o.trim()),[]),i=p.useCallback(o=>!o||o.trim()===""?"":a(o)?t(o)<0?"Valor deve ser positivo":"":"Digite um valor monetário válido (ex: 123,45)",[a,t]);return{formatToCurrency:e,parseCurrency:t,formatForInput:r,applyCurrencyMask:n,isValidCurrency:a,currencyValidator:i}},Ii=p.forwardRef(({value:e,onChange:t,placeholder:r="R$ 0,00",disabled:n=!1,className:a="",id:i,name:o,"data-testid":l,autoFocus:c,onBlur:u,onFocus:d,allowEmpty:f=!0,...h},m)=>{const{applyCurrencyMask:g,parseCurrency:x,formatForInput:y}=PM(),[b,j]=p.useState(""),[v,w]=p.useState(!1);p.useEffect(()=>{v||(e==null?j(""):j(y(e)))},[e,y,v]);const N=T=>{const O=T.target.value;if(O===""){j(""),t&&t(f?null:0);return}const P=g(O);if(j(P),t){const A=x(P);t(A)}},_=T=>{w(!0),d&&d()},S=T=>{w(!1),b===""&&f?t&&t(null):b===""&&!f&&(j("0,00"),t&&t(0)),u&&u()},C=`
    w-full px-3 py-2 border border-gray-300 rounded-md
    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
    disabled:bg-gray-100 disabled:cursor-not-allowed
    text-right
    ${a}
  `.trim();return s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:m,type:"text",id:i,name:o,value:b,onChange:N,onFocus:_,onBlur:S,placeholder:r,disabled:n,className:C,autoComplete:"off",inputMode:"numeric","data-testid":l,autoFocus:c,...h}),!b&&!v&&s.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none text-gray-400",children:"R$"})]})});Ii.displayName="CurrencyInput";function AM(){const{user:e}=Ie(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(!1),[m,g]=p.useState([]),[x,y]=p.useState(!1),[b,j]=p.useState(!1),[v,w]=p.useState(1),[N,_]=p.useState("nova"),[S,C]=p.useState(""),[T,O]=p.useState(30),[P,A]=p.useState(5),[F,z]=p.useState(null),[q,E]=p.useState(1),[k,R]=p.useState(25);p.useEffect(()=>{if(e){const I=se(le.INGREDIENTES_USUARIO,[]),W=se(le.RECEITAS,[]),G=se("doce_historico_calculos",[]);r(I.filter(L=>L.usuario_id===e.id)),a(W.filter(L=>L.usuario_id===e.id&&L.ativo)),g(G)}},[e]);const B=()=>{const I={id:Date.now().toString(),nome:"",quantidade:null,unidade:"g",precoUnitario:null};o([...i,I])},V=I=>{const W=t.find(G=>G.id===I);if(W){const G={id:Date.now().toString(),nome:W.nome,quantidade:null,unidade:W.unidade,precoUnitario:W.preco_atual};o([...i,G])}},X=I=>{o(i.filter(W=>W.id!==I))},Q=(I,W,G)=>{o(i.map(L=>L.id===I?{...L,[W]:G}:L))},Be=()=>i.reduce((I,W)=>{const G=W.quantidade||0,L=W.precoUnitario||0;return I+G*L},0),Pe=()=>{const I=Be(),W=q||0,G=k||0,L=P||0,oe=T||0,ie=W*G;return(I+L+ie)*(1+oe/100)},Se=I=>{var G;const W=n.find(L=>L.id===I);if(W){c(W.nome),d(I);const L=((G=W.ingredientes)==null?void 0:G.map(oe=>{const ie=t.find(Ce=>Ce.id===oe.ingrediente_id);return{id:Date.now().toString()+Math.random(),nome:(ie==null?void 0:ie.nome)||"Ingrediente não encontrado",quantidade:oe.quantidade,unidade:oe.unidade,precoUnitario:(ie==null?void 0:ie.preco_atual)||null}}))||[];o(L),w(3)}},St=t.filter(I=>I.nome.toLowerCase().includes(S.toLowerCase())),Ze=[{number:1,title:"Receita",description:"Escolha ou crie"},{number:2,title:"Ingredientes",description:"Adicione e configure"},{number:3,title:"Configurações",description:"Custos e margem"},{number:4,title:"Resultado",description:"Preço final"}],D=I=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I);return s.jsx(GS,{children:s.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Calculadora de Preços"}),s.jsx("p",{className:"text-gray-600",children:"Calcule o preço ideal para suas receitas"})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex items-center justify-between",children:Ze.map((I,W)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${v===I.number||v>I.number?"border-pink-500 bg-pink-500 text-white":"border-gray-300 bg-white text-gray-500"}`,children:v>I.number?s.jsx(je,{className:"w-5 h-5"}):s.jsx("span",{className:"text-sm font-medium",children:I.number})}),s.jsxs("div",{className:"ml-3 text-left",children:[s.jsx("p",{className:`text-sm font-medium ${v>=I.number?"text-gray-900":"text-gray-500"}`,children:I.title}),s.jsx("p",{className:"text-xs text-gray-500",children:I.description})]}),W<Ze.length-1&&s.jsx("div",{className:`w-12 h-px mx-4 ${v>I.number?"bg-pink-500":"bg-gray-300"}`})]},I.number))})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[v===1&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Escolha o tipo de cálculo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("button",{onClick:()=>_("nova"),className:`p-6 rounded-lg border-2 transition-all ${N==="nova"?"border-pink-500 bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(tn,{className:"h-8 w-8 text-pink-500 mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nova Receita Rápida"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Crie um cálculo do zero adicionando ingredientes manualmente"})]}),s.jsxs("button",{onClick:()=>_("existente"),className:`p-6 rounded-lg border-2 transition-all ${N==="existente"?"border-pink-500 bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(Bl,{className:"h-8 w-8 text-pink-500 mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Receita Existente"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Use uma receita já cadastrada como base para o cálculo"})]})]}),N==="nova"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da receita (opcional)"}),s.jsx("input",{type:"text",value:l,onChange:I=>c(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Ex: Brigadeiro Gourmet"})]}),N==="existente"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione uma receita"}),s.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[n.map(I=>s.jsxs("button",{onClick:()=>Se(I.id),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:border-pink-300 hover:bg-pink-50 transition-colors",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:I.nome}),s.jsx("p",{className:"text-sm text-gray-600",children:I.categoria_id||"Sem categoria"})]},I.id)),n.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"Nenhuma receita encontrada."}),s.jsx(re,{to:"/receitas",className:"text-pink-500 hover:text-pink-600",children:"Cadastre sua primeira receita"})]})]})]})]}),v===2&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Ingredientes da receita"}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex space-x-4 mb-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",value:S,onChange:I=>C(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Buscar ingredientes..."})]})}),s.jsxs("button",{onClick:B,className:"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 flex items-center",children:[s.jsx(gr,{className:"h-4 w-4 mr-2"}),"Manual"]})]}),S&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ingredientes disponíveis:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:St.slice(0,6).map(I=>s.jsxs("button",{onClick:()=>V(I.id),className:"text-left p-2 bg-white rounded border hover:border-pink-300 transition-colors",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:I.nome}),s.jsxs("p",{className:"text-xs text-gray-600",children:[D(I.preco_atual||0),"/",I.unidade]})]},I.id))})]})]}),s.jsxs("div",{className:"space-y-4",children:[i.map(I=>s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:I.nome,onChange:W=>Q(I.id,"nome",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Nome do ingrediente"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),s.jsx("input",{type:"number",step:"0.01",value:I.quantidade||"",onChange:W=>Q(I.id,"quantidade",parseFloat(W.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade"}),s.jsxs("select",{value:I.unidade,onChange:W=>Q(I.id,"unidade",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"g",children:"gramas (g)"}),s.jsx("option",{value:"kg",children:"quilos (kg)"}),s.jsx("option",{value:"ml",children:"mililitros (ml)"}),s.jsx("option",{value:"l",children:"litros (l)"}),s.jsx("option",{value:"un",children:"unidade"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Preço por ",I.unidade]}),s.jsxs("div",{className:"flex",children:[s.jsx(Ii,{value:I.precoUnitario,onChange:W=>Q(I.id,"precoUnitario",W),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg",placeholder:"0,00"}),s.jsx("button",{onClick:()=>X(I.id),className:"px-3 py-2 bg-red-500 text-white rounded-r-lg hover:bg-red-600",children:s.jsx(vM,{className:"h-4 w-4"})})]})]})]})},I.id)),i.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Fs,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Nenhum ingrediente adicionado ainda."}),s.jsx("p",{className:"text-sm",children:'Use a busca acima ou clique em "Manual" para começar.'})]})]})]}),v===3&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configurações de Custo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ns,{className:"h-4 w-4 inline mr-1"}),"Tempo de preparo (horas)"]}),s.jsx("input",{type:"number",step:"0.5",value:q||"",onChange:I=>E(parseFloat(I.target.value)||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"1.5"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(sn,{className:"h-4 w-4 inline mr-1"}),"Valor por hora de trabalho"]}),s.jsx(Ii,{value:k,onChange:R,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"25,00"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custos fixos (energia, gás, embalagem)"}),s.jsx(Ii,{value:P,onChange:A,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",placeholder:"5,00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Margem de lucro (%)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"range",min:"0",max:"100",value:T||30,onChange:I=>O(parseInt(I.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[s.jsx("span",{children:"0%"}),s.jsxs("span",{className:"font-medium text-pink-600",children:[T||30,"%"]}),s.jsx("span",{children:"100%"})]})]})]})]})]}),s.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Preview dos custos:"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Ingredientes"}),s.jsx("p",{className:"font-semibold",children:D(Be())})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Mão de obra"}),s.jsx("p",{className:"font-semibold",children:D((q||0)*(k||0))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Custos fixos"}),s.jsx("p",{className:"font-semibold",children:D(P||0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Total + Margem"}),s.jsx("p",{className:"font-semibold text-pink-600",children:D(Pe())})]})]})]})]}),v===4&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Resultado Final"}),s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-pink-600 rounded-xl p-8 text-white",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Preço Sugerido"}),s.jsx("div",{className:"text-5xl font-bold mb-4",children:D(Pe())}),s.jsxs("p",{className:"text-pink-100",children:["Para ",l||"sua receita"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Breakdown de Custos"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Ingredientes"}),s.jsx("span",{className:"font-medium",children:D(Be())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:["Mão de obra (",q,"h × ",D(k||0),")"]}),s.jsx("span",{className:"font-medium",children:D((q||0)*(k||0))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Custos fixos"}),s.jsx("span",{className:"font-medium",children:D(P||0)})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsx("span",{className:"font-medium",children:D(Be()+(q||0)*(k||0)+(P||0))})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["Margem (",T,"%)"]}),s.jsxs("span",{className:"font-medium text-green-600",children:["+",D(Pe()-(Be()+(q||0)*(k||0)+(P||0)))]})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{className:"text-pink-600",children:D(Pe())})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Cenários de Preço"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Pessimista"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Margem 15%"})]}),s.jsx("span",{className:"font-medium text-red-600",children:D((Be()+(q||0)*(k||0)+(P||0))*1.15)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Realista"}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Margem ",T,"%"]})]}),s.jsx("span",{className:"font-medium text-pink-600",children:D(Pe())})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Otimista"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Margem 50%"})]}),s.jsx("span",{className:"font-medium text-green-600",children:D((Be()+(q||0)*(k||0)+(P||0))*1.5)})]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-pink-500 text-white rounded-lg hover:bg-pink-600 flex items-center",children:[s.jsx(Bl,{className:"h-4 w-4 mr-2"}),"Salvar Cálculo"]}),s.jsxs("button",{className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center",children:[s.jsx(go,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]}),s.jsx("button",{onClick:()=>{w(1),o([]),c(""),d("")},className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Novo Cálculo"})]})]}),s.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[s.jsxs("button",{onClick:()=>w(Math.max(1,v-1)),disabled:v===1,className:`px-6 py-2 rounded-lg flex items-center ${v===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-500 text-white hover:bg-gray-600"}`,children:[s.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Anterior"]}),s.jsxs("button",{onClick:()=>w(Math.min(4,v+1)),disabled:v===4,className:`px-6 py-2 rounded-lg flex items-center ${v===4?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-pink-500 text-white hover:bg-pink-600"}`,children:["Próximo",s.jsx(kr,{className:"h-4 w-4 ml-2"})]})]})]})]})})}const HS=()=>{const{user:e,profile:t}=Ie(),[r,n]=p.useState({receitas:0,orcamentos:0,clientes:0,ingredientes:0}),a=(t==null?void 0:t.plano)==="professional";p.useEffect(()=>{if(!e)return;(async()=>{try{const[g,x,y,b]=await Promise.all([te.from("receitas").select("id",{count:"exact"}).eq("user_id",e.id),te.from("ingredientes_usuario").select("id",{count:"exact"}).eq("user_id",e.id),te.from("clientes").select("id",{count:"exact"}).eq("user_id",e.id),te.from("orcamentos").select("id",{count:"exact"}).eq("user_id",e.id)]);n({receitas:g.count||0,orcamentos:b.count||0,clientes:y.count||0,ingredientes:x.count||0})}catch(g){console.error("Erro ao buscar uso:",g)}})()},[e]);const i={receitas:a?null:5,orcamentos:a?null:3,clientes:a?null:10,ingredientes:a?null:50,catalogoPublico:a?null:3,backup:a,relatorios:a,comunidade:a,ferramentas:a},o=()=>a?!0:r.receitas<5,l=()=>a?!0:r.orcamentos<3,c=()=>a?!0:r.clientes<10,u=()=>a?!0:r.ingredientes<50,d=m=>a?!0:["receitas","orcamentos","calculadora","ingredientes"].includes(m),f=m=>{if(a)return null;const g=i[m];return Math.max(0,g-r[m])},h=m=>{if(a)return 0;const g=i[m];return Math.min(100,r[m]/g*100)};return{plano:(t==null?void 0:t.plano)||"free",isProfessional:a,limits:i,usage:r,canAddReceita:o,canAddOrcamento:l,canAddCliente:c,canAddIngrediente:u,canUseFeature:d,getRemainingCount:f,getUsagePercentage:h}};function OM(){const{user:e}=Ie(),{toast:t}=Xs(),[r,n]=p.useState([]),[a,i]=p.useState(!0),[o,l]=p.useState(null),c=async()=>{if(e)try{i(!0),l(null);const{data:h,error:m}=await te.from("receitas").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw m;n(h||[])}catch(h){console.error("Erro ao carregar receitas:",h),l(h.message)}finally{i(!1)}},u=async h=>{if(!e)return null;try{const{data:m,error:g}=await te.from("receitas").insert({user_id:e.id,nome:h.nome||"",categoria_id:h.categoria_id,ingredientes:h.ingredientes||[],modo_preparo:h.modo_preparo,tempo_preparo:h.tempo_preparo,rendimento:h.rendimento,custo_total:h.custo_total,preco_sugerido:h.preco_sugerido,margem_lucro:h.margem_lucro,descricao:h.descricao,observacoes:h.observacoes}).select().single();if(g)throw g;return n(x=>[m,...x]),t({title:"Receita criada!",description:"Sua receita foi salva com sucesso."}),m}catch(m){return console.error("Erro ao criar receita:",m),t({title:"Erro",description:"Erro ao salvar receita. Tente novamente.",variant:"destructive"}),null}},d=async(h,m)=>{if(!e)return!1;try{const{data:g,error:x}=await te.from("receitas").update({...m,updated_at:new Date().toISOString()}).eq("id",h).eq("user_id",e.id).select().single();if(x)throw x;return n(y=>y.map(b=>b.id===h?g:b)),t({title:"Receita atualizada!",description:"Suas alterações foram salvas."}),!0}catch(g){return console.error("Erro ao atualizar receita:",g),t({title:"Erro",description:"Erro ao atualizar receita. Tente novamente.",variant:"destructive"}),!1}},f=async h=>{if(!e)return!1;try{const{error:m}=await te.from("receitas").delete().eq("id",h).eq("user_id",e.id);if(m)throw m;return n(g=>g.filter(x=>x.id!==h)),t({title:"Receita excluída",description:"A receita foi removida com sucesso."}),!0}catch(m){return console.error("Erro ao deletar receita:",m),t({title:"Erro",description:"Erro ao excluir receita. Tente novamente.",variant:"destructive"}),!1}};return p.useEffect(()=>{e&&c()},[e]),{receitas:r,loading:a,error:o,addReceita:u,updateReceita:d,deleteReceita:f,refreshReceitas:c}}const TM=({isOpen:e,onClose:t,feature:r,onUpgrade:n})=>{if(!e)return null;const a=Gi.find(o=>o.id==="professional"),i=o=>{n(o),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600",children:s.jsx(Lt,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Yn,{className:"w-8 h-8 text-yellow-600"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Upgrade para continuar"}),s.jsxs("p",{className:"text-gray-600",children:["Você atingiu o limite do plano gratuito para ",s.jsx("strong",{children:r}),". Faça upgrade para o plano Professional e tenha acesso ilimitado."]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Plano Professional"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["R$ ",a.preco_mensal.toFixed(2).replace(".",",")]}),s.jsx("div",{className:"text-sm text-gray-600",children:"/mês"})]})]}),s.jsx("div",{className:"space-y-1",children:a.funcionalidades.slice(0,4).map((o,l)=>s.jsxs("div",{className:"text-sm text-gray-700 flex items-center",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full mr-2"}),o]},l))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-center mb-4",children:"Escolha sua forma de pagamento:"}),s.jsxs("button",{onClick:()=>i("pix"),className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(rn,{className:"w-5 h-5"}),"Pagar com PIX",s.jsx("span",{className:"bg-green-500 px-2 py-1 rounded text-xs ml-2",children:"Instantâneo"})]}),s.jsxs("button",{onClick:()=>i("card"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[s.jsx(lc,{className:"w-5 h-5"}),"Pagar com Cartão"]})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Cancele a qualquer momento. Sem fidelidade."})})]})})},IM=({type:e,className:t=""})=>{const{isProfessional:r,usage:n,limits:a,getUsagePercentage:i}=HS();if(r)return s.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium ${t}`,children:[s.jsx(Yn,{className:"w-3 h-3"}),"Ilimitado"]});const o=n[e],l=a[e],c=i(e),u=()=>c>=100?"bg-red-100 text-red-800":c>=80?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800";return s.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${u()} ${t}`,children:[o,"/",l]})},xd=[{id:"acucar_cristal",nome:"Açúcar Cristal",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.005},{id:"acucar_refinado",nome:"Açúcar Refinado",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.006},{id:"acucar_mascavo",nome:"Açúcar Mascavo",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.012},{id:"acucar_demerara",nome:"Açúcar Demerara",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.015},{id:"acucar_confeiteiro",nome:"Açúcar de Confeiteiro",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.008},{id:"acucar_impalpavel",nome:"Açúcar Impalpável",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.01},{id:"mel",nome:"Mel",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.025},{id:"glucose_liquida",nome:"Glucose Líquida",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.018},{id:"glucose_po",nome:"Glucose em Pó",categoria:"Açúcares",unidade_padrao:"g",preco_medio_nacional:.035},{id:"xarope_milho",nome:"Xarope de Milho",categoria:"Açúcares",unidade_padrao:"ml",preco_medio_nacional:.015},{id:"farinha_trigo",nome:"Farinha de Trigo",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.004},{id:"farinha_trigo_integral",nome:"Farinha de Trigo Integral",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.008},{id:"farinha_amendoa",nome:"Farinha de Amêndoa",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.08},{id:"farinha_aveia",nome:"Farinha de Aveia",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.015},{id:"farinha_coco",nome:"Farinha de Coco",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.025},{id:"amido_milho",nome:"Amido de Milho (Maisena)",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.012},{id:"polvilho_doce",nome:"Polvilho Doce",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.008},{id:"polvilho_azedo",nome:"Polvilho Azedo",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.009},{id:"fuba",nome:"Fubá",categoria:"Farinhas",unidade_padrao:"g",preco_medio_nacional:.005},{id:"chocolate_po",nome:"Chocolate em Pó",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.02},{id:"achocolatado_po",nome:"Achocolatado em Pó",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.015},{id:"chocolate_meio_amargo",nome:"Chocolate Meio Amargo",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.04},{id:"chocolate_amargo",nome:"Chocolate Amargo 70%",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.055},{id:"chocolate_branco",nome:"Chocolate Branco",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.045},{id:"chocolate_ao_leite",nome:"Chocolate ao Leite",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.035},{id:"gotas_chocolate",nome:"Gotas de Chocolate",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.03},{id:"cacau_po",nome:"Cacau em Pó 100%",categoria:"Chocolates",unidade_padrao:"g",preco_medio_nacional:.05},{id:"leite_integral",nome:"Leite Integral",categoria:"Laticínios",unidade_padrao:"ml",preco_medio_nacional:.004},{id:"leite_desnatado",nome:"Leite Desnatado",categoria:"Laticínios",unidade_padrao:"ml",preco_medio_nacional:.004},{id:"leite_condensado",nome:"Leite Condensado",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.008},{id:"creme_leite",nome:"Creme de Leite",categoria:"Laticínios",unidade_padrao:"ml",preco_medio_nacional:.015},{id:"manteiga",nome:"Manteiga",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.025},{id:"margarina",nome:"Margarina",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.012},{id:"queijo_cream",nome:"Cream Cheese",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.035},{id:"iogurte_natural",nome:"Iogurte Natural",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.012},{id:"ricota",nome:"Ricota",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.02},{id:"mascarpone",nome:"Mascarpone",categoria:"Laticínios",unidade_padrao:"g",preco_medio_nacional:.08},{id:"ovos",nome:"Ovos",categoria:"Ovos",unidade_padrao:"unidade",preco_medio_nacional:.8},{id:"clara_ovos",nome:"Clara de Ovos",categoria:"Ovos",unidade_padrao:"ml",preco_medio_nacional:.02},{id:"gema_ovos",nome:"Gema de Ovos",categoria:"Ovos",unidade_padrao:"ml",preco_medio_nacional:.025},{id:"ovo_desidratado",nome:"Ovo Desidratado",categoria:"Ovos",unidade_padrao:"g",preco_medio_nacional:.12},{id:"fermento_po",nome:"Fermento em Pó",categoria:"Fermentos",unidade_padrao:"g",preco_medio_nacional:.08},{id:"bicarbonato_sodio",nome:"Bicarbonato de Sódio",categoria:"Fermentos",unidade_padrao:"g",preco_medio_nacional:.015},{id:"cremor_tartaro",nome:"Cremor Tártaro",categoria:"Fermentos",unidade_padrao:"g",preco_medio_nacional:.2},{id:"fermento_biologico",nome:"Fermento Biológico",categoria:"Fermentos",unidade_padrao:"g",preco_medio_nacional:.025},{id:"oleo_girassol",nome:"Óleo de Girassol",categoria:"Óleos",unidade_padrao:"ml",preco_medio_nacional:.008},{id:"oleo_canola",nome:"Óleo de Canola",categoria:"Óleos",unidade_padrao:"ml",preco_medio_nacional:.012},{id:"oleo_coco",nome:"Óleo de Coco",categoria:"Óleos",unidade_padrao:"ml",preco_medio_nacional:.035},{id:"gordura_vegetal",nome:"Gordura Vegetal",categoria:"Óleos",unidade_padrao:"g",preco_medio_nacional:.015},{id:"essencia_baunilha",nome:"Essência de Baunilha",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.5},{id:"extrato_baunilha",nome:"Extrato de Baunilha",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:2},{id:"essencia_morango",nome:"Essência de Morango",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.4},{id:"essencia_chocolate",nome:"Essência de Chocolate",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.6},{id:"essencia_limao",nome:"Essência de Limão",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.35},{id:"essencia_coco",nome:"Essência de Coco",categoria:"Essências",unidade_padrao:"ml",preco_medio_nacional:.45},{id:"morango_fresco",nome:"Morango Fresco",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.025},{id:"banana_nanica",nome:"Banana Nanica",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.008},{id:"maca_fuji",nome:"Maçã Fuji",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.012},{id:"limao_tahiti",nome:"Limão Tahiti",categoria:"Frutas",unidade_padrao:"unidade",preco_medio_nacional:.8},{id:"laranja_pera",nome:"Laranja Pêra",categoria:"Frutas",unidade_padrao:"unidade",preco_medio_nacional:1},{id:"polpa_morango",nome:"Polpa de Morango",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.02},{id:"polpa_maracuja",nome:"Polpa de Maracujá",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.025},{id:"polpa_acai",nome:"Polpa de Açaí",categoria:"Frutas",unidade_padrao:"g",preco_medio_nacional:.03},{id:"amendoa_laminas",nome:"Amêndoa em Lâminas",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.08},{id:"amendoa_picada",nome:"Amêndoa Picada",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.07},{id:"castanha_para",nome:"Castanha do Pará",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.06},{id:"castanha_caju",nome:"Castanha de Caju",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.08},{id:"noz_peca",nome:"Noz Pecã",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.12},{id:"amendoim",nome:"Amendoim",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.015},{id:"pistache",nome:"Pistache",categoria:"Nozes",unidade_padrao:"g",preco_medio_nacional:.2},{id:"canela_po",nome:"Canela em Pó",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.1},{id:"canela_pau",nome:"Canela em Pau",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.15},{id:"noz_moscada",nome:"Noz Moscada",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.3},{id:"cravo_po",nome:"Cravo em Pó",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.4},{id:"gengibre_po",nome:"Gengibre em Pó",categoria:"Especiarias",unidade_padrao:"g",preco_medio_nacional:.25},{id:"gelatina_incolor",nome:"Gelatina Incolor",categoria:"Gelatinas",unidade_padrao:"g",preco_medio_nacional:.15},{id:"gelatina_vermelha",nome:"Gelatina Vermelha",categoria:"Gelatinas",unidade_padrao:"g",preco_medio_nacional:.12},{id:"agar_agar",nome:"Ágar Ágar",categoria:"Gelatinas",unidade_padrao:"g",preco_medio_nacional:.8},{id:"corante_vermelho",nome:"Corante Vermelho",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"corante_azul",nome:"Corante Azul",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"corante_amarelo",nome:"Corante Amarelo",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"corante_verde",nome:"Corante Verde",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"corante_rosa",nome:"Corante Rosa",categoria:"Corantes",unidade_padrao:"ml",preco_medio_nacional:.3},{id:"chantilly_po",nome:"Chantilly em Pó",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.04},{id:"brigadeiro_pronto",nome:"Brigadeiro Pronto",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.025},{id:"doce_leite",nome:"Doce de Leite",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.018},{id:"geleia_morango",nome:"Geléia de Morango",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.02},{id:"nutella",nome:"Nutella",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.045},{id:"creme_avela",nome:"Creme de Avelã",categoria:"Coberturas",unidade_padrao:"g",preco_medio_nacional:.035},{id:"confeitos_coloridos",nome:"Confeitos Coloridos",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.08},{id:"granulado_chocolate",nome:"Granulado de Chocolate",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.025},{id:"granulado_colorido",nome:"Granulado Colorido",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.03},{id:"coco_ralado",nome:"Coco Ralado",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.02},{id:"pacoca_farofa",nome:"Paçoca Farofa",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.035},{id:"bolinhas_chocolate",nome:"Bolinhas de Chocolate",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.12},{id:"perolas_acucar",nome:"Pérolas de Açúcar",categoria:"Decoração",unidade_padrao:"g",preco_medio_nacional:.2},{id:"pasta_americana",nome:"Pasta Americana Branca",categoria:"Modelagem",unidade_padrao:"g",preco_medio_nacional:.025},{id:"pasta_americana_colorida",nome:"Pasta Americana Colorida",categoria:"Modelagem",unidade_padrao:"g",preco_medio_nacional:.035},{id:"fondant",nome:"Fondant",categoria:"Modelagem",unidade_padrao:"g",preco_medio_nacional:.04},{id:"goma_tragacanto",nome:"Goma Tragacanto",categoria:"Modelagem",unidade_padrao:"g",preco_medio_nacional:2.5},{id:"cafe_liquido",nome:"Café Líquido",categoria:"Líquidos",unidade_padrao:"ml",preco_medio_nacional:.008},{id:"rum",nome:"Rum",categoria:"Líquidos",unidade_padrao:"ml",preco_medio_nacional:.08},{id:"conhaque",nome:"Conhaque",categoria:"Líquidos",unidade_padrao:"ml",preco_medio_nacional:.1},{id:"licor_chocolate",nome:"Licor de Chocolate",categoria:"Líquidos",unidade_padrao:"ml",preco_medio_nacional:.12},{id:"sal_refinado",nome:"Sal Refinado",categoria:"Outros",unidade_padrao:"g",preco_medio_nacional:.002},{id:"vinagre_branco",nome:"Vinagre Branco",categoria:"Outros",unidade_padrao:"ml",preco_medio_nacional:.005},{id:"suco_limao",nome:"Suco de Limão",categoria:"Outros",unidade_padrao:"ml",preco_medio_nacional:.015},{id:"raspas_limao",nome:"Raspas de Limão",categoria:"Outros",unidade_padrao:"g",preco_medio_nacional:.2},{id:"raspas_laranja",nome:"Raspas de Laranja",categoria:"Outros",unidade_padrao:"g",preco_medio_nacional:.18}],MM=["acucar_cristal","farinha_trigo","ovos","manteiga","leite_integral","fermento_po","chocolate_po","leite_condensado","creme_leite","essencia_baunilha","acucar_confeiteiro","oleo_girassol","bicarbonato_sodio","sal_refinado","doce_leite","chantilly_po","granulado_chocolate","coco_ralado","limao_tahiti","corante_vermelho","margarina","glucose_liquida","amido_milho","queijo_cream","chocolate_meio_amargo","essencia_morango","polpa_morango","canela_po","gelatina_incolor","confeitos_coloridos","acucar_refinado","acucar_mascavo","acucar_demerara","acucar_impalpavel","mel","glucose_po","xarope_milho","farinha_trigo_integral","farinha_amendoa","farinha_aveia","farinha_coco","polvilho_doce","polvilho_azedo","fuba","achocolatado_po","chocolate_amargo","chocolate_branco","chocolate_ao_leite","gotas_chocolate","cacau_po","leite_desnatado","iogurte_natural","ricota","mascarpone","clara_ovos","gema_ovos","ovo_desidratado","cremor_tartaro","fermento_biologico","oleo_canola","oleo_coco","gordura_vegetal","extrato_baunilha","essencia_chocolate","essencia_limao","essencia_coco","morango_fresco","banana_nanica","maca_fuji","laranja_pera","polpa_maracuja","polpa_acai","amendoa_laminas","amendoa_picada","castanha_para","castanha_caju","noz_peca","amendoim","pistache","canela_pau","noz_moscada","cravo_po","gengibre_po","gelatina_vermelha","agar_agar","corante_azul","corante_amarelo","corante_verde","corante_rosa","brigadeiro_pronto","geleia_morango","nutella","creme_avela","granulado_colorido","pacoca_farofa","bolinhas_chocolate","perolas_acucar","pasta_americana","pasta_americana_colorida","fondant","goma_tragacanto","cafe_liquido","rum","conhaque","licor_chocolate","vinagre_branco","suco_limao","raspas_limao","raspas_laranja"],YS=["Açúcares","Farinhas","Chocolates","Laticínios","Ovos","Fermentos","Óleos","Essências","Frutas","Nozes","Especiarias","Gelatinas","Corantes","Coberturas","Decoração","Modelagem","Líquidos","Outros"],RM=({onAddIngredient:e,selectedIngredients:t=[],className:r=""})=>{const{user:n}=Ie(),[a,i]=p.useState(""),[o,l]=p.useState("Todos"),[c,u]=p.useState(!1),[d,f]=p.useState([]),[h,m]=p.useState([]);p.useEffect(()=>{if(n){const w=se(`doce_historico_ingredientes_${n.id}`,[]),N=se(le.INGREDIENTES_USUARIO,[]);f(w),m(N.filter(_=>_.usuario_id===n.id))}},[n]);const g=p.useMemo(()=>{let w=xd;if(o!=="Todos"&&(w=w.filter(_=>_.categoria===o)),a.trim()){const _=a.toLowerCase();w=w.filter(S=>S.nome.toLowerCase().includes(_)||S.categoria.toLowerCase().includes(_))}const N=t.map(_=>_.ingrediente_id);return w=w.filter(_=>!N.includes(_.id)),w.sort((_,S)=>{var O,P;const C=((O=d.find(A=>A.ingrediente_id===_.id))==null?void 0:O.contador)||0,T=((P=d.find(A=>A.ingrediente_id===S.id))==null?void 0:P.contador)||0;return C!==T?T-C:_.nome.localeCompare(S.nome)})},[a,o,t,d]),x=p.useMemo(()=>xd.filter(w=>!t.map(_=>_.ingrediente_id).includes(w.id)).map(w=>{var N;return{...w,uso:((N=d.find(_=>_.ingrediente_id===w.id))==null?void 0:N.contador)||0}}).sort((w,N)=>N.uso-w.uso).slice(0,5).filter(w=>w.uso>0),[d,t]),y=w=>{if(!n)return;const N=[...d],_=N.findIndex(S=>S.ingrediente_id===w);_>=0?(N[_].contador+=1,N[_].ultima_utilizacao=new Date().toISOString()):N.push({ingrediente_id:w,contador:1,ultima_utilizacao:new Date().toISOString()}),f(N),ft(`doce_historico_ingredientes_${n.id}`,N)},b=w=>{e(w),y(w.id),i("")},j=w=>{const N=h.find(_=>_.nome.toLowerCase()===w.nome.toLowerCase());return(N==null?void 0:N.preco_atual)||w.preco_medio_nacional},v=["Todos",...YS];return s.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg ${r}`,children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:a,onChange:w=>i(w.target.value),onFocus:()=>u(!0),placeholder:"Buscar ingredientes (ex: farinha, açúcar...)",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a&&s.jsx("button",{type:"button",onClick:()=>i(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx(Lt,{className:"h-5 w-5"})})]}),c&&s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(w=>s.jsx("button",{type:"button",onClick:()=>l(w),className:`px-3 py-1 rounded-full text-sm transition-colors ${o===w?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w},w))})})]}),c&&s.jsxs("div",{className:"p-4",children:[!a&&x.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ns,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mais usados por você"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map(w=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:w.nome}),s.jsx("p",{className:"text-xs text-gray-500",children:w.categoria}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["R$ ",j(w).toFixed(4),"/",w.unidade_padrao]}),s.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[s.jsx(Qn,{className:"h-3 w-3 text-yellow-400 fill-current"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[w.uso," vezes"]})]})]}),s.jsx("button",{type:"button",onClick:()=>b(w),className:"ml-2 p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",children:s.jsx(gr,{className:"h-4 w-4"})})]})},w.id))})]}),s.jsxs("div",{children:[a&&s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[g.length," ingredientes encontrados"]}),g.length>0&&s.jsx("button",{type:"button",onClick:()=>u(!1),className:"text-sm text-gray-500 hover:text-gray-700",children:"Fechar"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:g.slice(0,12).map(w=>{var _;const N=((_=d.find(S=>S.ingrediente_id===w.id))==null?void 0:_.contador)||0;return s.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:w.nome}),s.jsx("p",{className:"text-xs text-gray-500",children:w.categoria}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["R$ ",j(w).toFixed(4),"/",w.unidade_padrao]}),N>0&&s.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[s.jsx(Qn,{className:"h-3 w-3 text-yellow-400 fill-current"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[N," vezes"]})]})]}),s.jsx("button",{type:"button",onClick:()=>b(w),className:"ml-2 p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",children:s.jsx(gr,{className:"h-4 w-4"})})]})},w.id)})}),g.length===0&&a&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:s.jsx(Xn,{className:"h-12 w-12 mx-auto"})}),s.jsxs("p",{className:"text-gray-500",children:['Nenhum ingrediente encontrado para "',a,'"']}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Tente buscar por nome ou categoria"})]})]}),(a||x.length>0)&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{type:"button",onClick:()=>{u(!1),i("")},className:"text-sm text-gray-500 hover:text-gray-700",children:"Fechar busca"})})]})]})};function DM({onRecipeExtracted:e,onClose:t,isOpen:r}){const[n,a]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState(""),f=p.useRef(null),h=p.useRef(null);if(!r)return null;const m=async j=>{if(!j.type.startsWith("image/")){d("Por favor, selecione apenas arquivos de imagem.");return}a(!0),d("");try{c("Extraindo texto da imagem..."),console.log("🔍 Processando receita com IA...",j.name);const v=new FormData;v.append("imageFile",j);const w=await fetch("https://dbwbxzbtydeauczfleqx.supabase.co/functions/v1/process-recipe-ocr",{method:"POST",body:v});if(!w.ok){const S=await w.text();throw console.error("❌ Erro HTTP:",S),new Error("Erro ao processar a receita")}const N=await w.json();if(N.error)throw console.error("❌ Erro na API:",N.error),new Error("Erro ao processar a receita");console.log("✅ Receita extraída:",N);const _={nome:N.nome||"Receita Digitalizada",ingredientes:N.ingredientes||[],modo_preparo:N.modo_preparo||[],tempo_estimado:N.tempo_preparo_minutos||null,rendimento:N.rendimento||null};c("Receita digitalizada com sucesso!"),setTimeout(()=>{e(_),b()},1e3)}catch(v){console.error("Erro ao processar imagem:",v),d(v instanceof Error?v.message:"Erro ao processar a imagem"),a(!1),c("")}},g=j=>{j.preventDefault(),j.stopPropagation(),j.type==="dragenter"||j.type==="dragover"?o(!0):j.type==="dragleave"&&o(!1)},x=j=>{j.preventDefault(),j.stopPropagation(),o(!1),j.dataTransfer.files&&j.dataTransfer.files[0]&&m(j.dataTransfer.files[0])},y=j=>{j.target.files&&j.target.files[0]&&m(j.target.files[0])},b=()=>{n||(d(""),c(""),t())};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Digitalizar Receita"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tire uma foto ou faça upload da sua receita"})]}),!n&&s.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Lt,{className:"h-6 w-6"})})]}),n?s.jsx("div",{className:"text-center py-8",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"relative",children:s.jsx(wx,{className:"h-12 w-12 text-blue-600 animate-spin"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Processando receita..."}),s.jsx("p",{className:"text-sm text-gray-600",children:l})]})]})}):s.jsxs(s.Fragment,{children:[u&&s.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 rounded-lg flex items-center space-x-2",children:[s.jsx(bx,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-red-700",children:u})]}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${i?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:x,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-gray-400",children:s.jsx(Ga,{className:"h-12 w-12 mx-auto"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Adicione sua receita"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Arraste uma imagem ou clique para selecionar"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[s.jsxs("button",{onClick:()=>{var j;return(j=h.current)==null?void 0:j.click()},className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Ga,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Câmera"})]}),s.jsxs("button",{onClick:()=>{var j;return(j=f.current)==null?void 0:j.click()},className:"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(Lr,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Arquivo"})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Dicas para melhor resultado:"}),s.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[s.jsx("li",{children:"• Use boa iluminação"}),s.jsx("li",{children:"• Mantenha a receita plana"}),s.jsx("li",{children:"• Evite sombras sobre o texto"}),s.jsx("li",{children:"• Certifique-se de que o texto está legível"})]})]})]})]}),s.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:y,className:"hidden"}),s.jsx("input",{ref:h,type:"file",accept:"image/*",capture:"environment",onChange:y,className:"hidden"})]})})}function $M(){const{user:e}=Ie(),t=on(),{canAddReceita:r}=HS(),{receitas:n,addReceita:a,updateReceita:i,deleteReceita:o}=OM(),[l,c]=p.useState(!1),[u,d]=p.useState([]),[f,h]=p.useState([]),[m,g]=p.useState(""),[x,y]=p.useState("todas"),[b,j]=p.useState(!1),[v,w]=p.useState(null),[N,_]=p.useState({nome:"",categoria:"Bolos",categoria_id:"",modo_preparo:[""],tempo_preparo_mins:60,rendimento:"",foto_principal:""}),[S,C]=p.useState([]),[T,O]=p.useState(!1),[P,A]=p.useState(!1),[F,z]=p.useState(null),[q,E]=p.useState(!1),[k,R]=p.useState([]);p.useEffect(()=>{e&&B()},[e]);const B=async()=>{if(e)try{const{data:M}=await te.from("categorias").select("*").eq("user_id",e.id).order("ordem",{ascending:!0}),{data:H}=await te.from("ingredientes_usuario").select("*").eq("user_id",e.id).order("nome",{ascending:!0});d(M||[]),h(H||[])}catch(M){console.error("Erro ao carregar dados:",M)}},V=M=>{if(M.origem!=="usuario"){alert("❌ Apenas receitas criadas por você podem ser compartilhadas com a comunidade.");return}z(M),A(!0)},X=()=>{var J;if(!F||!e)return;const M={id:Date.now().toString(),receita_id:F.id,usuario_id:e.id,autor_nome:q?"Anônimo":((J=e.email)==null?void 0:J.split("@")[0])||"Confeiteiro(a)",autor_anonimo:q,data_compartilhamento:new Date().toISOString(),publico:!0,curtidas:0,salvamentos:0,comentarios:[],visualizacoes:0,ativo:!0},H=[...k,M];R(H),saveToLocalStorage("receitas_compartilhadas",H),A(!1),z(null),E(!1),alert("✅ Receita compartilhada com a comunidade!")},Q=()=>{A(!1),z(null),E(!1)},Be=M=>k.some(H=>H.receita_id===M&&H.ativo),Pe=n.filter(M=>{const H=M.nome.toLowerCase().includes(m.toLowerCase()),J=x==="todas"||M.categoria_id===x;return H&&J}),Se=M=>u.find(H=>H.id===M),St=async M=>{if(!window.confirm("Tem certeza que deseja excluir esta receita?"))return;await o(M)||alert("❌ Erro ao excluir receita. Tente novamente.")},Ze=()=>{_({nome:"",categoria:"Bolos",categoria_id:"",modo_preparo:[""],tempo_preparo_mins:60,rendimento:"",foto_principal:""}),C([]),w(null),j(!1)},D=M=>{if(!e)return;const H=M.ingredientes.map((J,xe)=>({id:Date.now().toString()+xe,receita_id:"",ingrediente_id:"",quantidade:J.quantidade||0,unidade:J.unidade||"g",observacoes:"",ordem:xe}));_({nome:M.nome||"Receita Digitalizada",categoria:"Bolos",categoria_id:"",modo_preparo:M.modo_preparo||[""],tempo_preparo_mins:M.tempo_estimado||60,rendimento:M.rendimento||"",foto_principal:""}),C(H),w(null),j(!0),O(!1)},I=async M=>{if(M.preventDefault(),!(!e||!N.nome.trim()))try{const H={user_id:e.id,categoria_id:N.categoria_id||null,nome:N.nome.trim(),descricao:"",modo_preparo:N.modo_preparo.filter(J=>J.trim()).join(`
`),tempo_preparo:N.tempo_preparo_mins,rendimento:N.rendimento.trim()||null,ingredientes:S,observacoes:""};if(v){if(!await i(v.id,H))throw new Error("Erro ao atualizar receita")}else if(!await a(H))throw new Error("Erro ao salvar receita");Ze()}catch(H){console.error("Erro ao salvar receita:",H),alert("❌ Erro ao salvar receita. Tente novamente.")}},W=M=>{var J;const H=typeof M.modo_preparo=="string"?M.modo_preparo?M.modo_preparo.split(`
`):[""]:Array.isArray(M.modo_preparo)?M.modo_preparo:[""];_({nome:M.nome,categoria:M.categoria_id&&((J=u.find(xe=>xe.id===M.categoria_id))==null?void 0:J.nome)||"Bolos",categoria_id:M.categoria_id,modo_preparo:H,tempo_preparo_mins:Number(M.tempo_preparo)||60,rendimento:M.rendimento||"",foto_principal:M.foto_principal||""}),C(M.ingredientes||[]),w(M),j(!0)},G=M=>{const H={id:Date.now().toString(),receita_id:"",ingrediente_id:M.id,quantidade:0,unidade:M.unidade_padrao,observacoes:"",ordem:S.length};C([...S,H])},L=M=>{C(S.filter((H,J)=>J!==M))},oe=(M,H,J)=>{const xe=[...S];xe[M]={...xe[M],[H]:J},C(xe)},ie=()=>{_({...N,modo_preparo:[...N.modo_preparo,""]})},Ce=M=>{_({...N,modo_preparo:N.modo_preparo.filter((H,J)=>J!==M)})},U=(M,H)=>{const J=[...N.modo_preparo];J[M]=H,_({...N,modo_preparo:J})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Minhas Receitas"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Gerencie suas receitas e organize seus doces"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("button",{onClick:()=>{r()?j(!0):c(!0)},className:`flex items-center space-x-2 px-6 py-3 rounded-lg transition-colors ${r()?"bg-pink-500 text-white hover:bg-pink-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx(gr,{className:"h-5 w-5"}),s.jsx("span",{children:"Nova Receita"})]}),s.jsxs("button",{onClick:()=>{r()?O(!0):c(!0)},className:`flex items-center space-x-2 px-6 py-3 rounded-lg transition-colors ${r()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[s.jsx(Ga,{className:"h-5 w-5"}),s.jsx("span",{children:"Digitalizar com IA"})]}),s.jsx(IM,{type:"receitas"})]})]}),s.jsx("div",{className:"bg-card p-4 lg:p-6 rounded-lg shadow-md mb-6 lg:mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar receitas...",value:m,onChange:M=>g(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),s.jsxs("select",{value:x,onChange:M=>y(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",children:[s.jsx("option",{value:"todas",children:"Todas as categorias"}),u.map(M=>s.jsx("option",{value:M.id,children:M.nome},M.id))]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(pM,{className:"h-5 w-5"}),s.jsxs("span",{children:[Pe.length," receitas encontradas"]})]})]})}),Pe.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Qn,{className:"h-16 w-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:n.length===0?"Nenhuma receita cadastrada":"Nenhuma receita encontrada"}),s.jsx("p",{className:"text-gray-500 mb-6",children:n.length===0?"Comece criando sua primeira receita!":"Tente ajustar os filtros para encontrar o que procura."}),n.length===0&&s.jsx("button",{onClick:()=>j(!0),className:"bg-pink-500 text-white px-6 py-3 rounded-lg hover:bg-pink-600 transition-colors",children:"Criar primeira receita"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:Pe.map(M=>{var J;const H=Se(M.categoria_id);return s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"h-48 bg-gradient-to-br from-pink-100 to-purple-100 flex items-center justify-center",children:M.foto_principal?s.jsx("img",{src:M.foto_principal,alt:M.nome,className:"w-full h-full object-cover"}):s.jsx("div",{className:"text-6xl",children:(H==null?void 0:H.icone)||"🍰"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 truncate",children:M.nome}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>V(M),className:`transition-colors ${Be(M.id)?"text-green-500 hover:text-green-600":"text-gray-400 hover:text-blue-500"}`,title:Be(M.id)?"Receita já compartilhada":"Compartilhar com a comunidade",children:s.jsx(zl,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>W(M),className:"text-gray-400 hover:text-blue-500 transition-colors",children:s.jsx(Bn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>St(M.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(nn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsxs("span",{children:[Number(M.tempo_preparo)||0,"min"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(vn,{className:"h-4 w-4"}),s.jsx("span",{children:M.rendimento||"-"})]})]}),s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:((J=Se(M.categoria_id))==null?void 0:J.nome)||"Outros"})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:(H==null?void 0:H.cor_hex)||"#gray"}}),s.jsx("span",{className:"text-sm text-gray-600",children:H==null?void 0:H.nome})]})}),Array.isArray(M.tags)&&M.tags.length>0&&s.jsxs("div",{className:"mt-4 flex flex-wrap gap-1",children:[M.tags.slice(0,3).map(xe=>s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["#",xe]},xe)),M.tags.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",M.tags.length-3]})]})]})]},M.id)})}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full m-4 max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v?"Editar Receita":"Nova Receita"}),s.jsx("button",{onClick:Ze,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Lt,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:I,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Receita *"}),s.jsx("input",{type:"text",value:N.nome,onChange:M=>_({...N,nome:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Ex: Brigadeiro Gourmet",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),s.jsxs("select",{value:N.categoria,onChange:M=>_({...N,categoria:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0,children:[s.jsx("option",{value:"Bolos",children:"Bolos"}),s.jsx("option",{value:"Doces",children:"Doces"}),s.jsx("option",{value:"Salgados",children:"Salgados"}),s.jsx("option",{value:"Outros",children:"Outros"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tempo de Preparo: ",Math.floor(N.tempo_preparo_mins/60),"h ",N.tempo_preparo_mins%60,"min"]}),s.jsx("input",{type:"range",min:"15",max:"240",step:"15",value:N.tempo_preparo_mins,onChange:M=>_({...N,tempo_preparo_mins:parseInt(M.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"15min"}),s.jsx("span",{children:"2h"}),s.jsx("span",{children:"4h"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rendimento *"}),s.jsx("input",{type:"text",value:N.rendimento,onChange:M=>_({...N,rendimento:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Ex: 12 porções, 1 bolo grande",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Ingredientes *"}),s.jsx(RM,{onAddIngredient:G,selectedIngredients:S,className:"mb-6"}),S.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Ingredientes da Receita (",S.length,")"]}),S.map((M,H)=>{const J=f.find(xe=>xe.id===M.ingrediente_id)||xd.find(xe=>xe.id===M.ingrediente_id);return s.jsx("div",{className:"border border-gray-200 p-3 rounded-lg bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3 items-center",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:(J==null?void 0:J.nome)||"Ingrediente desconhecido"}),s.jsx("p",{className:"text-xs text-gray-500",children:(J==null?void 0:J.categoria)||"Categoria não definida"})]}),s.jsx("div",{children:s.jsx("input",{type:"number",step:"0.01",value:M.quantidade,onChange:xe=>oe(H,"quantidade",parseFloat(xe.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Quantidade"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("select",{value:M.unidade,onChange:xe=>oe(H,"unidade",xe.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"ml",children:"ml"}),s.jsx("option",{value:"l",children:"l"}),s.jsx("option",{value:"xícara",children:"xícara"}),s.jsx("option",{value:"colher de sopa",children:"colher de sopa"}),s.jsx("option",{value:"colher de chá",children:"colher de chá"}),s.jsx("option",{value:"unidade",children:"unidade"})]}),s.jsx("button",{type:"button",onClick:()=>L(H),className:"text-red-500 hover:text-red-700 p-1",children:s.jsx(Lt,{className:"h-4 w-4"})})]})]})},H)})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Modo de Preparo"}),s.jsxs("button",{type:"button",onClick:ie,className:"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:[s.jsx(gr,{className:"h-4 w-4"}),s.jsx("span",{children:"Adicionar Passo"})]})]}),s.jsx("div",{className:"space-y-4",children:N.modo_preparo.map((M,H)=>s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-pink-100 text-pink-600 rounded-full flex items-center justify-center text-sm font-medium",children:H+1}),s.jsx("textarea",{value:M,onChange:J=>U(H,J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",rows:2,placeholder:`Passo ${H+1}...`}),N.modo_preparo.length>1&&s.jsx("button",{type:"button",onClick:()=>Ce(H),className:"text-red-500 hover:text-red-700 p-2",children:s.jsx(nn,{className:"h-4 w-4"})})]},H))})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{type:"button",onClick:Ze,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600",children:v?"Salvar Alterações":"Criar Receita"})]})]})]})})]}),s.jsx(TM,{isOpen:l,onClose:()=>c(!1),feature:"receitas",onUpgrade:M=>{t(M==="pix"?"/upgrade/pix":"/upgrade/stripe")}}),s.jsx(DM,{isOpen:T,onClose:()=>O(!1),onRecipeExtracted:D}),P&&F&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Compartilhar com a Comunidade"}),s.jsx("button",{onClick:Q,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Lt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-gray-600 mb-4",children:["Você está prestes a compartilhar a receita ",s.jsxs("strong",{children:['"',F.nome,'"']})," com a comunidade DoceCalc."]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-sm text-blue-700",children:"ℹ️ Sua receita ficará visível para todos os confeiteiros da comunidade e poderá receber curtidas e comentários."})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"compartilhamento-anonimo",checked:q,onChange:M=>E(M.target.checked),className:"w-4 h-4 text-pink-600 bg-gray-100 border-gray-300 rounded focus:ring-pink-500"}),s.jsx("label",{htmlFor:"compartilhamento-anonimo",className:"text-sm text-gray-600",children:"Compartilhar anonimamente (seu nome não aparecerá)"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:Q,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsxs("button",{onClick:X,className:"px-6 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 flex items-center space-x-2",children:[s.jsx(zl,{className:"h-4 w-4"}),s.jsx("span",{children:"Compartilhar"})]})]})]})})]})}function LM(){const{user:e}=Ie(),[t,r]=p.useState([]),[n,a]=p.useState(""),[i,o]=p.useState("todas"),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState(!1),[m,g]=p.useState(""),[x,y]=p.useState({valorPago:0,quantidade:0}),[b,j]=p.useState(null),[v,w]=p.useState({nome:"",preco_atual:0,unidade:"kg",categoria:"Outros",fornecedor:"",estoque_atual:0,estoque_minimo:0,modo_receitas:!1});p.useEffect(()=>{e&&N()},[e]);const N=async()=>{if(e)try{const{data:k,error:R}=await te.from("ingredientes_usuario").select("*").eq("user_id",e.id).order("nome",{ascending:!0});if(R)throw R;r(k||[])}catch(k){console.error("Erro ao carregar ingredientes:",k)}},_=YS,S=t.filter(k=>{const R=k.nome.toLowerCase().includes(n.toLowerCase()),B=i==="todas"||k.categoria===i;return R&&B}),C=t.filter(k=>!k.modo_receitas&&k.estoque_atual!==void 0&&k.estoque_minimo!==void 0&&k.estoque_atual<=k.estoque_minimo),T=async k=>{if(k.preventDefault(),!!e)try{const R={user_id:e.id,nome:v.nome,preco_atual:v.preco_atual,preco_anterior:(b==null?void 0:b.preco_atual)||null,unidade:v.unidade,categoria:v.categoria,fornecedor:v.fornecedor||null,estoque_atual:v.modo_receitas?null:v.estoque_atual,estoque_minimo:v.modo_receitas?null:v.estoque_minimo,modo_receitas:v.modo_receitas,observacoes:null};if(b){const{data:B,error:V}=await te.from("ingredientes_usuario").update(R).eq("id",b.id).eq("user_id",e.id).select().single();if(V)throw V;r(X=>X.map(Q=>Q.id===b.id?B:Q))}else{const{data:B,error:V}=await te.from("ingredientes_usuario").insert({user_id:e.id,nome:R.nome,categoria:R.categoria,preco_medio:R.preco_medio,unidade_padrao:R.unidade_padrao||"un",estoque:R.estoque,data_ultima_compra:R.data_ultima_compra,fornecedor:R.fornecedor}).select().single();if(V)throw V;r(X=>[B,...X])}O(),alert(b?"✅ Ingrediente atualizado!":"✅ Ingrediente criado!")}catch(R){console.error("Erro ao salvar ingrediente:",R),alert("❌ Erro ao salvar ingrediente. Tente novamente.")}},O=()=>{w({nome:"",preco_atual:0,unidade:"kg",categoria:"Outros",fornecedor:"",estoque_atual:0,estoque_minimo:0,modo_receitas:!1}),j(null),c(!1)},P=k=>{w({nome:k.nome,preco_atual:k.preco_atual,unidade:k.unidade,categoria:k.categoria,fornecedor:k.fornecedor||"",estoque_atual:k.estoque_atual||0,estoque_minimo:k.estoque_minimo||0,modo_receitas:k.modo_receitas||!1}),j(k),c(!0)},A=async k=>{if(window.confirm("Tem certeza que deseja excluir este ingrediente?"))try{const{error:R}=await te.from("ingredientes_usuario").delete().eq("id",k).eq("user_id",e==null?void 0:e.id);if(R)throw R;r(B=>B.filter(V=>V.id!==k)),alert("✅ Ingrediente excluído com sucesso!")}catch(R){console.error("Erro ao excluir ingrediente:",R),alert("❌ Erro ao excluir ingrediente. Tente novamente.")}},F=k=>{if(e){if(k.id==="ovos"){h(!0),d(!1);return}w({nome:k.nome,preco_atual:0,unidade:k.unidade_padrao,categoria:k.categoria,fornecedor:"",estoque_atual:0,estoque_minimo:0,modo_receitas:!1}),j(null),d(!1),c(!0)}},z=async()=>{if(!e||x.valorPago<=0||x.quantidade<=0)return;const k=x.valorPago/x.quantidade;try{const R={user_id:e.id,nome:"Ovos",preco_atual:k,unidade:"unidade",categoria:"Ovos",observacoes:null},{data:B,error:V}=await te.from("ingredientes_usuario").insert(R).select().single();if(V)throw V;r(X=>[B,...X]),h(!1),d(!1),y({valorPago:0,quantidade:0}),alert("✅ Ingrediente ovo adicionado com sucesso!")}catch(R){console.error("Erro ao adicionar ingrediente ovo:",R),alert("❌ Erro ao adicionar ingrediente. Tente novamente.")}},q=xd.filter(k=>MM.includes(k.id)).filter(k=>m===""||k.nome.toLowerCase().includes(m.toLowerCase())||k.categoria.toLowerCase().includes(m.toLowerCase())).filter(k=>!t.some(R=>R.nome.toLowerCase()===k.nome.toLowerCase())),E=k=>k.preco_anterior?(k.preco_atual-k.preco_anterior)/k.preco_anterior*100:null;return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Ingredientes & Estoque"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Gerencie preços e controle seu estoque"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:[s.jsx(gr,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Ingrediente"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-yellow-500 text-white px-6 py-3 rounded-lg hover:bg-yellow-600 transition-colors",children:[s.jsx(Qn,{className:"h-5 w-5"}),s.jsx("span",{children:"Ingredientes Populares"})]})]})]}),C.length>0&&s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx(Iu,{className:"h-5 w-5 text-yellow-400"}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-yellow-700",children:[s.jsxs("strong",{children:[C.length," ingredientes"]})," com estoque baixo precisam de reposição."]})})]})}),s.jsx("div",{className:"bg-card p-4 lg:p-6 rounded-lg shadow-md mb-6 lg:mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar ingredientes...",value:n,onChange:k=>a(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"todas",children:"Todas as categorias"}),_.map(k=>s.jsx("option",{value:k,children:k},k))]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(Fs,{className:"h-5 w-5"}),s.jsxs("span",{children:[S.length," ingredientes"]})]})]})}),s.jsx("div",{className:"bg-card rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ingrediente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preço Atual"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variação"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estoque"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fornecedor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(k=>{const R=E(k),B=!k.modo_receitas&&k.estoque_atual!==void 0&&k.estoque_minimo!==void 0&&k.estoque_atual<=k.estoque_minimo;return s.jsxs("tr",{className:B?"bg-yellow-50":"",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.nome}),s.jsx("div",{className:"text-sm text-gray-500",children:k.categoria})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["R$ ",(Number(k.preco_atual)||0).toFixed(2)]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["por ",k.unidade]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R!==null&&s.jsxs("div",{className:`flex items-center text-sm ${R>0?"text-red-600":R<0?"text-green-600":"text-gray-600"}`,children:[s.jsx(Jn,{className:`h-4 w-4 mr-1 ${R<0?"transform rotate-180":""}`}),Math.abs(R).toFixed(1),"%"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k.modo_receitas?s.jsx("span",{className:"text-sm text-blue-600",children:"Modo receitas"}):k.estoque_atual!==void 0?s.jsxs("div",{className:`text-sm ${B?"text-yellow-600 font-medium":"text-gray-900"}`,children:[k.estoque_atual," ",k.unidade,B&&s.jsx("div",{className:"text-xs text-yellow-600",children:"Repor!"})]}):s.jsx("span",{className:"text-gray-400",children:"-"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.fornecedor||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>P(k),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Bn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>A(k.id),className:"text-red-600 hover:text-red-900",children:s.jsx(nn,{className:"h-4 w-4"})})]})})]},k.id)})})]})})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full m-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:b?"Editar Ingrediente":"Novo Ingrediente"}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Ingrediente"}),s.jsx("input",{type:"text",value:v.nome,onChange:k=>w({...v,nome:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preço Atual"}),s.jsx(Ii,{value:v.preco_atual,onChange:k=>w({...v,preco_atual:k||0}),className:"border-gray-300",placeholder:"R$ 0,00",allowEmpty:!1})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidade"}),s.jsxs("select",{value:v.unidade,onChange:k=>w({...v,unidade:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"kg",children:"Quilos (kg)"}),s.jsx("option",{value:"g",children:"Gramas (g)"}),s.jsx("option",{value:"l",children:"Litros (l)"}),s.jsx("option",{value:"ml",children:"Mililitros (ml)"}),s.jsx("option",{value:"unidade",children:"Unidade"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria"}),s.jsx("select",{value:v.categoria,onChange:k=>w({...v,categoria:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:_.map(k=>s.jsx("option",{value:k,children:k},k))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor (Opcional)"}),s.jsx("input",{type:"text",value:v.fornecedor,onChange:k=>w({...v,fornecedor:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"modo-receitas",checked:v.modo_receitas,onChange:k=>w({...v,modo_receitas:k.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"modo-receitas",className:"text-sm font-medium text-gray-700",children:"Modo para receitas: não contabilizará estoque, apenas ficará liberado para receitas"})]}),!v.modo_receitas&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estoque Atual"}),s.jsx("input",{type:"number",step:"0.01",value:v.estoque_atual,onChange:k=>w({...v,estoque_atual:parseFloat(k.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estoque Mínimo"}),s.jsx("input",{type:"number",step:"0.01",value:v.estoque_minimo,onChange:k=>w({...v,estoque_minimo:parseFloat(k.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:b?"Salvar Alterações":"Adicionar Ingrediente"})]})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full m-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ingredientes Mais Utilizados por Confeiteiras"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar ingredientes...",value:m,onChange:k=>g(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map(k=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:k.nome}),s.jsx("p",{className:"text-sm text-gray-600",children:k.categoria}),s.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Unidade: ",k.unidade_padrao]}),s.jsx("button",{onClick:()=>F(k),className:"w-full px-3 py-2 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition-colors",children:"Adicionar"})]},k.id))}),q.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum ingrediente encontrado ou todos já foram adicionados."})]})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full m-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Calcular Preço dos Ovos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quanto você pagou?"}),s.jsx(Ii,{value:x.valorPago,onChange:k=>y({...x,valorPago:k||0}),className:"border-gray-300",placeholder:"R$ 0,00",allowEmpty:!1})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Por quantos ovos?"}),s.jsx("input",{type:"number",value:x.quantidade,onChange:k=>y({...x,quantidade:parseInt(k.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 30"})]}),x.valorPago>0&&x.quantidade>0&&s.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-green-700",children:s.jsxs("strong",{children:["Preço por ovo: R$ ",(x.valorPago/x.quantidade).toFixed(2)]})})})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>{h(!1),y({valorPago:0,quantidade:0})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{onClick:z,disabled:x.valorPago<=0||x.quantidade<=0,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Adicionar Ovos"})]})]})})]})})}const FM=e=>({id:e.id,usuario_id:e.user_id,nome:e.nome,telefone:e.telefone||void 0,whatsapp:e.whatsapp||void 0,email:e.email||void 0,endereco_completo:e.endereco||void 0,data_nascimento:e.data_nascimento||void 0,observacoes:e.observacoes||void 0,criado_em:e.created_at,ativo:e.ativo||!0,historico_pedidos:0,valor_total_gasto:0});function BM(){const{user:e}=Ie(),[t,r]=p.useState([]),[n,a]=p.useState(""),[i,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState({nome:"",telefone:"",whatsapp:"",email:"",cep:"",endereco_completo:"",data_nascimento:"",observacoes:""}),[f,h]=p.useState(!1),[m,g]=p.useState(!1),[x,y]=p.useState(!1),[b,j]=p.useState(!1),[v,w]=p.useState(null),[N,_]=p.useState(""),[S,C]=p.useState([]),[T,O]=p.useState(null),[P,A]=p.useState([]),[F,z]=p.useState(!1),[q,E]=p.useState({}),[k,R]=p.useState(!1);p.useEffect(()=>{e&&B()},[e]);const B=async()=>{if(e)try{const{data:U,error:M}=await te.from("clientes").select("*").eq("user_id",e.id).order("nome",{ascending:!0});if(M)throw M;const H=(U||[]).map(FM);r(H)}catch(U){console.error("Erro ao carregar clientes:",U)}},V=t.filter(U=>{var H,J;const M=n.toLowerCase();return U.nome.toLowerCase().includes(M)||((H=U.telefone)==null?void 0:H.toLowerCase().includes(M))||((J=U.email)==null?void 0:J.toLowerCase().includes(M))}),X=async U=>{if(U.preventDefault(),!!e)try{const M={user_id:e.id,nome:u.nome,telefone:u.telefone||null,whatsapp:u.whatsapp||null,email:u.email||null,endereco_completo:u.endereco_completo||null,data_nascimento:u.data_nascimento||null,observacoes:u.observacoes||null};if(l){const{data:H,error:J}=await te.from("clientes").update(M).eq("id",l.id).eq("user_id",e.id).select().single();if(J)throw J;r(xe=>xe.map(ti=>ti.id===l.id?H:ti))}else{const{data:H,error:J}=await te.from("clientes").insert(M).select().single();if(J)throw J;r(xe=>[H,...xe])}W(),alert(l?"✅ Cliente atualizado!":"✅ Cliente criado!")}catch(M){console.error("Erro ao salvar cliente:",M),alert("❌ Erro ao salvar cliente. Tente novamente.")}},Q=()=>{var M;if(!e)return;const U={id:Date.now().toString(),usuario_id:e.id,codigo_qr:`https://docecalc.app/cadastro/${e.id}/${Date.now()}`,nome_confeitaria:((M=e==null?void 0:e.email)==null?void 0:M.split("@")[0])||"Minha Confeitaria",ativo:!0,criado_em:new Date().toISOString(),clientes_cadastrados:0};w(U),ft("qr_codes_cadastro",[U]),g(!0)},Be=async()=>{if(!(!N.trim()||!e)){z(!0);try{const U=`
        Você é especialista em extrair dados de contatos de conversas do WhatsApp.
        Analise esta conversa e extraia TODOS os contatos mencionados:
        
        Conversa:
        ${N}
        
        Retorne JSON exatamente neste formato:
        {
          "clientes": [
            {
              "nome": "nome completo da pessoa",
              "telefone": "apenas números, sem formatação",
              "preferencias": "produtos ou sabores mencionados",
              "observacoes": "informações extras relevantes"
            }
          ]
        }
        
        REGRAS:
        - Extraia apenas pessoas reais (não empresas ou marcas)
        - Inclua apenas telefones válidos (10-11 dígitos)
        - Se não houver telefone, coloque string vazia
        - Seja preciso com os nomes (use o nome como mencionado)
        - Em observações, inclua data de aniversário se mencionada
      `,H={clientes:Pe(N)}.clientes.map(J=>({id:Date.now().toString()+Math.random().toString(),usuario_id:e.id,nome:J.nome,telefone:J.telefone,whatsapp:J.telefone,email:"",endereco_completo:"",data_nascimento:"",observacoes:`Importado via IA do WhatsApp
${J.observacoes||""}${J.preferencias?`
Preferências: `+J.preferencias:""}`,criado_em:new Date().toISOString(),ativo:!0,historico_pedidos:0,valor_total_gasto:0}));C(H)}catch{alert("Erro ao processar dados. Verifique o texto e tente novamente.")}finally{z(!1)}}},Pe=U=>{const M=U.split(`
`),H=[];for(const J of M){const xe=J.match(/\b[\d\s\(\)\-]{10,}\b/g),ti=J.match(/([A-Z][a-zÀ-ÿ]+(?:\s+[A-Z][a-zÀ-ÿ]+)*)/g);if(ti&&xe){const Ao=ti[0],Oo=xe[0].replace(/\D/g,"");Oo.length>=10&&Ao.length>2&&H.push({nome:Ao,telefone:Oo,preferencias:"",observacoes:""})}}return H},Se=U=>{var J;const M=(J=U.target.files)==null?void 0:J[0];if(!M||!e)return;O(M);const H=new FileReader;H.onload=xe=>{var Wy,Vy,Ky;const Ao=((Wy=xe.target)==null?void 0:Wy.result).split(`
`).filter(ri=>ri.trim()),Oo=[];for(let ri=1;ri<Ao.length;ri++){const ha=Ao[ri].split(",").map($h=>$h.trim());if(ha.length>=2&&ha[0]&&ha[1]){const $h={id:Date.now().toString()+ri,usuario_id:e.id,nome:ha[0]||"",telefone:((Vy=ha[1])==null?void 0:Vy.replace(/\D/g,""))||"",whatsapp:((Ky=ha[1])==null?void 0:Ky.replace(/\D/g,""))||"",email:ha[2]||"",endereco_completo:ha[3]||"",data_nascimento:"",observacoes:"Importado via CSV/TXT",criado_em:new Date().toISOString(),ativo:!0,historico_pedidos:0,valor_total_gasto:0};Oo.push($h)}}A(Oo)},H.readAsText(M)},St=()=>{if(P.length===0)return;const U=[...t,...P];r(U);const H=se(le.CLIENTES,[]).filter(J=>J.usuario_id!==(e==null?void 0:e.id));ft(le.CLIENTES,[...H,...U]),j(!1),A([]),O(null),alert(`✅ ${P.length} clientes importados com sucesso!`)},Ze=U=>{const M=U.replace(/\D/g,"");return M.length>=10&&M.length<=11},D=U=>{const M=U.replace(/\D/g,"");return M.length===11?`(${M.slice(0,2)}) ${M.slice(2,7)}-${M.slice(7)}`:M.length===10?`(${M.slice(0,2)}) ${M.slice(2,6)}-${M.slice(6)}`:U},I=()=>{if(S.length===0)return;const U=[...t,...S];r(U);const H=se(le.CLIENTES,[]).filter(J=>J.usuario_id!==(e==null?void 0:e.id));ft(le.CLIENTES,[...H,...U]),y(!1),C([]),_(""),alert(`✅ ${S.length} clientes importados via IA!`)},W=()=>{d({nome:"",telefone:"",whatsapp:"",email:"",cep:"",endereco_completo:"",data_nascimento:"",observacoes:""}),c(null),o(!1)},G=async U=>{if(!(!U||U.length!==8)){R(!0);try{const H=await(await fetch(`https://viacep.com.br/ws/${U}/json/`)).json();H.erro||d(J=>({...J,endereco_completo:`${H.logradouro}, ${H.bairro}, ${H.localidade}/${H.uf}`}))}catch(M){console.error("Erro ao buscar CEP:",M)}finally{R(!1)}}},L=U=>{d({nome:U.nome,telefone:U.telefone||"",whatsapp:U.whatsapp||"",email:U.email||"",cep:"",endereco_completo:U.endereco_completo||"",data_nascimento:U.data_nascimento||"",observacoes:U.observacoes||""}),c(U),o(!0)},oe=async U=>{if(window.confirm("Tem certeza que deseja excluir este cliente?"))try{const{error:M}=await te.from("clientes").delete().eq("id",U).eq("user_id",e==null?void 0:e.id);if(M)throw M;r(H=>H.filter(J=>J.id!==U)),alert("✅ Cliente excluído com sucesso!")}catch(M){console.error("Erro ao excluir cliente:",M),alert("❌ Erro ao excluir cliente. Tente novamente.")}},ie=(U,M)=>{const H=U.replace(/\D/g,""),J=encodeURIComponent(`Olá ${M}! Tudo bem?`);window.open(`https://wa.me/55${H}?text=${J}`,"_blank")},Ce=U=>{if(!U)return null;const M=new Date,H=new Date(U);let J=M.getFullYear()-H.getFullYear();const xe=M.getMonth()-H.getMonth();return(xe<0||xe===0&&M.getDate()<H.getDate())&&J--,J};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Clientes"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Gerencie seus clientes e histórico de pedidos"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h(!f),className:"flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-colors",children:[s.jsx(gr,{className:"h-5 w-5"}),s.jsx("span",{children:"Cadastrar Cliente"}),s.jsx("svg",{className:"h-4 w-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&s.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border z-50",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("button",{onClick:()=>{o(!0),h(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md flex items-center space-x-3",children:[s.jsx(Tr,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Cadastro Manual"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Preencha os dados do cliente manualmente"})]})]}),s.jsxs("button",{onClick:()=>{Q(),h(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md flex items-center space-x-3",children:[s.jsx(rn,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"QR Code de Cadastro"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Clientes escaneia e se cadastra sozinho"})]})]}),s.jsxs("button",{onClick:()=>{y(!0),h(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md flex items-center space-x-3",children:[s.jsx(bm,{className:"h-5 w-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"IA de WhatsApp"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Cole conversas e extraia dados automaticamente"})]})]}),s.jsxs("button",{onClick:()=>{j(!0),h(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md flex items-center space-x-3",children:[s.jsx(Lr,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Import de Arquivo"}),s.jsx("p",{className:"text-sm text-gray-500",children:"CSV/TXT com dados de clientes em lote"})]})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Clientes"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),s.jsx(Tr,{className:"h-8 w-8 text-purple-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Clientes Ativos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(U=>U.historico_pedidos>0).length})]}),s.jsx(If,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Com WhatsApp"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(U=>U.whatsapp).length})]}),s.jsx(xn,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",t.reduce((U,M)=>U+M.valor_total_gasto,0).toFixed(2)]})]}),s.jsx(pd,{className:"h-8 w-8 text-blue-500"})]})})]}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar clientes por nome, telefone ou email...",value:n,onChange:U=>a(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),V.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Tr,{className:"h-16 w-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:t.length===0?"Nenhum cliente cadastrado":"Nenhum cliente encontrado"}),s.jsx("p",{className:"text-gray-500 mb-6",children:t.length===0?"Comece adicionando seu primeiro cliente!":"Tente ajustar os termos de busca."}),t.length===0&&s.jsx("button",{onClick:()=>o(!0),className:"bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors",children:"Adicionar primeiro cliente"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:V.map(U=>{const M=Ce(U.data_nascimento||"");return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Tr,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:U.nome}),M&&s.jsxs("p",{className:"text-sm text-gray-500",children:[M," anos"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>L(U),className:"text-gray-400 hover:text-blue-500 transition-colors",children:s.jsx(Bn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>oe(U.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(nn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[U.telefone&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(WS,{className:"h-4 w-4"}),s.jsx("span",{children:D(U.telefone)})]}),U.email&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(pd,{className:"h-4 w-4"}),s.jsx("span",{children:U.email})]}),U.whatsapp&&s.jsxs("button",{onClick:()=>ie(U.whatsapp,U.nome),className:"flex items-center space-x-2 text-sm text-green-600 hover:text-green-700",children:[s.jsx(xn,{className:"h-4 w-4"}),s.jsx("span",{children:"WhatsApp"})]})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:U.historico_pedidos}),s.jsx("p",{className:"text-xs text-gray-500",children:"Pedidos"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["R$ ",U.valor_total_gasto.toFixed(2)]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Gasto"})]})]})}),U.observacoes&&s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-600",children:U.observacoes})})]},U.id)})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full m-4 max-h-screen overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:l?"Editar Cliente":"Novo Cliente"}),s.jsxs("form",{onSubmit:X,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),s.jsx("input",{type:"text",value:u.nome,onChange:U=>d({...u,nome:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),s.jsx("input",{type:"tel",value:u.telefone,onChange:U=>d({...u,telefone:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"(11) 99999-9999"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),s.jsx("input",{type:"tel",value:u.whatsapp,onChange:U=>d({...u,whatsapp:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"(11) 99999-9999"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:u.email,onChange:U=>d({...u,email:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:u.cep,onChange:U=>d({...u,cep:U.target.value.replace(/\D/g,"")}),onBlur:U=>G(U.target.value),maxLength:8,placeholder:"12345678",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),k&&s.jsx("div",{className:"absolute right-3 top-2",children:s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-500"})})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Nascimento"}),s.jsx("input",{type:"date",value:u.data_nascimento,onChange:U=>d({...u,data_nascimento:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço Completo"}),s.jsx("textarea",{value:u.endereco_completo,onChange:U=>d({...u,endereco_completo:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",rows:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),s.jsx("textarea",{value:u.observacoes,onChange:U=>d({...u,observacoes:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Preferências, alergias, informações importantes..."})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:l?"Salvar Alterações":"Adicionar Cliente"})]})]})]})}),m&&v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rn,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"QR Code de Cadastro"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Mostre este QR Code para seus clientes se cadastrarem sozinhos"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("div",{className:"w-48 h-48 bg-gray-200 mx-auto rounded-lg flex items-center justify-center",children:s.jsx(rn,{className:"h-16 w-16 text-gray-400"})}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:v.nome_confeitaria})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-blue-700",children:"📱 Clientes escaneiam → preenchem dados básicos → dados chegam direto no seu CRM!"})}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Fechar"}),s.jsxs("button",{onClick:()=>{alert("QR Code salvo! (Funcionalidade de download seria implementada aqui)")},className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center justify-center space-x-2",children:[s.jsx(go,{className:"h-4 w-4"}),s.jsx("span",{children:"Baixar"})]})]})]})})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(bm,{className:"h-8 w-8 text-purple-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"IA de WhatsApp"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Extraia dados automaticamente de conversas"})]})]}),s.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cole sua conversa do WhatsApp aqui:"}),s.jsx("textarea",{value:N,onChange:U=>_(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",rows:8,placeholder:`Exemplo:
João Silva: Olá! Gostaria de fazer um pedido
Maria (11) 99999-9999: Oi João! Claro, me fala o que você precisa
João Silva: Um bolo de chocolate para 20 pessoas...`})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-yellow-700",children:"🤖 A IA irá identificar nomes e telefones automaticamente. Funciona melhor com conversas que incluem nomes e números de telefone visíveis."})}),S.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Clientes encontrados (",S.length,"):"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:S.map((U,M)=>s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:U.nome}),s.jsx("p",{className:"text-sm text-gray-600",children:U.telefone?D(U.telefone):"Não informado"})]}),s.jsx(je,{className:"h-5 w-5 text-green-500"})]},M))})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),S.length>0?s.jsxs("button",{onClick:I,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[s.jsx(je,{className:"h-4 w-4"}),s.jsxs("span",{children:["Confirmar ",S.length," Clientes"]})]}):s.jsx("button",{onClick:Be,disabled:F||!N.trim(),className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:opacity-50 flex items-center space-x-2",children:F?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Processando..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(bm,{className:"h-4 w-4"}),s.jsx("span",{children:"Processar com IA"})]})})]})]})}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Lr,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import de Arquivo"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Importe clientes em lote via CSV/TXT"})]})]}),s.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione um arquivo CSV ou TXT:"}),s.jsx("input",{type:"file",accept:".csv,.txt",onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-2",children:"Formato esperado:"}),s.jsx("p",{className:"text-sm text-green-600",children:s.jsx("code",{children:"Nome, Telefone, Email, Endereço"})}),s.jsx("p",{className:"text-sm text-green-600 mt-1",children:'Exemplo: "João Silva, (11) 99999-9999, joao@email.com, Rua A, 123"'})]}),P.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Preview (",P.length," clientes encontrados):"]}),s.jsx("div",{className:"bg-gray-50 border rounded-lg",children:s.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3 border-b",children:"Nome"}),s.jsx("th",{className:"text-left p-3 border-b",children:"Telefone"}),s.jsx("th",{className:"text-left p-3 border-b",children:"Email"}),s.jsx("th",{className:"text-left p-3 border-b",children:"Status"})]})}),s.jsx("tbody",{children:P.map((U,M)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-3",children:U.nome}),s.jsx("td",{className:"p-3",children:U.telefone?D(U.telefone):"Não informado"}),s.jsx("td",{className:"p-3",children:U.email||"-"}),s.jsx("td",{className:"p-3",children:s.jsx("div",{className:"flex items-center space-x-1",children:U.telefone&&Ze(U.telefone)?s.jsx(je,{className:"h-4 w-4 text-green-500"}):s.jsx("span",{className:"text-red-500 text-xs",children:"Telefone inválido"})})})]},M))})]})})})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),P.length>0&&s.jsxs("button",{onClick:St,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[s.jsx(je,{className:"h-4 w-4"}),s.jsxs("span",{children:["Importar ",P.length," Clientes"]})]})]})]})})]})})}var xo={},zM=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},XS={},br={};let Nx;const UM=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];br.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};br.getSymbolTotalCodewords=function(t){return UM[t]};br.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};br.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Nx=t};br.isKanjiModeEnabled=function(){return typeof Nx<"u"};br.toSJIS=function(t){return Nx(t)};var Mf={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(Mf);function QS(){this.buffer=[],this.length=0}QS.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var qM=QS;function cc(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}cc.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};cc.prototype.get=function(e,t){return this.data[e*this.size+t]};cc.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};cc.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var WM=cc,JS={};(function(e){const t=br.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,i=t(n),o=i===145?26:Math.ceil((i-13)/(2*a-2))*2,l=[i-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(n){const a=[],i=e.getRowColCoords(n),o=i.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||a.push([i[l],i[c]]);return a}})(JS);var ZS={};const VM=br.getSymbolSize,Dw=7;ZS.getPositions=function(t){const r=VM(t);return[[0,0],[r-Dw,0],[0,r-Dw]]};var eC={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const i=a.size;let o=0,l=0,c=0,u=null,d=null;for(let f=0;f<i;f++){l=c=0,u=d=null;for(let h=0;h<i;h++){let m=a.get(f,h);m===u?l++:(l>=5&&(o+=t.N1+(l-5)),u=m,l=1),m=a.get(h,f),m===d?c++:(c>=5&&(o+=t.N1+(c-5)),d=m,c=1)}l>=5&&(o+=t.N1+(l-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(a){const i=a.size;let o=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(a){const i=a.size;let o=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|a.get(u,d),d>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|a.get(d,u),d>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(a){let i=0;const o=a.data.length;for(let c=0;c<o;c++)i+=a.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function r(n,a,i){switch(n){case e.Patterns.PATTERN000:return(a+i)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(a+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return a*i%2+a*i%3===0;case e.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case e.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,i){const o=i.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)i.isReserved(c,l)||i.xor(c,l,r(a,c,l))},e.getBestMask=function(a,i){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){i(u),e.applyMask(u,a);const d=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(u,a),d<c&&(c=d,l=u)}return l}})(eC);var Rf={};const Ta=Mf,eu=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],tu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Rf.getBlocksCount=function(t,r){switch(r){case Ta.L:return eu[(t-1)*4+0];case Ta.M:return eu[(t-1)*4+1];case Ta.Q:return eu[(t-1)*4+2];case Ta.H:return eu[(t-1)*4+3];default:return}};Rf.getTotalCodewordsCount=function(t,r){switch(r){case Ta.L:return tu[(t-1)*4+0];case Ta.M:return tu[(t-1)*4+1];case Ta.Q:return tu[(t-1)*4+2];case Ta.H:return tu[(t-1)*4+3];default:return}};var tC={},Df={};const gl=new Uint8Array(512),vd=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)gl[r]=t,vd[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)gl[r]=gl[r-255]})();Df.log=function(t){if(t<1)throw new Error("log("+t+")");return vd[t]};Df.exp=function(t){return gl[t]};Df.mul=function(t,r){return t===0||r===0?0:gl[vd[t]+vd[r]]};(function(e){const t=Df;e.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<a.length;l++)i[o+l]^=t.mul(n[o],a[l]);return i},e.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const o=i[0];for(let c=0;c<a.length;c++)i[c]^=t.mul(a[c],o);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=e.mul(a,new Uint8Array([1,t.exp(i)]));return a}})(tC);const rC=tC;function _x(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}_x.prototype.initialize=function(t){this.degree=t,this.genPoly=rC.generateECPolynomial(this.degree)};_x.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=rC.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(n,a),i}return n};var KM=_x,nC={},as={},Sx={};Sx.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var _n={};const aC="[0-9]+",GM="[A-Z $%*+\\-./:]+";let Ul="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ul=Ul.replace(/u/g,"\\u");const HM="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ul+`)(?:.|[\r
]))+`;_n.KANJI=new RegExp(Ul,"g");_n.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");_n.BYTE=new RegExp(HM,"g");_n.NUMERIC=new RegExp(aC,"g");_n.ALPHANUMERIC=new RegExp(GM,"g");const YM=new RegExp("^"+Ul+"$"),XM=new RegExp("^"+aC+"$"),QM=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");_n.testKanji=function(t){return YM.test(t)};_n.testNumeric=function(t){return XM.test(t)};_n.testAlphanumeric=function(t){return QM.test(t)};(function(e){const t=Sx,r=_n;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(i,o){if(e.isValid(i))return i;try{return n(i)}catch{return o}}})(as);(function(e){const t=br,r=Rf,n=Mf,a=as,i=Sx,o=7973,l=t.getBCHDigit(o);function c(h,m,g){for(let x=1;x<=40;x++)if(m<=e.getCapacity(x,g,h))return x}function u(h,m){return a.getCharCountIndicator(h,m)+4}function d(h,m){let g=0;return h.forEach(function(x){const y=u(x.mode,m);g+=y+x.getBitsLength()}),g}function f(h,m){for(let g=1;g<=40;g++)if(d(h,g)<=e.getCapacity(g,m,a.MIXED))return g}e.from=function(m,g){return i.isValid(m)?parseInt(m,10):g},e.getCapacity=function(m,g,x){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=a.BYTE);const y=t.getSymbolTotalCodewords(m),b=r.getTotalCodewordsCount(m,g),j=(y-b)*8;if(x===a.MIXED)return j;const v=j-u(x,m);switch(x){case a.NUMERIC:return Math.floor(v/10*3);case a.ALPHANUMERIC:return Math.floor(v/11*2);case a.KANJI:return Math.floor(v/13);case a.BYTE:default:return Math.floor(v/8)}},e.getBestVersionForData=function(m,g){let x;const y=n.from(g,n.M);if(Array.isArray(m)){if(m.length>1)return f(m,y);if(m.length===0)return 1;x=m[0]}else x=m;return c(x.mode,x.getLength(),y)},e.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let g=m<<12;for(;t.getBCHDigit(g)-l>=0;)g^=o<<t.getBCHDigit(g)-l;return m<<12|g}})(nC);var sC={};const gg=br,iC=1335,JM=21522,$w=gg.getBCHDigit(iC);sC.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;gg.getBCHDigit(a)-$w>=0;)a^=iC<<gg.getBCHDigit(a)-$w;return(n<<10|a)^JM};var oC={};const ZM=as;function Hi(e){this.mode=ZM.NUMERIC,this.data=e.toString()}Hi.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Hi.prototype.getLength=function(){return this.data.length};Hi.prototype.getBitsLength=function(){return Hi.getBitsLength(this.data.length)};Hi.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,i*3+1))};var eR=Hi;const tR=as,_m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Yi(e){this.mode=tR.ALPHANUMERIC,this.data=e}Yi.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Yi.prototype.getLength=function(){return this.data.length};Yi.prototype.getBitsLength=function(){return Yi.getBitsLength(this.data.length)};Yi.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=_m.indexOf(this.data[r])*45;n+=_m.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(_m.indexOf(this.data[r]),6)};var rR=Yi;const nR=as;function Xi(e){this.mode=nR.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Xi.getBitsLength=function(t){return t*8};Xi.prototype.getLength=function(){return this.data.length};Xi.prototype.getBitsLength=function(){return Xi.getBitsLength(this.data.length)};Xi.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var aR=Xi;const sR=as,iR=br;function Qi(e){this.mode=sR.KANJI,this.data=e}Qi.getBitsLength=function(t){return t*13};Qi.prototype.getLength=function(){return this.data.length};Qi.prototype.getBitsLength=function(){return Qi.getBitsLength(this.data.length)};Qi.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=iR.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var oR=Qi,lC={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var i={},o={};o[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,d,f,h,m,g,x,y;!l.empty();){c=l.pop(),u=c.value,f=c.cost,h=r[u]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],g=f+m,x=o[d],y=typeof o[d]>"u",(y||x>g)&&(o[d]=g,l.push(d,g),i[d]=u))}if(typeof a<"u"&&typeof o[a]>"u"){var b=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(b)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],i=n;i;)a.push(i),r[i],i=r[i];return a.reverse(),a},find_path:function(r,n,a){var i=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(lC);var lR=lC.exports;(function(e){const t=as,r=eR,n=rR,a=aR,i=oR,o=_n,l=br,c=lR;function u(b){return unescape(encodeURIComponent(b)).length}function d(b,j,v){const w=[];let N;for(;(N=b.exec(v))!==null;)w.push({data:N[0],index:N.index,mode:j,length:N[0].length});return w}function f(b){const j=d(o.NUMERIC,t.NUMERIC,b),v=d(o.ALPHANUMERIC,t.ALPHANUMERIC,b);let w,N;return l.isKanjiModeEnabled()?(w=d(o.BYTE,t.BYTE,b),N=d(o.KANJI,t.KANJI,b)):(w=d(o.BYTE_KANJI,t.BYTE,b),N=[]),j.concat(v,w,N).sort(function(S,C){return S.index-C.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function h(b,j){switch(j){case t.NUMERIC:return r.getBitsLength(b);case t.ALPHANUMERIC:return n.getBitsLength(b);case t.KANJI:return i.getBitsLength(b);case t.BYTE:return a.getBitsLength(b)}}function m(b){return b.reduce(function(j,v){const w=j.length-1>=0?j[j.length-1]:null;return w&&w.mode===v.mode?(j[j.length-1].data+=v.data,j):(j.push(v),j)},[])}function g(b){const j=[];for(let v=0;v<b.length;v++){const w=b[v];switch(w.mode){case t.NUMERIC:j.push([w,{data:w.data,mode:t.ALPHANUMERIC,length:w.length},{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.ALPHANUMERIC:j.push([w,{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.KANJI:j.push([w,{data:w.data,mode:t.BYTE,length:u(w.data)}]);break;case t.BYTE:j.push([{data:w.data,mode:t.BYTE,length:u(w.data)}])}}return j}function x(b,j){const v={},w={start:{}};let N=["start"];for(let _=0;_<b.length;_++){const S=b[_],C=[];for(let T=0;T<S.length;T++){const O=S[T],P=""+_+T;C.push(P),v[P]={node:O,lastCount:0},w[P]={};for(let A=0;A<N.length;A++){const F=N[A];v[F]&&v[F].node.mode===O.mode?(w[F][P]=h(v[F].lastCount+O.length,O.mode)-h(v[F].lastCount,O.mode),v[F].lastCount+=O.length):(v[F]&&(v[F].lastCount=O.length),w[F][P]=h(O.length,O.mode)+4+t.getCharCountIndicator(O.mode,j))}}N=C}for(let _=0;_<N.length;_++)w[N[_]].end=0;return{map:w,table:v}}function y(b,j){let v;const w=t.getBestModeForData(b);if(v=t.from(j,w),v!==t.BYTE&&v.bit<w.bit)throw new Error('"'+b+'" cannot be encoded with mode '+t.toString(v)+`.
 Suggested mode is: `+t.toString(w));switch(v===t.KANJI&&!l.isKanjiModeEnabled()&&(v=t.BYTE),v){case t.NUMERIC:return new r(b);case t.ALPHANUMERIC:return new n(b);case t.KANJI:return new i(b);case t.BYTE:return new a(b)}}e.fromArray=function(j){return j.reduce(function(v,w){return typeof w=="string"?v.push(y(w,null)):w.data&&v.push(y(w.data,w.mode)),v},[])},e.fromString=function(j,v){const w=f(j,l.isKanjiModeEnabled()),N=g(w),_=x(N,v),S=c.find_path(_.map,"start","end"),C=[];for(let T=1;T<S.length-1;T++)C.push(_.table[S[T]].node);return e.fromArray(m(C))},e.rawSplit=function(j){return e.fromArray(f(j,l.isKanjiModeEnabled()))}})(oC);const $f=br,Sm=Mf,cR=qM,uR=WM,dR=JS,fR=ZS,xg=eC,vg=Rf,hR=KM,yd=nC,mR=sC,pR=as,Cm=oC;function gR(e,t){const r=e.size,n=fR.getPositions(t);for(let a=0;a<n.length;a++){const i=n[a][0],o=n[a][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,o+c,!0,!0):e.set(i+l,o+c,!1,!0))}}function xR(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function vR(e,t){const r=dR.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],i=r[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?e.set(a+o,i+l,!0,!0):e.set(a+o,i+l,!1,!0)}}function yR(e,t){const r=e.size,n=yd.getEncodedBits(t);let a,i,o;for(let l=0;l<18;l++)a=Math.floor(l/3),i=l%3+r-8-3,o=(n>>l&1)===1,e.set(a,i,o,!0),e.set(i,a,o,!0)}function km(e,t,r){const n=e.size,a=mR.getEncodedBits(t,r);let i,o;for(i=0;i<15;i++)o=(a>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(n-15+i,8,o,!0),i<8?e.set(8,n-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(n-8,8,1,!0)}function bR(e,t){const r=e.size;let n=-1,a=r-1,i=7,o=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,l-c)){let u=!1;o<t.length&&(u=(t[o]>>>i&1)===1),e.set(a,l-c,u),i--,i===-1&&(o++,i=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function wR(e,t,r){const n=new cR;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),pR.getCharCountIndicator(c.mode,e)),c.write(n)});const a=$f.getSymbolTotalCodewords(e),i=vg.getTotalCodewordsCount(e,t),o=(a-i)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return jR(n,e,t)}function jR(e,t,r){const n=$f.getSymbolTotalCodewords(t),a=vg.getTotalCodewordsCount(t,r),i=n-a,o=vg.getBlocksCount(t,r),l=n%o,c=o-l,u=Math.floor(n/o),d=Math.floor(i/o),f=d+1,h=u-d,m=new hR(h);let g=0;const x=new Array(o),y=new Array(o);let b=0;const j=new Uint8Array(e.buffer);for(let S=0;S<o;S++){const C=S<c?d:f;x[S]=j.slice(g,g+C),y[S]=m.encode(x[S]),g+=C,b=Math.max(b,C)}const v=new Uint8Array(n);let w=0,N,_;for(N=0;N<b;N++)for(_=0;_<o;_++)N<x[_].length&&(v[w++]=x[_][N]);for(N=0;N<h;N++)for(_=0;_<o;_++)v[w++]=y[_][N];return v}function NR(e,t,r,n){let a;if(Array.isArray(e))a=Cm.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=Cm.rawSplit(e);u=yd.getBestVersionForData(d,r)}a=Cm.fromString(e,u||40)}else throw new Error("Invalid data");const i=yd.getBestVersionForData(a,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=wR(t,r,a),l=$f.getSymbolSize(t),c=new uR(l);return gR(c,t),xR(c),vR(c,t),km(c,r,0),t>=7&&yR(c,t),bR(c,o),isNaN(n)&&(n=xg.getBestMask(c,km.bind(null,c,r))),xg.applyMask(n,c),km(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}XS.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Sm.M,a,i;return typeof r<"u"&&(n=Sm.from(r.errorCorrectionLevel,Sm.M),a=yd.from(r.version),i=xg.from(r.maskPattern),r.toSJISFunc&&$f.setToSJISFunction(r.toSJISFunc)),NR(t,a,n,i)};var cC={},Cx={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const i=e.getScale(n,a);return Math.floor((n+a.margin*2)*i)},e.qrToImageData=function(n,a,i){const o=a.modules.size,l=a.modules.data,c=e.getScale(o,i),u=Math.floor((o+i.margin*2)*c),d=i.margin*c,f=[i.color.light,i.color.dark];for(let h=0;h<u;h++)for(let m=0;m<u;m++){let g=(h*u+m)*4,x=i.color.light;if(h>=d&&m>=d&&h<u-d&&m<u-d){const y=Math.floor((h-d)/c),b=Math.floor((m-d)/c);x=f[l[y*o+b]?1:0]}n[g++]=x.r,n[g++]=x.g,n[g++]=x.b,n[g]=x.a}}})(Cx);(function(e){const t=Cx;function r(a,i,o){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(i.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return t.qrToImageData(h.data,i,c),r(f,u,d),f.putImageData(h,0,0),u},e.renderToDataURL=function(i,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(i,o,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(cC);var uC={};const _R=Cx;function Lw(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Em(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function SR(e,t,r){let n="",a=0,i=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(n+=i?Em("M",c+r,.5+u+r):Em("m",a,0),a=0,i=!1),c+1<t&&e[l+1]||(n+=Em("h",o),o=0)):a++}return n}uC.render=function(t,r,n){const a=_R.getOptions(r),i=t.modules.size,o=t.modules.data,l=i+a.margin*2,c=a.color.light.a?"<path "+Lw(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+Lw(a.color.dark,"stroke")+' d="'+SR(o,i,a.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const CR=zM,yg=XS,dC=cC,kR=uC;function kx(e,t,r,n,a){const i=[].slice.call(arguments,1),o=i.length,l=typeof i[o-1]=="function";if(!l&&!CR())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(a=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=yg.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=yg.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}xo.create=yg.create;xo.toCanvas=kx.bind(null,dC.render);xo.toDataURL=kx.bind(null,dC.renderToDataURL);xo.toString=kx.bind(null,function(e,t,r){return kR.render(e,r)});function ER(){const{user:e}=Ie(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(""),[u,d]=p.useState("todos"),[f,h]=p.useState(!1),[m,g]=p.useState(null),[x,y]=p.useState(!1),[b,j]=p.useState(null),[v,w]=p.useState(null),[N,_]=p.useState({cliente_id:"",cliente_nome_avulso:"",descricao:"",observacoes:"",data_validade:"",incluir_qr_code:!0}),[S,C]=p.useState([]);p.useEffect(()=>{e&&T()},[e]);const T=async()=>{if(e)try{const{data:D,error:I}=await te.from("orcamentos").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}),{data:W,error:G}=await te.from("clientes").select("*").eq("user_id",e.id).order("nome",{ascending:!0}),{data:L,error:oe}=await te.from("receitas").select("*").eq("user_id",e.id).order("nome",{ascending:!0});if(I)throw I;if(G)throw G;if(oe)throw oe;r(D||[]),a(W||[]),o(L||[])}catch(D){console.error("Erro ao carregar dados:",D)}},O=t.filter(D=>{var oe;const I=n.find(ie=>ie.id===D.cliente_id),W=(I==null?void 0:I.nome)||D.cliente_nome_avulso||"Cliente não informado",G=D.numero_orcamento.toLowerCase().includes(l.toLowerCase())||W.toLowerCase().includes(l.toLowerCase())||((oe=D.descricao)==null?void 0:oe.toLowerCase().includes(l.toLowerCase())),L=u==="todos"||D.status===u;return G&&L}),P=D=>{switch(D){case"rascunho":return"text-gray-600 bg-gray-100";case"enviado":return"text-blue-600 bg-blue-100";case"aprovado":return"text-green-600 bg-green-100";case"rejeitado":return"text-red-600 bg-red-100";case"expirado":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},A=D=>{switch(D){case"rascunho":return s.jsx(Bn,{className:"h-4 w-4"});case"enviado":return s.jsx(Ti,{className:"h-4 w-4"});case"aprovado":return s.jsx(Ps,{className:"h-4 w-4"});case"rejeitado":return s.jsx(Lt,{className:"h-4 w-4"});case"expirado":return s.jsx(ns,{className:"h-4 w-4"});default:return s.jsx(ht,{className:"h-4 w-4"})}},F=D=>D.reduce((I,W)=>I+W.valor_total,0),z=async D=>{if(D.preventDefault(),!(!e||S.length===0))try{const I=F(S),W=(m==null?void 0:m.numero)||`ORC-${Date.now().toString().slice(-6)}`,G={user_id:e.id,cliente_id:N.cliente_id||null,numero:W,data_evento:N.data_validade||null,status:"rascunho",valor_total:I,valor_final:I,observacoes:N.observacoes||null,itens:S};if(m){const{data:L,error:oe}=await te.from("orcamentos").update(G).eq("id",m.id).eq("user_id",e.id).select().single();if(oe)throw oe;r(ie=>ie.map(Ce=>Ce.id===m.id?L:Ce))}else{const{data:L,error:oe}=await te.from("orcamentos").insert(G).select().single();if(oe)throw oe;r(ie=>[L,...ie])}q(),alert(m?"✅ Orçamento atualizado!":"✅ Orçamento criado!")}catch(I){console.error("Erro ao salvar orçamento:",I),alert("❌ Erro ao salvar orçamento. Tente novamente.")}},q=()=>{_({cliente_id:"",cliente_nome_avulso:"",descricao:"",observacoes:"",data_validade:"",incluir_qr_code:!0}),C([]),g(null),h(!1)},E=D=>{_({cliente_id:D.cliente_id||"",cliente_nome_avulso:D.cliente_nome_avulso||"",descricao:D.descricao||"",observacoes:D.observacoes||"",data_validade:D.data_validade.split("T")[0],incluir_qr_code:D.incluir_qr_code!==!1}),C(D.itens),g(D),h(!0)},k=async D=>{if(window.confirm("Tem certeza que deseja excluir este orçamento?"))try{const{error:I}=await te.from("orcamentos").delete().eq("id",D).eq("user_id",e==null?void 0:e.id);if(I)throw I;r(W=>W.filter(G=>G.id!==D)),alert("✅ Orçamento excluído com sucesso!")}catch(I){console.error("Erro ao excluir orçamento:",I),alert("❌ Erro ao excluir orçamento. Tente novamente.")}},R=async(D,I)=>{try{const{error:W}=await te.from("orcamentos").update({status:I}).eq("id",D).eq("user_id",e==null?void 0:e.id);if(W)throw W;r(G=>G.map(L=>L.id===D?{...L,status:I}:L))}catch(W){console.error("Erro ao alterar status:",W),alert("❌ Erro ao alterar status. Tente novamente.")}},B=()=>{const D={id:Date.now().toString(),orcamento_id:"",receita_id:"",quantidade:1,valor_unitario:0,valor_total:0};C([...S,D])},V=D=>{C(S.filter((I,W)=>W!==D))},X=(D,I,W)=>{const G=[...S];if(G[D]={...G[D],[I]:W},(I==="quantidade"||I==="valor_unitario")&&(G[D].valor_total=G[D].quantidade*G[D].valor_unitario),I==="receita_id"){const L=i.find(oe=>oe.id===W);L&&L.preco_sugerido&&(G[D].valor_unitario=L.preco_sugerido,G[D].valor_total=G[D].quantidade*L.preco_sugerido)}C(G)},Q=D=>n.find(I=>I.id===D),Be=D=>i.find(I=>I.id===D),Pe=async D=>{try{const I=Q(D.cliente_id),W=(I==null?void 0:I.nome)||D.cliente_nome_avulso||"Cliente não informado";let G=`🧁 *ORÇAMENTO DOCECALC*

`;G+=`📄 *Número:* ${D.numero_orcamento}
`,G+=`👤 *Cliente:* ${W}
`,G+=`📅 *Válido até:* ${new Date(D.data_validade).toLocaleDateString("pt-BR")}

`,D.descricao&&(G+=`📝 *Descrição:* ${D.descricao}

`),G+=`📋 *ITENS:*
`,D.itens.forEach((oe,ie)=>{const Ce=Be(oe.receita_id);G+=`${ie+1}. ${Ce==null?void 0:Ce.nome} (${oe.quantidade}x) - R$ ${oe.valor_total.toFixed(2)}
`}),G+=`
💰 *VALOR TOTAL: R$ ${D.valor_total.toFixed(2)}*

`,D.observacoes&&(G+=`📝 *Observações:* ${D.observacoes}

`),G+="✨ _Orçamento gerado pelo DoceCalc_";const L=`https://wa.me/?text=${encodeURIComponent(G)}`;return D.incluir_qr_code?await xo.toDataURL(L,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}):L}catch(I){return console.error("Erro ao gerar QR Code:",I),null}},Se=async D=>{const I=await Pe(D);I&&typeof I=="string"&&window.open(I,"_blank")},St=async D=>{try{const I=await Pe(D);I&&typeof I=="string"&&I.startsWith("data:")?(j(I),w(D),y(!0)):Se(D)}catch(I){console.error("Erro ao gerar QR Code:",I),Se(D)}},Ze={total:t.length,rascunho:t.filter(D=>D.status==="rascunho").length,enviado:t.filter(D=>D.status==="enviado").length,aprovado:t.filter(D=>D.status==="aprovado").length,valorTotal:t.reduce((D,I)=>D+I.valor_total,0)};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Orçamentos"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Crie e gerencie orçamentos para seus clientes"})]})]}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center justify-center space-x-2 bg-primary text-primary-foreground px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors",children:[s.jsx(gr,{className:"h-5 w-5"}),s.jsx("span",{children:"Novo Orçamento"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ze.total})]}),s.jsx(ht,{className:"h-8 w-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rascunhos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ze.rascunho})]}),s.jsx(Bn,{className:"h-8 w-8 text-gray-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Enviados"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ze.enviado})]}),s.jsx(Ti,{className:"h-8 w-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aprovados"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ze.aprovado})]}),s.jsx(Ps,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",Ze.valorTotal.toFixed(2)]})]}),s.jsx(sn,{className:"h-8 w-8 text-green-500"})]})})]}),s.jsx("div",{className:"bg-card p-4 lg:p-6 rounded-lg shadow-md mb-6 lg:mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Buscar orçamentos...",value:l,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("select",{value:u,onChange:D=>d(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"todos",children:"Todos os status"}),s.jsx("option",{value:"rascunho",children:"Rascunho"}),s.jsx("option",{value:"enviado",children:"Enviado"}),s.jsx("option",{value:"aprovado",children:"Aprovado"}),s.jsx("option",{value:"rejeitado",children:"Rejeitado"}),s.jsx("option",{value:"expirado",children:"Expirado"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(ht,{className:"h-5 w-5"}),s.jsxs("span",{children:[O.length," orçamentos encontrados"]})]})]})}),O.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(ht,{className:"h-16 w-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:t.length===0?"Nenhum orçamento criado":"Nenhum orçamento encontrado"}),s.jsx("p",{className:"text-gray-500 mb-6",children:t.length===0?"Comece criando seu primeiro orçamento!":"Tente ajustar os filtros para encontrar o que procura."}),t.length===0&&s.jsx("button",{onClick:()=>h(!0),className:"bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors",children:"Criar primeiro orçamento"})]}):s.jsx("div",{className:"space-y-4",children:O.map(D=>{const I=Q(D.cliente_id),W=new Date(D.data_validade)<new Date;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(ht,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.numero_orcamento}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tr,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:(I==null?void 0:I.nome)||D.cliente_nome_avulso||"Cliente não informado"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${P(W&&D.status==="enviado"?"expirado":D.status)}`,children:[A(W&&D.status==="enviado"?"expirado":D.status),s.jsx("span",{className:"ml-1",children:W&&D.status==="enviado"?"Expirado":D.status})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>St(D),className:"text-green-600 hover:text-green-800 p-1",title:"Compartilhar no WhatsApp",children:s.jsx(xn,{className:"h-4 w-4"})}),D.status==="rascunho"&&s.jsx("button",{onClick:()=>R(D.id,"enviado"),className:"text-blue-600 hover:text-blue-800 p-1",title:"Enviar orçamento",children:s.jsx(Ti,{className:"h-4 w-4"})}),D.status==="enviado"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>R(D.id,"aprovado"),className:"text-green-600 hover:text-green-800 p-1",title:"Aprovar orçamento",children:s.jsx(Ps,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R(D.id,"rejeitado"),className:"text-red-600 hover:text-red-800 p-1",title:"Rejeitar orçamento",children:s.jsx(Lt,{className:"h-4 w-4"})})]}),s.jsx("button",{onClick:()=>E(D),className:"text-gray-400 hover:text-blue-500 transition-colors p-1",children:s.jsx(Bn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>k(D.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:s.jsx(nn,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Data de Criação"}),s.jsx("p",{className:"font-medium",children:new Date(D.data_criacao).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Válido até"}),s.jsx("p",{className:`font-medium ${W?"text-red-600":""}`,children:new Date(D.data_validade).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",D.valor_total.toFixed(2)]})]})]}),D.descricao&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Descrição"}),s.jsx("p",{className:"text-gray-900",children:D.descricao})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Itens (",D.itens.length,")"]}),s.jsxs("div",{className:"space-y-2",children:[D.itens.slice(0,3).map(G=>{const L=Be(G.receita_id);return s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{children:[L==null?void 0:L.nome," x",G.quantidade]}),s.jsxs("span",{className:"font-medium",children:["R$ ",G.valor_total.toFixed(2)]})]},G.id)}),D.itens.length>3&&s.jsxs("p",{className:"text-sm text-gray-500",children:["+",D.itens.length-3," itens adicionais"]})]})]})]},D.id)})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-4xl w-full m-4 max-h-screen overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:m?"Editar Orçamento":"Novo Orçamento"}),s.jsxs("form",{onSubmit:z,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente"}),s.jsxs("select",{value:N.cliente_id,onChange:D=>_({...N,cliente_id:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Orçamento Avulso (sem cliente)"}),n.map(D=>s.jsx("option",{value:D.id,children:D.nome},D.id))]})]}),!N.cliente_id&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Cliente (Opcional)"}),s.jsx("input",{type:"text",value:N.cliente_nome_avulso,onChange:D=>_({...N,cliente_nome_avulso:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: Maria Silva"})]}),s.jsxs("div",{className:N.cliente_id?"":"md:col-start-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Válido até *"}),s.jsx("input",{type:"date",value:N.data_validade,onChange:D=>_({...N,data_validade:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),s.jsx("input",{type:"text",value:N.descricao,onChange:D=>_({...N,descricao:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: Festa de aniversário - 50 pessoas"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Itens do Orçamento *"}),s.jsxs("button",{type:"button",onClick:B,className:"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:[s.jsx(gr,{className:"h-4 w-4"}),s.jsx("span",{children:"Adicionar Item"})]})]}),s.jsx("div",{className:"space-y-4",children:S.map((D,I)=>s.jsx("div",{className:"border border-gray-200 p-4 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receita"}),s.jsxs("select",{value:D.receita_id,onChange:W=>X(I,"receita_id",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma receita"}),i.map(W=>s.jsx("option",{value:W.id,children:W.nome},W.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade"}),s.jsx("input",{type:"number",min:"1",value:D.quantidade,onChange:W=>X(I,"quantidade",parseInt(W.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Unitário (R$)"}),s.jsx("input",{type:"number",step:"0.01",value:D.valor_unitario,onChange:W=>X(I,"valor_unitario",parseFloat(W.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total"}),s.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg",children:["R$ ",D.valor_total.toFixed(2)]})]}),s.jsx("button",{type:"button",onClick:()=>V(I),className:"text-red-500 hover:text-red-700 p-2",children:s.jsx(nn,{className:"h-4 w-4"})})]})]})},I))}),S.length>0&&s.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total do Orçamento:"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",F(S).toFixed(2)]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),s.jsx("textarea",{value:N.observacoes,onChange:D=>_({...N,observacoes:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Informações adicionais, condições de pagamento, etc."})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(rn,{className:"h-6 w-6 text-green-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:N.incluir_qr_code,onChange:D=>_({...N,incluir_qr_code:D.target.checked}),className:"mr-3 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Incluir QR Code para WhatsApp"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Facilita o compartilhamento do orçamento via WhatsApp"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[s.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:S.length===0,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Salvar Alterações":"Criar Orçamento"})]})]})]})}),x&&b&&v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md w-full m-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compartilhar no WhatsApp"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Escaneie o QR Code com seu celular para compartilhar o orçamento"," ",s.jsx("strong",{children:v.numero_orcamento})," no WhatsApp"]}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("img",{src:b,alt:"QR Code WhatsApp",className:"border border-gray-200 rounded-lg"})}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsxs("button",{onClick:()=>Se(v),className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[s.jsx(xn,{className:"h-4 w-4"}),s.jsx("span",{children:"Abrir WhatsApp"})]}),s.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Fechar"})]})]})})})]})})}var Fw;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Fw||(Fw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bw;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Bw||(Bw={}));var zw;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(zw||(zw={}));var Uw;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Uw||(Uw={}));var qw;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(qw||(qw={}));var Ww;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Ww||(Ww={}));var Vw;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Vw||(Vw={}));var xl;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(xl||(xl={}));var Kw;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Kw||(Kw={}));var Gw;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Gw||(Gw={}));var Hw;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Hw||(Hw={}));var Yw;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Yw||(Yw={}));xl.RECITATION,xl.SAFETY,xl.LANGUAGE;const fC=()=>{throw new Error("Chave da API Gemini não configurada. Verifique as configurações.")};function PR(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result.split(",")[1];t(i)},n.onerror=r,n.readAsDataURL(e)})}function hC(e){let t=e.trim();t.startsWith("```json")&&(t=t.replace(/^```json\s*/,"")),t.startsWith("```")&&(t=t.replace(/^```\s*/,"")),t.endsWith("```")&&(t=t.replace(/\s*```$/,""));const r=t.indexOf("{"),n=t.lastIndexOf("}");return r!==-1&&n!==-1&&r<=n&&(t=t.substring(r,n+1)),t.trim()}async function AR(e){try{const r=fC().getGenerativeModel({model:"gemini-1.5-flash"}),n=await PR(e),a=`
    Você é especialista em análise de documentos fiscais brasileiros.
    Analise esta imagem de nota fiscal, extrato bancário ou comprovante e extraia TODOS os dados relevantes.
    
    Identifique o tipo de documento e extraia:
    - Tipo do documento (nota_fiscal, extrato, comprovante, outro)
    - Valor total principal
    - Data do documento ou transação
    - Nome da empresa/estabelecimento
    - CNPJ (se disponível)
    - Número do documento
    - Lista de itens/produtos com valores (se aplicável)
    - Observações importantes
    
    Retorne JSON exatamente neste formato:
    {
      "tipo": "nota_fiscal" | "extrato" | "comprovante" | "outro",
      "valor_total": número decimal,
      "data": "YYYY-MM-DD" ou "YYYY-MM-DD HH:mm" se houver hora,
      "empresa_emitente": "nome da empresa",
      "cnpj_emitente": "XX.XXX.XXX/XXXX-XX" ou null,
      "numero_documento": "número" ou null,
      "itens": [
        {
          "descricao": "nome do produto/serviço",
          "quantidade": número ou null,
          "valor_unitario": número ou null,
          "valor_total": número
        }
      ],
      "observacoes": "informações extras" ou null
    }
    
    REGRAS:
    - Se não conseguir identificar um campo, use null
    - Para valores, sempre use números decimais (ex: 123.45)
    - Para datas, tente converter para formato YYYY-MM-DD
    - Se for extrato, cada transação é um item
    - Se não houver itens detalhados, deixe array vazio []
    `,i={inlineData:{data:n,mimeType:e.type}},c=(await(await r.generateContent([a,i])).response).text();try{const u=hC(c),d=JSON.parse(u);if(!d||typeof d.valor_total!="number")throw new Error("Estrutura inválida");return{tipo:d.tipo||"outro",valor_total:d.valor_total||0,data:d.data||new Date().toISOString().split("T")[0],empresa_emitente:d.empresa_emitente||void 0,cnpj_emitente:d.cnpj_emitente||void 0,numero_documento:d.numero_documento||void 0,itens:Array.isArray(d.itens)?d.itens:[],observacoes:d.observacoes||void 0}}catch(u){throw console.error("Erro ao fazer parse do JSON:",u),new Error("Não foi possível processar os dados do documento. Verifique se a imagem está legível.")}}catch(t){throw console.error("Erro ao processar documento fiscal:",t),new Error("Erro ao processar o documento. Tente novamente com uma imagem mais clara.")}}async function OR(e){try{const r=fC().getGenerativeModel({model:"gemini-1.5-flash"}),n=`
    Você é consultor financeiro especializado em confeitarias.
    Analise estes gastos e documentos fiscais de uma confeitaria e gere insights:
    
    Documentos: ${JSON.stringify(e,null,2)}
    
    Análise os dados e retorne JSON com:
    {
      "total_gastos": soma total de todos os gastos,
      "gastos_por_categoria": {
        "ingredientes": valor total,
        "equipamentos": valor total,
        "embalagens": valor total,
        "marketing": valor total,
        "outros": valor total
      },
      "tendencias": [
        "Observação sobre padrões temporais",
        "Observação sobre categorias"
      ],
      "recomendacoes": [
        "Sugestão de economia",
        "Oportunidade de melhoria"
      ]
    }
    
    Base as categorias nos itens encontrados e forneça insights úteis para o negócio.
    `,o=(await(await r.generateContent(n)).response).text();try{const l=hC(o);return JSON.parse(l)}catch{const l=e.reduce((c,u)=>c+u.valor_total,0);return{total_gastos:l,gastos_por_categoria:{outros:l},tendencias:["Análise em desenvolvimento"],recomendacoes:["Colete mais dados para insights detalhados"]}}}catch(t){console.error("Erro ao analisar gastos:",t);const r=e.reduce((n,a)=>n+a.valor_total,0);return{total_gastos:r,gastos_por_categoria:{outros:r},tendencias:["Análise temporariamente indisponível"],recomendacoes:["Tente novamente em alguns minutos"]}}}function TR({onDocumentProcessed:e,onClose:t,isOpen:r,title:n="Upload de Documento Fiscal",description:a="Faça upload de notas fiscais, extratos ou comprovantes para análise automática"}){const[i,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(""),[f,h]=p.useState(""),m=p.useRef(null),g=p.useRef(null);if(!r)return null;const x=async w=>{if(!w.type.startsWith("image/")){h("Por favor, selecione apenas arquivos de imagem (JPG, PNG, etc).");return}if(w.size>10*1024*1024){h("Arquivo muito grande. O tamanho máximo é de 10MB.");return}o(!0),h("");try{d("Analisando documento...");const N=await AR(w);d("Documento processado com sucesso!"),setTimeout(()=>{e(N),v()},1e3)}catch(N){console.error("Erro ao processar documento:",N),h(N instanceof Error?N.message:"Erro ao processar o documento"),o(!1),d("")}},y=w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?c(!0):w.type==="dragleave"&&c(!1)},b=w=>{w.preventDefault(),w.stopPropagation(),c(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&x(w.dataTransfer.files[0])},j=w=>{w.target.files&&w.target.files[0]&&x(w.target.files[0])},v=()=>{i||(h(""),d(""),c(!1),t())};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n}),!i&&s.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Lt,{className:"h-6 w-6"})})]}),s.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:a}),f&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(bx,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-red-700 text-sm",children:f})]}),i?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(wx,{className:"h-12 w-12 text-purple-500 mx-auto mb-4 animate-spin"}),s.jsx("p",{className:"text-gray-600 mb-2",children:u}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full w-2/3 animate-pulse"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Processando com inteligência artificial..."})]}):s.jsxs("div",{children:[s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${l?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-400 hover:bg-gray-50"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:b,children:[s.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Arraste um documento aqui ou clique para selecionar"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Formatos aceitos: JPG, PNG, GIF, WEBP (máx. 10MB)"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("button",{onClick:()=>{var w;return(w=m.current)==null?void 0:w.click()},className:"w-full flex items-center justify-center space-x-2 bg-purple-500 text-white px-4 py-3 rounded-lg hover:bg-purple-600 transition-colors",children:[s.jsx(Lr,{className:"h-5 w-5"}),s.jsx("span",{children:"Selecionar do Computador"})]}),s.jsxs("button",{onClick:()=>{var w;return(w=g.current)==null?void 0:w.click()},className:"w-full flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(Ga,{className:"h-5 w-5"}),s.jsx("span",{children:"Tirar Foto"})]})]}),s.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:j,className:"hidden"}),s.jsx("input",{ref:g,type:"file",accept:"image/*",capture:"environment",onChange:j,className:"hidden"}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2 text-sm",children:"💡 Dicas para melhor resultado:"}),s.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[s.jsx("li",{children:"• Certifique-se de que o documento está bem iluminado"}),s.jsx("li",{children:"• Evite sombras e reflexos"}),s.jsx("li",{children:"• Mantenha o documento reto e completo na foto"}),s.jsx("li",{children:"• Use uma resolução alta para textos pequenos"})]})]})]})]})})})}function IR({userId:e,onDocumentsChange:t}){const[r,n]=p.useState([]),[a,i]=p.useState(!1),[o,l]=p.useState(null);p.useEffect(()=>{const y=se(le.DOCUMENTOS_FISCAIS,[]).filter(b=>b.usuario_id===e);n(y),t==null||t(y)},[e,t]);const c=x=>{const y={...x,id:Date.now().toString(),usuario_id:e,data_upload:new Date().toISOString()},j=[...se(le.DOCUMENTOS_FISCAIS,[]),y];Nm(le.DOCUMENTOS_FISCAIS,j);const v=j.filter(w=>w.usuario_id===e);n(v),t==null||t(v),i(!1)},u=x=>{const b=se(le.DOCUMENTOS_FISCAIS,[]).filter(v=>v.id!==x);Nm(le.DOCUMENTOS_FISCAIS,b);const j=b.filter(v=>v.usuario_id===e);n(j),t==null||t(j)},d=x=>{l(x)},f=x=>{const b=se(le.DOCUMENTOS_FISCAIS,[]).map(v=>v.id===x.id?x:v);Nm(le.DOCUMENTOS_FISCAIS,b);const j=b.filter(v=>v.usuario_id===e);n(j),t==null||t(j),l(null)},h=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),m=x=>new Date(x).toLocaleDateString("pt-BR"),g=x=>({nota_fiscal:"Nota Fiscal",extrato:"Extrato Bancário",comprovante:"Comprovante",outro:"Outro"})[x]||"Documento";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos Fiscais"}),s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:[s.jsx(gr,{className:"h-4 w-4"}),s.jsx("span",{children:"Adicionar Documento"})]})]}),r.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Nenhum documento fiscal cadastrado"}),s.jsx("button",{onClick:()=>i(!0),className:"bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:"Adicionar Primeiro Documento"})]}):s.jsx("div",{className:"grid gap-4",children:r.map(x=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.tipo==="nota_fiscal"?"bg-blue-100 text-blue-800":x.tipo==="extrato"?"bg-green-100 text-green-800":x.tipo==="comprovante"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:g(x.tipo)}),x.numero_documento&&s.jsxs("span",{className:"text-sm text-gray-600",children:["#",x.numero_documento]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sn,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"font-semibold text-green-600",children:h(x.valor_total)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(If,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:m(x.data)})]}),x.empresa_emitente&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dM,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600 truncate",children:x.empresa_emitente})]})]}),x.itens&&x.itens.length>0&&s.jsxs("div",{className:"text-sm text-gray-600",children:[x.itens.length," ",x.itens.length===1?"item":"itens"," registrados"]}),x.observacoes&&s.jsx("div",{className:"mt-2 text-sm text-gray-600 bg-gray-50 p-2 rounded",children:x.observacoes})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>d(x),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Editar",children:s.jsx(Bn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>u(x.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Excluir",children:s.jsx(nn,{className:"h-4 w-4"})})]})]})},x.id))}),s.jsx(TR,{isOpen:a,onClose:()=>i(!1),onDocumentProcessed:c}),o&&s.jsx(MR,{document:o,onSave:f,onClose:()=>l(null)})]})}function MR({document:e,onSave:t,onClose:r}){const[n,a]=p.useState({valor_total:e.valor_total,data:e.data,empresa_emitente:e.empresa_emitente||"",numero_documento:e.numero_documento||"",observacoes:e.observacoes||""}),i=o=>{o.preventDefault(),t({...e,...n,empresa_emitente:n.empresa_emitente||void 0,numero_documento:n.numero_documento||void 0,observacoes:n.observacoes||void 0})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Editar Documento"}),s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Total"}),s.jsx("input",{type:"number",step:"0.01",value:n.valor_total,onChange:o=>a(l=>({...l,valor_total:parseFloat(o.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),s.jsx("input",{type:"date",value:n.data,onChange:o=>a(l=>({...l,data:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa"}),s.jsx("input",{type:"text",value:n.empresa_emitente,onChange:o=>a(l=>({...l,empresa_emitente:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número do Documento"}),s.jsx("input",{type:"text",value:n.numero_documento,onChange:o=>a(l=>({...l,numero_documento:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),s.jsx("textarea",{value:n.observacoes,onChange:o=>a(l=>({...l,observacoes:o.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"submit",className:"flex-1 bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-colors",children:"Salvar"}),s.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"})]})]})]})})})}function mC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=mC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function me(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=mC(e))&&(n&&(n+=" "),n+=t);return n}var Lf={},pC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(pC);var Ex={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ex);var Px={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Px);var Ff={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const u=r[i];l?u==="\\"&&i+1<a?(i++,o+=r[i]):u===l?l="":o+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(o),o=""):o+=u:u==="["?(c=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,i++}return o&&n.push(o),n}e.toPath=t})(Ff);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pC,r=Ex,n=Px,a=Ff;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Lf);var RR=Lf.get;const Bs=na(RR);var gC={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax=Symbol.for("react.transitional.element"),Ox=Symbol.for("react.portal"),Bf=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),qf=Symbol.for("react.consumer"),Wf=Symbol.for("react.context"),Vf=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Hf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),DR=Symbol.for("react.view_transition"),$R=Symbol.for("react.client.reference");function zr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ax:switch(e=e.type,e){case Bf:case Uf:case zf:case Kf:case Gf:case DR:return e;default:switch(e=e&&e.$$typeof,e){case Wf:case Vf:case Yf:case Hf:return e;case qf:return e;default:return t}}case Ox:return t}}}Ee.ContextConsumer=qf;Ee.ContextProvider=Wf;Ee.Element=Ax;Ee.ForwardRef=Vf;Ee.Fragment=Bf;Ee.Lazy=Yf;Ee.Memo=Hf;Ee.Portal=Ox;Ee.Profiler=Uf;Ee.StrictMode=zf;Ee.Suspense=Kf;Ee.SuspenseList=Gf;Ee.isContextConsumer=function(e){return zr(e)===qf};Ee.isContextProvider=function(e){return zr(e)===Wf};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ax};Ee.isForwardRef=function(e){return zr(e)===Vf};Ee.isFragment=function(e){return zr(e)===Bf};Ee.isLazy=function(e){return zr(e)===Yf};Ee.isMemo=function(e){return zr(e)===Hf};Ee.isPortal=function(e){return zr(e)===Ox};Ee.isProfiler=function(e){return zr(e)===Uf};Ee.isStrictMode=function(e){return zr(e)===zf};Ee.isSuspense=function(e){return zr(e)===Kf};Ee.isSuspenseList=function(e){return zr(e)===Gf};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bf||e===Uf||e===zf||e===Kf||e===Gf||typeof e=="object"&&e!==null&&(e.$$typeof===Yf||e.$$typeof===Hf||e.$$typeof===Wf||e.$$typeof===qf||e.$$typeof===Vf||e.$$typeof===$R||e.getModuleId!==void 0)};Ee.typeOf=zr;gC.exports=Ee;var LR=gC.exports,wt=e=>e===0?0:e>0?1:-1,sr=e=>typeof e=="number"&&e!=+e,js=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ae=e=>(typeof e=="number"||e instanceof Number)&&!sr(e),bn=e=>ae(e)||typeof e=="string",FR=0,ql=e=>{var t=++FR;return"".concat(e||"").concat(t)},Ft=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(t)&&typeof t!="string")return n;var i;if(js(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return sr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},xC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ne(e,t,r){return ae(e)&&ae(t)?e+r*(t-e):t}function vC(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Bs(n,t))===r)}var Le=e=>e===null||typeof e>"u",uc=e=>Le(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),BR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tx(e){if(typeof e!="string")return!1;var t=BR;return t.includes(e)}var zR=["viewBox","children"],Xw=["points","pathLength"],Pm={svg:zR,polygon:Xw,polyline:Xw},Ix=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Tx(a)&&(n[a]=i=>r[a](r,i))}),n},UR=(e,t,r)=>n=>(e(t,r,n),null),dc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Tx(a)&&typeof i=="function"&&(n||(n={}),n[a]=UR(i,t,r))}),n},qR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function yC(e){if(typeof e!="string")return!1;var t=qR;return t.includes(e)}function Ur(e){var t=Object.entries(e).filter(r=>{var[n]=r;return yC(n)});return Object.fromEntries(t)}var Qw=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Jw=null,Am=null,bC=e=>{if(e===Jw&&Array.isArray(Am))return Am;var t=[];return p.Children.forEach(e,r=>{Le(r)||(LR.isFragment(r)?t=t.concat(bC(r.props.children)):t.push(r))}),Am=t,Jw=e,t};function Mx(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Qw(a)):n=[Qw(t)],bC(e).forEach(a=>{var i=Bs(a,"type.displayName")||Bs(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var Xf=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,WR=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(Pm==null?void 0:Pm[n]))!==null&&a!==void 0?a:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||yC(t)),c=!!r&&Tx(t);return o||l||c},Fe=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var o;WR((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},VR=["children","width","height","viewBox","className","style","title","desc"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function KR(e,t){if(e==null)return{};var r,n,a=GR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rx=p.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=KR(e,VR),f=i||{width:n,height:a,x:0,y:0},h=me("recharts-surface",o);return p.createElement("svg",bg({},Fe(d,!0,"svg"),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),HR=["children","className"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function YR(e,t){if(e==null)return{};var r,n,a=XR(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Je=p.forwardRef((e,t)=>{var{children:r,className:n}=e,a=YR(e,HR),i=me("recharts-layer",n);return p.createElement("g",wg({className:i},Fe(a,!0),{ref:t}),r)}),wC=p.createContext(null),QR=()=>p.useContext(wC);function Oe(e){return function(){return e}}const jC=Math.cos,bd=Math.sin,ln=Math.sqrt,wd=Math.PI,Qf=2*wd,jg=Math.PI,Ng=2*jg,ps=1e-6,JR=Ng-ps;function NC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ZR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NC;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class eD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?NC:ZR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ps)if(!(Math.abs(f*c-u*d)>ps)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,x=c*c+u*u,y=m*m+g*g,b=Math.sqrt(x),j=Math.sqrt(h),v=i*Math.tan((jg-Math.acos((x+h-y)/(2*b*j)))/2),w=v/j,N=v/b;Math.abs(w-1)>ps&&this._append`L${t+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ps||Math.abs(this._y1-d)>ps)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ng+Ng),h>JR?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ps&&this._append`A${n},${n},0,${+(h>=jg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Dx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new eD(t)}function $x(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _C(e){this._context=e}_C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jf(e){return new _C(e)}function SC(e){return e[0]}function CC(e){return e[1]}function kC(e,t){var r=Oe(!0),n=null,a=Jf,i=null,o=Dx(l);e=typeof e=="function"?e:e===void 0?SC:Oe(e),t=typeof t=="function"?t:t===void 0?CC:Oe(t);function l(c){var u,d=(c=$x(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Oe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Oe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Oe(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function ru(e,t,r){var n=null,a=Oe(!0),i=null,o=Jf,l=null,c=Dx(u);e=typeof e=="function"?e:e===void 0?SC:Oe(+e),t=typeof t=="function"?t:Oe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?CC:Oe(+r);function u(f){var h,m,g,x=(f=$x(f)).length,y,b=!1,j,v=new Array(x),w=new Array(x);for(i==null&&(l=o(j=c())),h=0;h<=x;++h){if(!(h<x&&a(y=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(v[g],w[g]);l.lineEnd(),l.areaEnd()}b&&(v[h]=+e(y,h,f),w[h]=+t(y,h,f),l.point(n?+n(y,h,f):v[h],r?+r(y,h,f):w[h]))}if(j)return l=null,j+""||null}function d(){return kC().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Oe(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Oe(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Oe(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Oe(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Oe(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Oe(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Oe(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class EC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function tD(e){return new EC(e,!0)}function rD(e){return new EC(e,!1)}const Lx={draw(e,t){const r=ln(t/wd);e.moveTo(r,0),e.arc(0,0,r,0,Qf)}},nD={draw(e,t){const r=ln(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},PC=ln(1/3),aD=PC*2,sD={draw(e,t){const r=ln(t/aD),n=r*PC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},iD={draw(e,t){const r=ln(t),n=-r/2;e.rect(n,n,r,r)}},oD=.8908130915292852,AC=bd(wd/10)/bd(7*wd/10),lD=bd(Qf/10)*AC,cD=-jC(Qf/10)*AC,uD={draw(e,t){const r=ln(t*oD),n=lD*r,a=cD*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Qf*i/5,l=jC(o),c=bd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Om=ln(3),dD={draw(e,t){const r=-ln(t/(Om*3));e.moveTo(0,r*2),e.lineTo(-Om*r,-r),e.lineTo(Om*r,-r),e.closePath()}},Nr=-.5,_r=ln(3)/2,_g=1/ln(12),fD=(_g/2+1)*3,hD={draw(e,t){const r=ln(t/fD),n=r/2,a=r*_g,i=n,o=r*_g+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Nr*n-_r*a,_r*n+Nr*a),e.lineTo(Nr*i-_r*o,_r*i+Nr*o),e.lineTo(Nr*l-_r*c,_r*l+Nr*c),e.lineTo(Nr*n+_r*a,Nr*a-_r*n),e.lineTo(Nr*i+_r*o,Nr*o-_r*i),e.lineTo(Nr*l+_r*c,Nr*c-_r*l),e.closePath()}};function mD(e,t){let r=null,n=Dx(a);e=typeof e=="function"?e:Oe(e||Lx),t=typeof t=="function"?t:Oe(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Oe(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Oe(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function jd(){}function Nd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function OC(e){this._context=e}OC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pD(e){return new OC(e)}function TC(e){this._context=e}TC.prototype={areaStart:jd,areaEnd:jd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gD(e){return new TC(e)}function IC(e){this._context=e}IC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xD(e){return new IC(e)}function MC(e){this._context=e}MC.prototype={areaStart:jd,areaEnd:jd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vD(e){return new MC(e)}function Zw(e){return e<0?-1:1}function ej(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(Zw(i)+Zw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function tj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Tm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function _d(e){this._context=e}_d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tm(this,this._t0,tj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tm(this,tj(this,r=ej(this,e,t)),r);break;default:Tm(this,this._t0,r=ej(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function RC(e){this._context=new DC(e)}(RC.prototype=Object.create(_d.prototype)).point=function(e,t){_d.prototype.point.call(this,t,e)};function DC(e){this._context=e}DC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function yD(e){return new _d(e)}function bD(e){return new RC(e)}function $C(e){this._context=e}$C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=rj(e),a=rj(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function wD(e){return new $C(e)}function Zf(e,t){this._context=e,this._t=t}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jD(e){return new Zf(e,.5)}function ND(e){return new Zf(e,0)}function _D(e){return new Zf(e,1)}function Ji(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Sg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function SD(e,t){return e[t]}function CD(e){const t=[];return t.key=e,t}function kD(){var e=Oe([]),t=Sg,r=Ji,n=SD;function a(i){var o=Array.from(e.apply(this,arguments),CD),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=$x(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Oe(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Oe(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Sg:typeof i=="function"?i:Oe(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ji,a):r},a}function ED(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Ji(e,t)}}function PD(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ji(e,t)}}function AD(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var x=e[t[g]],y=x[n][1]||0,b=x[n-1][1]||0;m+=y-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ji(e,t)}}var OD=["type","size","sizeType"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(null,arguments)}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){TD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TD(e,t,r){return(t=ID(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ID(e){var t=MD(e,"string");return typeof t=="symbol"?t:t+""}function MD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RD(e,t){if(e==null)return{};var r,n,a=DD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LC={symbolCircle:Lx,symbolCross:nD,symbolDiamond:sD,symbolSquare:iD,symbolStar:uD,symbolTriangle:dD,symbolWye:hD},$D=Math.PI/180,LD=e=>{var t="symbol".concat(uc(e));return LC[t]||Lx},FD=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*$D;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BD=(e,t)=>{LC["symbol".concat(uc(e))]=t},Fx=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=RD(e,OD),i=aj(aj({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=LD(o),m=mD().type(h).size(FD(r,n,o));return m()},{className:c,cx:u,cy:d}=i,f=Fe(i,!0);return u===+u&&d===+d&&r===+r?p.createElement("path",Cg({},f,{className:me("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};Fx.registerSymbol=BD;function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(null,arguments)}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){Bx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bx(e,t,r){return(t=UD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UD(e){var t=qD(e,"string");return typeof t=="symbol"?t:t+""}function qD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sr=32;class zx extends p.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Sr/2,i=Sr/6,o=Sr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Sr,y2:a,className:"recharts-legend-icon"});if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Sr,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Sr/8,"h").concat(Sr,"v").concat(Sr*3/4,"h").concat(-Sr,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var u=zD({},t);return delete u.legendIcon,p.cloneElement(t.legendIcon,u)}return p.createElement(Fx,{fill:l,cx:a,cy:a,size:Sr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:Sr,height:Sr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=me({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?i:d.color,x=h?h(d.value,d,f):d.value;return p.createElement("li",kg({className:m,style:c,key:"legend-item-".concat(f)},dc(this.props,d,f)),p.createElement(Rx,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,o)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Bx(zx,"displayName","Legend");Bx(zx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var FC={},BC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(BC);var Ux={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ux);var zC={},eh={},UC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(UC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UC;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(eh);var qC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(qC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eh,r=qC;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(zC);var WC={},VC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(VC);var KC={},Im={},Mm={},qx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(qx);var Wx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Wx);var Vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Vx);var ij;function WD(){return ij||(ij=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx(),r=qx,n=Wx,a=Vx;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):o(f,h,function g(x,y,b,j,v,w){const N=m(x,y,b,j,v,w);return N!==void 0?!!N:o(x,y,g,w)},new Map)}function o(f,h,m,g){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,g);case"function":return Object.keys(h).length>0?o(f,{...h},m,g):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function l(f,h,m,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,g);if(h instanceof Map)return c(f,h,m,g);if(h instanceof Set)return d(f,h,m,g);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let y=0;y<x.length;y++){const b=x[y];if(!n.isPrimitive(f)&&!(b in f)||h[b]===void 0&&f[b]!==void 0||h[b]===null&&f[b]!==null||!m(f[b],h[b],b,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(f,h,m,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,y]of h.entries()){const b=f.get(x);if(m(b,y,x,f,h,g)===!1)return!1}return!0}function u(f,h,m,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let y=0;y<h.length;y++){const b=h[y];let j=!1;for(let v=0;v<f.length;v++){if(x.has(v))continue;const w=f[v];let N=!1;if(m(w,b,y,f,h,g)&&(N=!0),N){x.add(v),j=!0;break}}if(!j)return!1}return!0}function d(f,h,m,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,g):!1}e.isMatchWith=i,e.isSetMatch=d}(Mm)),Mm}var oj;function Kx(){return oj||(oj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WD();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Im)),Im}var GC={},Gx={},HC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(HC);var Hx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Hx);var Yx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",x="[object DataView]",y="[object Uint8Array]",b="[object Uint8ClampedArray]",j="[object Uint16Array]",v="[object Uint32Array]",w="[object BigUint64Array]",N="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",C="[object BigInt64Array]",T="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=w,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=T,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=S,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=j,e.uint32ArrayTag=v,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=b})(Yx);var YC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(YC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HC,r=Hx,n=Yx,a=Wx,i=YC;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const x=g==null?void 0:g(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let b=0;b<d.length;b++)y[b]=l(d[b],b,h,m,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[b,j]of d)y.set(b,l(j,b,h,m,g));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const b of d)y.add(l(b,void 0,h,m,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let b=0;b<d.length;b++)y[b]=l(d[b],b,h,m,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),c(y,d,h,m,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),c(y,d,h,m,g),y}if(d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),c(y,d,h,m,g),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,h,m,g),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),c(y,d,h,m,g),y}return d}function c(d,f,h=d,m,g){const x=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<x.length;y++){const b=x[y],j=Object.getOwnPropertyDescriptor(d,b);(j==null||j.writable)&&(d[b]=l(f[b],b,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Gx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gx;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(GC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx(),r=GC;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(KC);var XC={},QC={},JC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gx,r=Yx;function n(a,i){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=i==null?void 0:i(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(JC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JC;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(QC);var ZC={},Xx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Xx);var ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ex,r=Xx,n=ek,a=Ff;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(ZC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kx(),r=Px,n=QC,a=Lf,i=ZC;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(XC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux,r=VC,n=KC,a=XC;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(WC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BC,r=Ux,n=zC,a=WC;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(FC);var VD=FC.uniqBy;const lj=na(VD);function tk(e,t,r){return t===!0?lj(e,r):typeof t=="function"?lj(e,t):e}var rk={exports:{}},nk={},ak={exports:{}},sk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=p;function KD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GD=typeof Object.is=="function"?Object.is:KD,HD=Zi.useState,YD=Zi.useEffect,XD=Zi.useLayoutEffect,QD=Zi.useDebugValue;function JD(e,t){var r=t(),n=HD({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return XD(function(){a.value=r,a.getSnapshot=t,Rm(a)&&i({inst:a})},[e,r,t]),YD(function(){return Rm(a)&&i({inst:a}),e(function(){Rm(a)&&i({inst:a})})},[e]),QD(r),r}function Rm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!GD(e,r)}catch{return!0}}function ZD(e,t){return t()}var e$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZD:JD;sk.useSyncExternalStore=Zi.useSyncExternalStore!==void 0?Zi.useSyncExternalStore:e$;ak.exports=sk;var t$=ak.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=p,r$=t$;function n$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var a$=typeof Object.is=="function"?Object.is:n$,s$=r$.useSyncExternalStore,i$=th.useRef,o$=th.useEffect,l$=th.useMemo,c$=th.useDebugValue;nk.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=i$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=l$(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,a$(d,m))return g;var x=n(m);return a!==void 0&&a(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=s$(e,i[0],i[1]);return o$(function(){o.hasValue=!0,o.value=l},[l]),c$(l),l};rk.exports=nk;var u$=rk.exports,Qx=p.createContext(null),d$=e=>e,Xe=()=>{var e=p.useContext(Qx);return e?e.store.dispatch:d$},Ru=()=>{},f$=()=>Ru,h$=(e,t)=>e===t;function ne(e){var t=p.useContext(Qx);return u$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:f$,t?t.store.getState:Ru,t?t.store.getState:Ru,t?e:Ru,h$)}function m$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function p$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function g$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var cj=e=>Array.isArray(e)?e:[e];function x$(e){const t=Array.isArray(e[0])?e[0]:e;return g$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function v$(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var y$=class{constructor(e){this.value=e}deref(){return this.value}},b$=typeof WeakRef<"u"?WeakRef:y$,w$=0,uj=1;function nu(){return{s:w$,v:void 0,o:null,p:null}}function ik(e,t={}){let r=nu();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const y=x.get(g);y===void 0?(l=nu(),x.set(g,l)):l=y}else{let x=l.p;x===null&&(l.p=x=new Map);const y=x.get(g);y===void 0?(l=nu(),x.set(g,l)):l=y}}const u=l;let d;if(l.s===uj)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new b$(d):d}return u.s=uj,u.v=d,d}return o.clearCache=()=>{r=nu(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function j$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),m$(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=ik,argsMemoizeOptions:g=[]}=d,x=cj(h),y=cj(g),b=x$(a),j=f(function(){return i++,u.apply(null,arguments)},...x),v=m(function(){o++;const N=v$(b,arguments);return l=j.apply(null,N),l},...y);return Object.assign(v,{resultFunc:u,memoizedResultFunc:j,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var $=j$(ik),N$=Object.assign((e,t=$)=>{p$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>N$}),ok={},lk={},ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(ck);var uk={},Jx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Jx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ck,r=uk,n=Ff;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let x=m;for(let y=0;y<g.length&&x!=null;++y)x=x[g[y]];return x},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let x=0;x<f.length;x++){const y=t.compareValues(m.criteria[x],g.criteria[x],l[x]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=a})(lk);var dk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(dk);var Zx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xx,r=eh,n=qx,a=Vx;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(Zx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lk,r=dk,n=Zx;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(ok);var _$=ok.sortBy;const rh=na(_$);var fk=e=>e.legend.settings,S$=e=>e.legend.size,C$=e=>e.legend.payload,k$=$([C$,fk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?rh(n,r):n});function E$(){return ne(k$)}var au=1;function hk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>au||Math.abs(o.left-t.left)>au||Math.abs(o.top-t.top)>au||Math.abs(o.width-t.width)>au)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ct(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var P$=typeof Symbol=="function"&&Symbol.observable||"@@observable",dj=P$,Dm=()=>Math.random().toString(36).substring(7).split("").join("."),A$={INIT:`@@redux/INIT${Dm()}`,REPLACE:`@@redux/REPLACE${Dm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dm()}`},Sd=A$;function ev(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function mk(e,t,r){if(typeof e!="function")throw new Error(Ct(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ct(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ct(1));return r(mk)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((y,b)=>{o.set(b,y)}))}function d(){if(c)throw new Error(Ct(3));return a}function f(y){if(typeof y!="function")throw new Error(Ct(4));if(c)throw new Error(Ct(5));let b=!0;u();const j=l++;return o.set(j,y),function(){if(b){if(c)throw new Error(Ct(6));b=!1,u(),o.delete(j),i=null}}}function h(y){if(!ev(y))throw new Error(Ct(7));if(typeof y.type>"u")throw new Error(Ct(8));if(typeof y.type!="string")throw new Error(Ct(17));if(c)throw new Error(Ct(9));try{c=!0,a=n(a,y)}finally{c=!1}return(i=o).forEach(j=>{j()}),y}function m(y){if(typeof y!="function")throw new Error(Ct(10));n=y,h({type:Sd.REPLACE})}function g(){const y=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Ct(11));function j(){const w=b;w.next&&w.next(d())}return j(),{unsubscribe:y(j)}},[dj](){return this}}}return h({type:Sd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[dj]:g}}function O$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Sd.INIT})>"u")throw new Error(Ct(12));if(typeof r(void 0,{type:Sd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ct(13))})}function pk(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{O$(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(Ct(14));u[f]=g,c=c||g!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Cd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function T$(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ct(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=Cd(...l)(a.dispatch),{...a,dispatch:i}}}function gk(e){return ev(e)&&"type"in e&&typeof e.type=="string"}var xk=Symbol.for("immer-nothing"),fj=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function Qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var eo=Object.getPrototypeOf;function zs(e){return!!e&&!!e[xr]}function Zn(e){var t;return e?vk(e)||Array.isArray(e)||!!e[fj]||!!((t=e.constructor)!=null&&t[fj])||fc(e)||ah(e):!1}var I$=Object.prototype.constructor.toString();function vk(e){if(!e||typeof e!="object")return!1;const t=eo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===I$}function kd(e,t){nh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function nh(e){const t=e[xr];return t?t.type_:Array.isArray(e)?1:fc(e)?2:ah(e)?3:0}function Eg(e,t){return nh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yk(e,t,r){const n=nh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function M$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function fc(e){return e instanceof Map}function ah(e){return e instanceof Set}function gs(e){return e.copy_||e.base_}function Pg(e,t){if(fc(e))return new Map(e);if(ah(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=vk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[xr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(eo(e),n)}else{const n=eo(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function tv(e,t=!1){return sh(e)||zs(e)||!Zn(e)||(nh(e)>1&&Object.defineProperties(e,{set:{value:su},add:{value:su},clear:{value:su},delete:{value:su}}),Object.freeze(e),t&&Object.values(e).forEach(r=>tv(r,!0))),e}function su(){Qr(2)}function sh(e){return Object.isFrozen(e)}var R$={};function Us(e){const t=R$[e];return t||Qr(0,e),t}var Wl;function bk(){return Wl}function D$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hj(e,t){t&&(Us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ag(e){Og(e),e.drafts_.forEach($$),e.drafts_=null}function Og(e){e===Wl&&(Wl=e.parent_)}function mj(e){return Wl=D$(Wl,e)}function $$(e){const t=e[xr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[xr].modified_&&(Ag(t),Qr(4)),Zn(e)&&(e=Ed(t,e),t.parent_||Pd(t,e)),t.patches_&&Us("Patches").generateReplacementPatches_(r[xr].base_,e,t.patches_,t.inversePatches_)):e=Ed(t,r,[]),Ag(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xk?e:void 0}function Ed(e,t,r){if(sh(t))return t;const n=t[xr];if(!n)return kd(t,(a,i)=>gj(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Pd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),kd(i,(l,c)=>gj(e,n,a,l,c,r,o)),Pd(e,a,!1),r&&e.patches_&&Us("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function gj(e,t,r,n,a,i,o){if(zs(a)){const l=i&&t&&t.type_!==3&&!Eg(t.assigned_,n)?i.concat(n):void 0,c=Ed(e,a,l);if(yk(r,n,c),zs(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Zn(a)&&!sh(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ed(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(fc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Pd(e,a)}}function Pd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tv(t,r)}function L$(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:bk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=rv;r&&(a=[n],i=Vl);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var rv={get(e,t){if(t===xr)return e;const r=gs(e);if(!Eg(r,t))return F$(e,r,t);const n=r[t];return e.finalized_||!Zn(n)?n:n===$m(e.base_,t)?(Lm(e),e.copy_[t]=Ig(n,e)):n},has(e,t){return t in gs(e)},ownKeys(e){return Reflect.ownKeys(gs(e))},set(e,t,r){const n=wk(gs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=$m(gs(e),t),i=a==null?void 0:a[xr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(M$(r,a)&&(r!==void 0||Eg(e.base_,t)))return!0;Lm(e),Tg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $m(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Lm(e),Tg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=gs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Qr(11)},getPrototypeOf(e){return eo(e.base_)},setPrototypeOf(){Qr(12)}},Vl={};kd(rv,(e,t)=>{Vl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vl.deleteProperty=function(e,t){return Vl.set.call(this,e,t,void 0)};Vl.set=function(e,t,r){return rv.set.call(this,e[0],t,r,e[0])};function $m(e,t){const r=e[xr];return(r?gs(r):e)[t]}function F$(e,t,r){var a;const n=wk(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function wk(e,t){if(!(t in e))return;let r=eo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=eo(r)}}function Tg(e){e.modified_||(e.modified_=!0,e.parent_&&Tg(e.parent_))}function Lm(e){e.copy_||(e.copy_=Pg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var B$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Qr(6),n!==void 0&&typeof n!="function"&&Qr(7);let a;if(Zn(t)){const i=mj(this),o=Ig(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Ag(i):Og(i)}return hj(i,n),pj(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===xk&&(a=void 0),this.autoFreeze_&&tv(a,!0),n){const i=[],o=[];Us("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Qr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Zn(e)||Qr(8),zs(e)&&(e=zn(e));const t=mj(this),r=Ig(e,void 0);return r[xr].isManual_=!0,Og(t),r}finishDraft(e,t){const r=e&&e[xr];(!r||!r.isManual_)&&Qr(9);const{scope_:n}=r;return hj(n,t),pj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Us("Patches").applyPatches_;return zs(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ig(e,t){const r=fc(e)?Us("MapSet").proxyMap_(e,t):ah(e)?Us("MapSet").proxySet_(e,t):L$(e,t);return(t?t.scope_:bk()).drafts_.push(r),r}function zn(e){return zs(e)||Qr(10,e),jk(e)}function jk(e){if(!Zn(e)||sh(e))return e;const t=e[xr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Pg(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Pg(e,!0);return kd(r,(n,a)=>{yk(r,n,jk(a))}),t&&(t.finalized_=!1),r}var z$=new B$,Nk=z$.produce;function _k(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var U$=_k(),q$=_k,W$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cd:Cd.apply(null,arguments)};function Fr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(mr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>gk(n)&&n.type===e,r}var Sk=class rl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,rl.prototype)}static get[Symbol.species](){return rl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new rl(...t[0].concat(this)):new rl(...t.concat(this))}};function xj(e){return Zn(e)?Nk(e,()=>{}):e}function iu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function V$(e){return typeof e=="boolean"}var K$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new Sk;return r&&(V$(r)?o.push(U$):o.push(q$(r.extraArgument))),o},G$="RTK_autoBatch",vj=e=>t=>{setTimeout(t,e)},H$=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vj(10):e.type==="callback"?e.queueNotification:vj(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[G$]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},Y$=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Sk(e);return n&&a.push(H$(typeof n=="object"?n:void 0)),a};function X$(e){const t=K$(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(ev(r))l=pk(r);else throw new Error(mr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Cd;a&&(u=W$({trace:!1,...typeof a=="object"&&a}));const d=T$(...c),f=Y$(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return mk(l,i,m)}function Ck(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(mr(28));if(l in t)throw new Error(mr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Q$(e){return typeof e=="function"}function J$(e,t){let[r,n,a]=Ck(t),i;if(Q$(e))i=()=>xj(e());else{const l=xj(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(zs(d)){const m=f(d,c);return m===void 0?d:m}else{if(Zn(d))return Nk(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var Z$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eL=(e=21)=>{let t="",r=e;for(;r--;)t+=Z$[Math.random()*64|0];return t},tL=Symbol.for("rtk-slice-createasyncthunk");function rL(e,t){return`${e}/${t}`}function nL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[tL];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(mr(11));const l=(typeof a.reducers=="function"?a.reducers(sL()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,N){const _=typeof w=="string"?w:w.type;if(!_)throw new Error(mr(12));if(_ in u.sliceCaseReducersByType)throw new Error(mr(13));return u.sliceCaseReducersByType[_]=N,d},addMatcher(w,N){return u.sliceMatchers.push({matcher:w,reducer:N}),d},exposeAction(w,N){return u.actionCreators[w]=N,d},exposeCaseReducer(w,N){return u.sliceCaseReducersByName[w]=N,d}};c.forEach(w=>{const N=l[w],_={reducerName:w,type:rL(i,w),createNotation:typeof a.reducers=="function"};oL(N)?cL(_,N,d,t):iL(_,N,d)});function f(){const[w={},N=[],_=void 0]=typeof a.extraReducers=="function"?Ck(a.extraReducers):[a.extraReducers],S={...w,...u.sliceCaseReducersByType};return J$(a.initialState,C=>{for(let T in S)C.addCase(T,S[T]);for(let T of u.sliceMatchers)C.addMatcher(T.matcher,T.reducer);for(let T of N)C.addMatcher(T.matcher,T.reducer);_&&C.addDefaultCase(_)})}const h=w=>w,m=new Map,g=new WeakMap;let x;function y(w,N){return x||(x=f()),x(w,N)}function b(){return x||(x=f()),x.getInitialState()}function j(w,N=!1){function _(C){let T=C[w];return typeof T>"u"&&N&&(T=iu(g,_,b)),T}function S(C=h){const T=iu(m,N,()=>new WeakMap);return iu(T,C,()=>{const O={};for(const[P,A]of Object.entries(a.selectors??{}))O[P]=aL(A,C,()=>iu(g,C,b),N);return O})}return{reducerPath:w,getSelectors:S,get selectors(){return S(_)},selectSlice:_}}const v={name:i,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...j(o),injectInto(w,{reducerPath:N,..._}={}){const S=N??o;return w.inject({reducerPath:S,reducer:y},_),{...v,...j(S,!0)}}};return v}}function aL(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var wr=nL();function sL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function iL({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!lL(n))throw new Error(mr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Fr(e,o):Fr(e))}function oL(e){return e._reducerDefinitionType==="asyncThunk"}function lL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function cL({type:e,reducerName:t},r,n,a){if(!a)throw new Error(mr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||ou,pending:l||ou,rejected:c||ou,settled:u||ou})}function ou(){}var uL="task",kk="listener",Ek="completed",nv="cancelled",dL=`task-${nv}`,fL=`task-${Ek}`,Mg=`${kk}-${nv}`,hL=`${kk}-${Ek}`,ih=class{constructor(e){Lh(this,"name","TaskAbortError");Lh(this,"message");this.code=e,this.message=`${uL} ${nv} (reason: ${e})`}},av=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},Ad=()=>{},Pk=(e,t=Ad)=>(e.catch(t),e),Ak=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),As=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Os=e=>{if(e.aborted){const{reason:t}=e;throw new ih(t)}};function Ok(e,t){let r=Ad;return new Promise((n,a)=>{const i=()=>a(new ih(e.reason));if(e.aborted){i();return}r=Ak(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Ad})}var mL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ih?"cancelled":"rejected",error:r}}finally{t==null||t()}},Od=e=>t=>Pk(Ok(e,t).then(r=>(Os(e),r))),Tk=e=>{const t=Od(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Mi}=Object,yj={},oh="listenerMiddleware",pL=(e,t)=>{const r=n=>Ak(e,()=>As(n,e.reason));return(n,a)=>{av(n);const i=new AbortController;r(i);const o=mL(async()=>{Os(e),Os(i.signal);const l=await n({pause:Od(i.signal),delay:Tk(i.signal),signal:i.signal});return Os(i.signal),l},()=>As(i,fL));return a!=null&&a.autoJoin&&t.push(o.catch(Ad)),{result:Od(e)(o),cancel(){As(i,dL)}}}},gL=(e,t)=>{const r=async(n,a)=>{Os(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await Ok(t,Promise.race(l));return Os(t),c}finally{i()}};return(n,a)=>Pk(r(n,a))},Ik=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Fr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(mr(21));return av(i),{predicate:a,type:t,effect:i}},Mk=Mi(e=>{const{type:t,predicate:r,effect:n}=Ik(e);return{id:eL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>Mk}),bj=(e,t)=>{const{type:r,effect:n,predicate:a}=Ik(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Rg=e=>{e.pending.forEach(t=>{As(t,Mg)})},xL=e=>()=>{e.forEach(Rg),e.clear()},wj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Rk=Mi(Fr(`${oh}/add`),{withTypes:()=>Rk}),vL=Fr(`${oh}/removeAll`),Dk=Mi(Fr(`${oh}/remove`),{withTypes:()=>Dk}),yL=(...e)=>{console.error(`${oh}/error`,...e)},hc=(e={})=>{const t=new Map,{extra:r,onError:n=yL}=e;av(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&Rg(d)}),i=d=>{const f=bj(t,d)??Mk(d);return a(f)};Mi(i,{withTypes:()=>i});const o=d=>{const f=bj(t,d);return f&&(f.unsubscribe(),d.cancelActive&&Rg(f)),!!f};Mi(o,{withTypes:()=>o});const l=async(d,f,h,m)=>{const g=new AbortController,x=gL(i,g.signal),y=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,Mi({},h,{getOriginalState:m,condition:(b,j)=>x(b,j).then(Boolean),take:x,delay:Tk(g.signal),pause:Od(g.signal),extra:r,signal:g.signal,fork:pL(g.signal,y),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,j,v)=>{b!==g&&(As(b,Mg),v.delete(b))})},cancel:()=>{As(g,Mg),d.pending.delete(g)},throwIfCancelled:()=>{Os(g.signal)}})))}catch(b){b instanceof ih||wj(n,b,{raisedBy:"effect"})}finally{await Promise.all(y),As(g,hL),d.pending.delete(g)}},c=xL(t);return{middleware:d=>f=>h=>{if(!gk(h))return f(h);if(Rk.match(h))return i(h.payload);if(vL.match(h)){c();return}if(Dk.match(h))return o(h.payload);let m=d.getState();const g=()=>{if(m===yj)throw new Error(mr(23));return m};let x;try{if(x=f(h),t.size>0){const y=d.getState(),b=Array.from(t.values());for(const j of b){let v=!1;try{v=j.predicate(h,y,m)}catch(w){v=!1,wj(n,w,{raisedBy:"predicate"})}v&&l(j,h,d,g)}}}finally{m=yj}return x},startListening:i,stopListening:o,clearListeners:c}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var bL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$k=wr({name:"chartLayout",initialState:bL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:wL,setLayout:jL,setChartSize:NL,setScale:_L}=$k.actions,SL=$k.reducer;function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){CL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CL(e,t,r){return(t=kL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kL(e){var t=EL(e,"string");return typeof t=="symbol"?t:t+""}function EL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Td=Math.PI/180,PL=e=>e*180/Math.PI,it=(e,t,r,n)=>({x:e+Math.cos(-Td*n)*r,y:t+Math.sin(-Td*n)*r}),Lk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},AL=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},OL=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=AL({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:PL(c),angleInRadian:c}},TL=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},IL=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},ML=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=OL({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=TL(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Nj(Nj({},t),{},{radius:a,angle:IL(d,t)}):null};function Fk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){RL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RL(e,t,r){return(t=DL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=$L(e,"string");return typeof t=="symbol"?t:t+""}function $L(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _e(e,t,r){return Le(e)||Le(t)?r:bn(t)?Bs(e,t,r):typeof t=="function"?t(e):r}var LL=(e,t,r,n,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(wt(d-u)!==wt(f-d)){var m=[];if(wt(f-d)===wt(a[1]-a[0])){h=f;var g=d+a[1]-a[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var x=f+a[1]-a[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){({index:o}=r[c]);break}}else{var b=Math.min(u,f),j=Math.max(u,f);if(e>(b+d)/2&&e<=(j+d)/2){({index:o}=r[c]);break}}}else if(t){for(var v=0;v<l;v++)if(v===0&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<l-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===l-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:o}=t[v]);break}}return o},FL=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ae(e[i]))return Ar(Ar({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ae(e[o]))return Ar(Ar({},e),{},{[o]:e[o]+(a||0)})}return e},Sn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Bk=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},zk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(x=m==="angleAxis"&&i&&i.length>=2?wt(i[0]-i[1])*2*x:x,f||h){var y=(f||h||[]).map((b,j)=>{var v=n?n.indexOf(b):b;return{coordinate:o(v)+x,value:b,offset:x,index:j}});return y.filter(b=>!sr(b.coordinate))}return c&&u?u.map((b,j)=>({coordinate:o(b)+x,value:b,index:j,offset:x})):o.ticks&&d!=null?o.ticks(d).map((b,j)=>({coordinate:o(b)+x,value:b,offset:x,index:j})):o.domain().map((b,j)=>({coordinate:o(b)+x,value:n?n[b]:b,index:j,offset:x}))},Sj=1e-4,BL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Sj,i=Math.max(n[0],n[1])+Sj,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},zL=(e,t)=>{if(!t||t.length!==2||!ae(t[0])||!ae(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(a[0]=r),(!ae(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},UL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=sr(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},qL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=sr(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},WL={sign:UL,expand:ED,none:Ji,silhouette:PD,wiggle:AD,positive:qL},VL=(e,t,r)=>{var n=WL[r],a=kD().keys(t).value((i,o)=>+_e(i,o,0)).order(Sg).offset(n);return a(e)};function Uk(e){return e==null?void 0:String(e)}function Id(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Le(a[t.dataKey])){var l=vC(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=_e(a,Le(o)?t.dataKey:o);return Le(c)?null:t.scale(c)}var Cj=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=_e(i,t.dataKey,t.scale.domain()[o]);return Le(l)?null:t.scale(l)-a/2+n},KL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},GL=e=>{var t=e.flat(2).filter(ae);return[Math.min(...t),Math.max(...t)]},HL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],YL=(e,t,r)=>{if(e!=null)return HL(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=Fk(u,t,r),f=GL(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},kj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ej=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qs=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=rh(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Pj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Ar(Ar({},t),{},{dataKey:r,payload:n,value:a,name:i})}function ss(e,t){if(e)return String(e);if(typeof t=="string")return t}function XL(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?ML({x:e,y:t},n):null}var QL=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Ar(Ar(Ar({},n),it(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return Ar(Ar(Ar({},n),it(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},JL=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ia=e=>e.layout.width,oa=e=>e.layout.height,ZL=e=>e.layout.scale,qk=e=>e.layout.margin,lh=$(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ch=$(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Wk="data-recharts-item-index",Vk="data-recharts-item-data-key",mc=60;function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){e8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e8(e,t,r){return(t=t8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=r8(e,"string");return typeof t=="symbol"?t:t+""}function r8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n8=e=>e.brush.height;function a8(e){var t=ch(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:mc;return r+a}return r},0)}function s8(e){var t=ch(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:mc;return r+a}return r},0)}function i8(e){var t=lh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function o8(e){var t=lh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var pt=$([ia,oa,qk,n8,a8,s8,i8,o8,fk,S$],(e,t,r,n,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=lu(lu({},f),d),m=h.bottom;h.bottom+=n,h=FL(h,c,u);var g=e-h.left-h.right,x=t-h.top-h.bottom;return lu(lu({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(x,0)})}),l8=$(pt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),sv=$(ia,oa,(e,t)=>({x:0,y:0,width:e,height:t})),c8=p.createContext(null),zt=()=>p.useContext(c8)!=null,uh=e=>e.brush,dh=$([uh,pt,qk],(e,t,r)=>({height:e.height,x:ae(e.x)?e.x:t.left,y:ae(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ae(e.width)?e.width:t.width})),iv=()=>{var e,t=zt(),r=ne(l8),n=ne(dh),a=(e=ne(uh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},u8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Kk=()=>{var e;return(e=ne(pt))!==null&&e!==void 0?e:u8},ov=()=>ne(ia),lv=()=>ne(oa),d8=()=>ne(e=>e.layout.margin),he=e=>e.layout.layoutType,pc=()=>ne(he),f8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Gk=wr({name:"legend",initialState:f8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=zn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Oj,setLegendSettings:h8,addLegendPayload:Hk,removeLegendPayload:Yk}=Gk.actions,m8=Gk.reducer,p8=["contextPayload"];function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(null,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cv(e,t,r){return(t=g8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g8(e){var t=x8(e,"string");return typeof t=="symbol"?t:t+""}function x8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v8(e,t){if(e==null)return{};var r,n,a=y8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b8(e){return e.value}function w8(e){var{contextPayload:t}=e,r=v8(e,p8),n=tk(t,e.payloadUniqBy,b8),a=to(to({},r),{},{payload:n});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement(zx,a)}function j8(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),to(to({},u),d)}function N8(e){var t=Xe();return p.useEffect(()=>{t(h8(e))},[t,e]),null}function _8(e){var t=Xe();return p.useEffect(()=>(t(Oj(e)),()=>{t(Oj({width:0,height:0}))}),[t,e]),null}function S8(e){var t=E$(),r=QR(),n=d8(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[c,u]=hk([t]),d=ov(),f=lv();if(d==null||f==null)return null;var h=d-(n.left||0)-(n.right||0),m=fh.getWidthOrHeight(e.layout,i,a,h),g=l?o:to(to({position:"absolute",width:(m==null?void 0:m.width)||a||"auto",height:(m==null?void 0:m.height)||i||"auto"},j8(o,e,n,d,f,c)),o),x=l??r;if(x==null)return null;var y=p.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},p.createElement(N8,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(_8,{width:c.width,height:c.height}),p.createElement(w8,Dg({},e,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return ux.createPortal(y,x)}class fh extends p.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&ae(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return p.createElement(S8,this.props)}}cv(fh,"displayName","Legend");cv(fh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(null,arguments)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){C8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8(e,t,r){return(t=k8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k8(e){var t=E8(e,"string");return typeof t=="symbol"?t:t+""}function E8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P8(e){return Array.isArray(e)&&bn(e[0])&&bn(e[1])?e.join(" ~ "):e}var A8=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var N={padding:0,margin:0},_=(l?rh(i,l):i).map((S,C)=>{if(S.type==="none")return null;var T=S.formatter||o||P8,{value:O,name:P}=S,A=O,F=P;if(T){var z=T(O,P,S,C,i);if(Array.isArray(z))[A,F]=z;else if(z!=null)A=z;else return null}var q=Fm({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:q},bn(F)?p.createElement("span",{className:"recharts-tooltip-item-name"},F):null,bn(F)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},A),p.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:N},_)}return null},g=Fm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Fm({margin:0},a),y=!Le(d),b=y?d:"",j=me("recharts-default-tooltip",c),v=me("recharts-tooltip-label",u);y&&f&&i!==void 0&&i!==null&&(b=f(d,i));var w=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",$g({className:j,style:g},w),p.createElement("p",{className:v,style:x},p.isValidElement(b)?b:"".concat(b)),m())},zo="recharts-tooltip-wrapper",O8={visibility:"hidden"};function T8(e){var{coordinate:t,translateX:r,translateY:n}=e;return me(zo,{["".concat(zo,"-right")]:ae(r)&&t&&ae(t.x)&&r>=t.x,["".concat(zo,"-left")]:ae(r)&&t&&ae(t.x)&&r<t.x,["".concat(zo,"-bottom")]:ae(n)&&t&&ae(t.y)&&n>=t.y,["".concat(zo,"-top")]:ae(n)&&t&&ae(t.y)&&n<t.y})}function Mj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&ae(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,y=h+u;return x>y?Math.max(d,h):Math.max(f,h)}function I8(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function M8(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=Mj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Mj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=I8({translateX:d,translateY:f,useTranslate3d:l})):u=O8,{cssProperties:u,cssClasses:T8({translateX:d,translateY:f,coordinate:r})}}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){Lg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lg(e,t,r){return(t=R8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e){var t=D8(e,"string");return typeof t=="symbol"?t:t+""}function D8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $8 extends p.PureComponent{constructor(){super(...arguments),Lg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Lg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:x,innerRef:y,hasPortalFromProps:b}=this.props,{cssClasses:j,cssProperties:v}=M8({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),w=b?{}:cu(cu({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=cu(cu({},w),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:N,ref:y},i)}}var L8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),la={devToolsEnabled:!1,isSsr:L8()},Xk=()=>ne(e=>e.rootProps.accessibilityLayer);function Tt(e){return Number.isFinite(e)}function ro(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(null,arguments)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){F8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F8(e,t,r){return(t=B8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8(e){var t=z8(e,"string");return typeof t=="symbol"?t:t+""}function z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lj={curveBasisClosed:gD,curveBasisOpen:xD,curveBasis:pD,curveBumpX:tD,curveBumpY:rD,curveLinearClosed:vD,curveLinear:Jf,curveMonotoneX:yD,curveMonotoneY:bD,curveNatural:wD,curveStep:jD,curveStepAfter:_D,curveStepBefore:ND},uu=e=>Tt(e.x)&&Tt(e.y),Uo=e=>e.x,qo=e=>e.y,U8=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(uc(e));return(r==="curveMonotone"||r==="curveBump")&&t?Lj["".concat(r).concat(t==="vertical"?"Y":"X")]:Lj[r]||Jf},q8=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=U8(t,a),l=i?r.filter(uu):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>uu(f)):n,d=l.map((f,h)=>$j($j({},f),{},{base:u[h]}));return a==="vertical"?c=ru().y(qo).x1(Uo).x0(f=>f.base.x):c=ru().x(Uo).y1(qo).y0(f=>f.base.y),c.defined(uu).curve(o),c(d)}return a==="vertical"&&ae(n)?c=ru().y(qo).x1(Uo).x0(n):ae(n)?c=ru().x(Uo).y1(qo).y0(n):c=kC().x(Uo).y(qo),c.defined(uu).curve(o),c(l)},Ri=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?q8(e):n;return p.createElement("path",Fg({},Ur(e),Ix(e),{className:me("recharts-curve",t),d:i===null?void 0:i,ref:a}))},W8=["x","y","top","left","width","height","className"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(null,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){K8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K8(e,t,r){return(t=G8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8(e){var t=H8(e,"string");return typeof t=="symbol"?t:t+""}function H8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y8(e,t){if(e==null)return{};var r,n,a=X8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q8=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),J8=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=Y8(e,W8),u=V8({x:t,y:r,top:n,left:a,width:i,height:o},c);return!ae(t)||!ae(r)||!ae(i)||!ae(o)||!ae(n)||!ae(a)?null:p.createElement("path",Bg({},Fe(u,!0),{className:me("recharts-cross",l),d:Q8(t,r,i,o,n,a)}))};function Z8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){tF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tF(e,t,r){return(t=rF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=nF(e,"string");return typeof t=="symbol"?t:t+""}function nF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gt(e,t){var r=eF({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function aF(){}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){sF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sF(e,t,r){return(t=iF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Qk=(e,t,r)=>e.map(n=>"".concat(lF(n)," ").concat(t,"ms ").concat(r)).join(","),cF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Kl=(e,t)=>Object.keys(t).reduce((r,n)=>Uj(Uj({},r),{},{[n]:e(n,t[n])}),{});function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){uF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uF(e,t,r){return(t=dF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=fF(e,"string");return typeof t=="symbol"?t:t+""}function fF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Md=(e,t,r)=>e+(t-e)*r,zg=e=>{var{from:t,to:r}=e;return t!==r},Jk=(e,t,r)=>{var n=Kl((a,i)=>{if(zg(i)){var[o,l]=e(i.from,i.to,i.velocity);return Pt(Pt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Kl((a,i)=>zg(i)?Pt(Pt({},i),{},{velocity:Md(i.velocity,n[a].velocity,r),from:Md(i.from,n[a].from,r)}):i,t):Jk(e,n,r-1)};function hF(e,t,r,n,a,i){var o,l=n.reduce((h,m)=>Pt(Pt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Kl((h,m)=>m.from,l),u=()=>!Object.values(l).filter(zg).length,d=null,f=h=>{o||(o=h);var m=h-o,g=m/r.dt;l=Jk(r,l,g),a(Pt(Pt(Pt({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function mF(e,t,r,n,a,i,o){var l=null,c=a.reduce((f,h)=>Pt(Pt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Kl((x,y)=>Md(...y,r(h)),c);if(i(Pt(Pt(Pt({},e),t),m)),h<1)l=o.setTimeout(d);else{var g=Kl((x,y)=>Md(...y,r(1)),c);i(Pt(Pt(Pt({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{l()})}const pF=(e,t,r,n,a,i)=>{var o=cF(e,t);return r.isStepper===!0?hF(e,t,r,o,a,i):mF(e,t,r,n,o,a,i)};var Rd=1e-4,Zk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],eE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Wj=(e,t)=>r=>{var n=Zk(e,t);return eE(n,r)},gF=(e,t)=>r=>{var n=Zk(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return eE(a,r)},Vj=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,n,r,a]=o);var u=Wj(t,r),d=Wj(n,a),f=gF(t,r),h=g=>g>1?1:g<0?0:g,m=g=>{for(var x=g>1?1:g,y=x,b=0;b<8;++b){var j=u(y)-x,v=f(y);if(Math.abs(j-x)<Rd||v<Rd)return d(y);y=h(y-j/v)}return d(y)};return m.isStepper=!1,m},xF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-l)<Rd&&Math.abs(f)<Rd?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},vF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Vj(e);case"spring":return xF();default:if(e.split("(")[0]==="cubic-bezier")return Vj(e)}return typeof e=="function"?e:null};function yF(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class bF{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function wF(){return yF(new bF)}var jF=p.createContext(wF);function NF(e,t){var r=p.useContext(jF);return p.useMemo(()=>t??r(e),[e,t,r])}var _F={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Kj={t:0},Bm={t:1};function vo(e){var t=gt(e,_F),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=NF(t.animationId,t.animationManager),[f,h]=p.useState(r?Kj:Bm),m=p.useRef(null);return p.useEffect(()=>{r||h(Bm)},[r]),p.useEffect(()=>{if(!r||!n)return aF;var g=pF(Kj,Bm,vF(i),a,h,d.getTimeoutController()),x=()=>{m.current=g()};return d.start([c,o,x,a,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,a,i,o,c,l,d]),u(f.t)}function yo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(ql(t)),n=p.useRef(e);return n.current!==e&&(r.current=ql(t),n.current=e),r.current}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){SF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SF(e,t,r){return(t=CF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=kF(e,"string");return typeof t=="symbol"?t:t+""}function kF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dd.apply(null,arguments)}var Yj=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},EF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tE=e=>{var t=gt(e,EF),r=p.useRef(null),[n,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var z=r.current.getTotalLength();z&&a(z)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:x}=t,y=p.useRef(l),b=p.useRef(c),j=p.useRef(i),v=p.useRef(o),w=p.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),N=yo(w,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var _=me("recharts-rectangle",d);if(!x)return p.createElement("path",Dd({},Fe(t,!0),{className:_,d:Yj(i,o,l,c,u)}));var S=y.current,C=b.current,T=j.current,O=v.current,P="0px ".concat(n===-1?1:n,"px"),A="".concat(n,"px 0px"),F=Qk(["strokeDasharray"],h,typeof f=="string"?f:void 0);return p.createElement(vo,{animationId:N,key:N,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},z=>{var q=Ne(S,l,z),E=Ne(C,c,z),k=Ne(T,i,z),R=Ne(O,o,z);r.current&&(y.current=q,b.current=E,j.current=k,v.current=R);var B;return g?z>0?B={transition:F,strokeDasharray:A}:B={strokeDasharray:P}:B={strokeDasharray:A},p.createElement("path",Dd({},Fe(t,!0),{className:_,d:Yj(k,R,q,E,u),ref:r,style:Hj(Hj({},B),t.style)}))})};function rE(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=it(t,r,n,a),l=it(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(null,arguments)}var PF=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},du=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Td,f=c?a:a+i*d,h=it(t,r,u,f),m=it(t,r,n,f),g=c?a-i*d:a,x=it(t,r,u*Math.cos(d*Td),g);return{center:h,circleTangency:m,lineTangency:x,theta:d}},nE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=PF(i,o),c=i+l,u=it(t,r,a,i),d=it(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=it(t,r,n,i),m=it(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},AF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=wt(u-c),{circleTangency:f,lineTangency:h,theta:m}=du({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:x,theta:y}=du({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-m-y;if(b<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):nE({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var j="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:v,lineTangency:w,theta:N}=du({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:_,lineTangency:S,theta:C}=du({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),T=l?Math.abs(c-u):Math.abs(c-u)-N-C;if(T<0&&i===0)return"".concat(j,"L").concat(t,",").concat(r,"Z");j+="L".concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(v.x,",").concat(v.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,"Z")}else j+="L".concat(t,",").concat(r,"Z");return j},OF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aE=e=>{var t=gt(e,OF),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=me("recharts-sector",f),m=i-a,g=Ft(o,m,0,!0),x;return g>0&&Math.abs(u-d)<360?x=AF({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=nE({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),p.createElement("path",Ug({},Fe(t,!0),{className:h,d:x}))};function TF(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=it(l,c,u,f),m=it(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return rE(t);return[{x:n,y:a},{x:i,y:o}]}var sE={},iE={},oE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(oE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oE;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(iE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zx,r=iE;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(sE);var IF=sE.range;const lE=na(IF);function Wa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uv(e){let t,r,n;e.length!==2?(t=Wa,r=(l,c)=>Wa(e(l),c),n=(l,c)=>e(l)-c):(t=e===Wa||e===MF?e:RF,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function RF(){return 0}function cE(e){return e===null?NaN:+e}function*DF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const $F=uv(Wa),gc=$F.right;uv(cE).center;class Xj extends Map{constructor(t,r=BF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Qj(this,t))}has(t){return super.has(Qj(this,t))}set(t,r){return super.set(LF(this,t),r)}delete(t){return super.delete(FF(this,t))}}function Qj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function LF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function FF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function BF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zF(e=Wa){if(e===Wa)return uE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function uE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const UF=Math.sqrt(50),qF=Math.sqrt(10),WF=Math.sqrt(2);function $d(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=UF?10:i>=qF?5:i>=WF?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?$d(e,t,r*2):[l,c,u]}function qg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?$d(t,e,r):$d(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Wg(e,t,r){return t=+t,e=+e,r=+r,$d(e,t,r)[2]}function Vg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Wg(t,e,r):Wg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Jj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Zj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function dE(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?uE:zF(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));dE(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Wo(e,r,t),a(e[n],i)>0&&Wo(e,r,n);o<l;){for(Wo(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Wo(e,r,l):(++l,Wo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Wo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function VF(e,t,r){if(e=Float64Array.from(DF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Zj(e);if(t>=1)return Jj(e);var n,a=(n-1)*t,i=Math.floor(a),o=Jj(dE(e,i).subarray(0,i+1)),l=Zj(e.subarray(i+1));return o+(l-o)*(a-i)}}function KF(e,t,r=cE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function GF(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ca(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Kg=Symbol("implicit");function dv(){var e=new Xj,t=[],r=[],n=Kg;function a(i){let o=e.get(i);if(o===void 0){if(n!==Kg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Xj;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return dv(t,r).unknown(n)},qr.apply(a,arguments),a}function fv(){var e=dv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,x=m?n:a;i=(x-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(x-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=GF(h).map(function(b){return g+i*b});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return fv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},qr.apply(f(),arguments)}function fE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fE(t())},e}function HF(){return fE(fv.apply(null,arguments).paddingInner(1))}function hv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xc(){}var Gl=.7,Ld=1/Gl,Di="\\s*([+-]?\\d+)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YF=/^#([0-9a-f]{3,8})$/,XF=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),QF=new RegExp(`^rgb\\(${yn},${yn},${yn}\\)$`),JF=new RegExp(`^rgba\\(${Di},${Di},${Di},${Hl}\\)$`),ZF=new RegExp(`^rgba\\(${yn},${yn},${yn},${Hl}\\)$`),eB=new RegExp(`^hsl\\(${Hl},${yn},${yn}\\)$`),tB=new RegExp(`^hsla\\(${Hl},${yn},${yn},${Hl}\\)$`),e1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hv(xc,Yl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:t1,formatHex:t1,formatHex8:rB,formatHsl:nB,formatRgb:r1,toString:r1});function t1(){return this.rgb().formatHex()}function rB(){return this.rgb().formatHex8()}function nB(){return mE(this).formatHsl()}function r1(){return this.rgb().formatRgb()}function Yl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=YF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?n1(t):r===3?new tr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XF.exec(e))?new tr(t[1],t[2],t[3],1):(t=QF.exec(e))?new tr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JF.exec(e))?fu(t[1],t[2],t[3],t[4]):(t=ZF.exec(e))?fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eB.exec(e))?i1(t[1],t[2]/100,t[3]/100,1):(t=tB.exec(e))?i1(t[1],t[2]/100,t[3]/100,t[4]):e1.hasOwnProperty(e)?n1(e1[e]):e==="transparent"?new tr(NaN,NaN,NaN,0):null}function n1(e){return new tr(e>>16&255,e>>8&255,e&255,1)}function fu(e,t,r,n){return n<=0&&(e=t=r=NaN),new tr(e,t,r,n)}function aB(e){return e instanceof xc||(e=Yl(e)),e?(e=e.rgb(),new tr(e.r,e.g,e.b,e.opacity)):new tr}function Gg(e,t,r,n){return arguments.length===1?aB(e):new tr(e,t,r,n??1)}function tr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hv(tr,Gg,hE(xc,{brighter(e){return e=e==null?Ld:Math.pow(Ld,e),new tr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gl:Math.pow(Gl,e),new tr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tr(Ts(this.r),Ts(this.g),Ts(this.b),Fd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a1,formatHex:a1,formatHex8:sB,formatRgb:s1,toString:s1}));function a1(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}`}function sB(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}${Ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function s1(){const e=Fd(this.opacity);return`${e===1?"rgb(":"rgba("}${Ts(this.r)}, ${Ts(this.g)}, ${Ts(this.b)}${e===1?")":`, ${e})`}`}function Fd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ts(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ns(e){return e=Ts(e),(e<16?"0":"")+e.toString(16)}function i1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Jr(e,t,r,n)}function mE(e){if(e instanceof Jr)return new Jr(e.h,e.s,e.l,e.opacity);if(e instanceof xc||(e=Yl(e)),!e)return new Jr;if(e instanceof Jr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Jr(o,l,c,e.opacity)}function iB(e,t,r,n){return arguments.length===1?mE(e):new Jr(e,t,r,n??1)}function Jr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hv(Jr,iB,hE(xc,{brighter(e){return e=e==null?Ld:Math.pow(Ld,e),new Jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gl:Math.pow(Gl,e),new Jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new tr(zm(e>=240?e-240:e+120,a,n),zm(e,a,n),zm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Jr(o1(this.h),hu(this.s),hu(this.l),Fd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fd(this.opacity);return`${e===1?"hsl(":"hsla("}${o1(this.h)}, ${hu(this.s)*100}%, ${hu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function o1(e){return e=(e||0)%360,e<0?e+360:e}function hu(e){return Math.max(0,Math.min(1,e||0))}function zm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const mv=e=>()=>e;function oB(e,t){return function(r){return e+r*t}}function lB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function cB(e){return(e=+e)==1?pE:function(t,r){return r-t?lB(t,r,e):mv(isNaN(t)?r:t)}}function pE(e,t){var r=t-e;return r?oB(e,r):mv(isNaN(e)?t:e)}const l1=function e(t){var r=cB(t);function n(a,i){var o=r((a=Gg(a)).r,(i=Gg(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=pE(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function uB(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function dB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=bo(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function hB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Bd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function mB(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bo(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Hg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Um=new RegExp(Hg.source,"g");function pB(e){return function(){return e}}function gB(e){return function(t){return e(t)+""}}function xB(e,t){var r=Hg.lastIndex=Um.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Hg.exec(e))&&(a=Um.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Bd(n,a)})),r=Um.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?gB(c[0].x):pB(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function bo(e,t){var r=typeof t,n;return t==null||r==="boolean"?mv(t):(r==="number"?Bd:r==="string"?(n=Yl(t))?(t=n,l1):xB:t instanceof Yl?l1:t instanceof Date?hB:dB(t)?uB:Array.isArray(t)?fB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mB:Bd)(e,t)}function pv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function vB(e,t){t===void 0&&(t=e,e=bo);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function yB(e){return function(){return e}}function zd(e){return+e}var c1=[0,1];function Vt(e){return e}function Yg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:yB(isNaN(t)?NaN:.5)}function bB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function wB(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Yg(a,n),i=r(o,i)):(n=Yg(n,a),i=r(i,o)),function(l){return i(n(l))}}function jB(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Yg(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=gc(e,l,1,n)-1;return i[c](a[c](l))}}function vc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hh(){var e=c1,t=c1,r=bo,n,a,i,o=Vt,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Vt&&(o=bB(e[0],e[h-1])),l=h>2?jB:wB,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Bd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,zd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=pv,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Vt,d()):o!==Vt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function gv(){return hh()(Vt,Vt)}function NB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ud(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function no(e){return e=Ud(Math.abs(e)),e?e[1]:NaN}function _B(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function SB(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var CB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xl(e){if(!(t=CB.exec(e)))throw new Error("invalid format: "+e);var t;return new xv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xl.prototype=xv.prototype;function xv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kB(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var gE;function EB(e,t){var r=Ud(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(gE=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ud(e,Math.max(0,t+i-1))[0]}function u1(e,t){var r=Ud(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const d1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>u1(e*100,t),r:u1,s:EB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function f1(e){return e}var h1=Array.prototype.map,m1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function PB(e){var t=e.grouping===void 0||e.thousands===void 0?f1:_B(h1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?f1:SB(h1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Xl(f);var h=f.fill,m=f.align,g=f.sign,x=f.symbol,y=f.zero,b=f.width,j=f.comma,v=f.precision,w=f.trim,N=f.type;N==="n"?(j=!0,N="g"):d1[N]||(v===void 0&&(v=12),w=!0,N="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var _=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=x==="$"?n:/[%p]/.test(N)?o:"",C=d1[N],T=/[defgprs%]/.test(N);v=v===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function O(P){var A=_,F=S,z,q,E;if(N==="c")F=C(P)+F,P="";else{P=+P;var k=P<0||1/P<0;if(P=isNaN(P)?c:C(Math.abs(P),v),w&&(P=kB(P)),k&&+P==0&&g!=="+"&&(k=!1),A=(k?g==="("?g:l:g==="-"||g==="("?"":g)+A,F=(N==="s"?m1[8+gE/3]:"")+F+(k&&g==="("?")":""),T){for(z=-1,q=P.length;++z<q;)if(E=P.charCodeAt(z),48>E||E>57){F=(E===46?a+P.slice(z+1):P.slice(z))+F,P=P.slice(0,z);break}}}j&&!y&&(P=t(P,1/0));var R=A.length+P.length+F.length,B=R<b?new Array(b-R+1).join(h):"";switch(j&&y&&(P=t(B+P,B.length?b-F.length:1/0),B=""),m){case"<":P=A+P+F+B;break;case"=":P=A+B+P+F;break;case"^":P=B.slice(0,R=B.length>>1)+A+P+F+B.slice(R);break;default:P=B+A+P+F;break}return i(P)}return O.toString=function(){return f+""},O}function d(f,h){var m=u((f=Xl(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(no(h)/3)))*3,x=Math.pow(10,-g),y=m1[8+g/3];return function(b){return m(x*b)+y}}return{format:u,formatPrefix:d}}var mu,vv,xE;AB({thousands:",",grouping:[3],currency:["$",""]});function AB(e){return mu=PB(e),vv=mu.format,xE=mu.formatPrefix,mu}function OB(e){return Math.max(0,-no(Math.abs(e)))}function TB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(no(t)/3)))*3-no(Math.abs(e)))}function IB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,no(t)-no(e))+1}function vE(e,t,r,n){var a=Vg(e,t,r),i;switch(n=Xl(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=TB(a,o))&&(n.precision=i),xE(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=IB(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=OB(a))&&(n.precision=i-(n.type==="%")*2);break}}return vv(n)}function is(e){var t=e.domain;return e.ticks=function(r){var n=t();return qg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return vE(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Wg(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function yE(){var e=gv();return e.copy=function(){return vc(e,yE())},qr.apply(e,arguments),is(e)}function bE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,zd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return bE(e).unknown(t)},e=arguments.length?Array.from(e,zd):[0,1],is(r)}function wE(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function p1(e){return Math.log(e)}function g1(e){return Math.exp(e)}function MB(e){return-Math.log(-e)}function RB(e){return-Math.exp(-e)}function DB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $B(e){return e===10?DB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function LB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function x1(e){return(t,r)=>-e(-t,r)}function yv(e){const t=e(p1,g1),r=t.domain;let n=10,a,i;function o(){return a=LB(n),i=$B(n),r()[0]<0?(a=x1(a),i=x1(i),e(MB,RB)):e(p1,g1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,x;const y=l==null?10:+l;let b=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(x=h<0?g/i(-h):g*i(h),!(x<u)){if(x>d)break;b.push(x)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(x=h>0?g/i(-h):g*i(h),!(x<u)){if(x>d)break;b.push(x)}b.length*2<y&&(b=qg(u,d,y))}else b=qg(h,m,Math.min(m-h,y)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Xl(c)).precision==null&&(c.trim=!0),c=vv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(wE(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function jE(){const e=yv(hh()).domain([1,10]);return e.copy=()=>vc(e,jE()).base(e.base()),qr.apply(e,arguments),e}function v1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function y1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bv(e){var t=1,r=e(v1(t),y1(t));return r.constant=function(n){return arguments.length?e(v1(t=+n),y1(t)):t},is(r)}function NE(){var e=bv(hh());return e.copy=function(){return vc(e,NE()).constant(e.constant())},qr.apply(e,arguments)}function b1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function FB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BB(e){return e<0?-e*e:e*e}function wv(e){var t=e(Vt,Vt),r=1;function n(){return r===1?e(Vt,Vt):r===.5?e(FB,BB):e(b1(r),b1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},is(t)}function jv(){var e=wv(hh());return e.copy=function(){return vc(e,jv()).exponent(e.exponent())},qr.apply(e,arguments),e}function zB(){return jv.apply(null,arguments).exponent(.5)}function w1(e){return Math.sign(e)*e*e}function UB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _E(){var e=gv(),t=[0,1],r=!1,n;function a(i){var o=UB(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(w1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,zd)).map(w1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _E(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},qr.apply(a,arguments),is(a)}function SE(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=KF(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[gc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wa),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return SE().domain(e).range(t).unknown(n)},qr.apply(i,arguments)}function CE(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[gc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return CE().domain([e,t]).range(a).unknown(i)},qr.apply(is(o),arguments)}function kE(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[gc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return kE().domain(e).range(t).unknown(r)},qr.apply(a,arguments)}const qm=new Date,Wm=new Date;function xt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>xt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(qm.setTime(+i),Wm.setTime(+o),e(qm),e(Wm),Math.floor(r(qm,Wm))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const qd=xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qd);qd.range;const Dn=1e3,Ir=Dn*60,$n=Ir*60,ea=$n*24,Nv=ea*7,j1=ea*30,Vm=ea*365,_s=xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCSeconds());_s.range;const _v=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn)},(e,t)=>{e.setTime(+e+t*Ir)},(e,t)=>(t-e)/Ir,e=>e.getMinutes());_v.range;const Sv=xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ir)},(e,t)=>(t-e)/Ir,e=>e.getUTCMinutes());Sv.range;const Cv=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dn-e.getMinutes()*Ir)},(e,t)=>{e.setTime(+e+t*$n)},(e,t)=>(t-e)/$n,e=>e.getHours());Cv.range;const kv=xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$n)},(e,t)=>(t-e)/$n,e=>e.getUTCHours());kv.range;const yc=xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ir)/ea,e=>e.getDate()-1);yc.range;const mh=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>e.getUTCDate()-1);mh.range;const EE=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>Math.floor(e/ea));EE.range;function Qs(e){return xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ir)/Nv)}const ph=Qs(0),Wd=Qs(1),qB=Qs(2),WB=Qs(3),ao=Qs(4),VB=Qs(5),KB=Qs(6);ph.range;Wd.range;qB.range;WB.range;ao.range;VB.range;KB.range;function Js(e){return xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Nv)}const gh=Js(0),Vd=Js(1),GB=Js(2),HB=Js(3),so=Js(4),YB=Js(5),XB=Js(6);gh.range;Vd.range;GB.range;HB.range;so.range;YB.range;XB.range;const Ev=xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ev.range;const Pv=xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pv.range;const ta=xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ta.range;const ra=xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ra.range;function PE(e,t,r,n,a,i){const o=[[_s,1,Dn],[_s,5,5*Dn],[_s,15,15*Dn],[_s,30,30*Dn],[i,1,Ir],[i,5,5*Ir],[i,15,15*Ir],[i,30,30*Ir],[a,1,$n],[a,3,3*$n],[a,6,6*$n],[a,12,12*$n],[n,1,ea],[n,2,2*ea],[r,1,Nv],[t,1,j1],[t,3,3*j1],[e,1,Vm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=uv(([,,y])=>y).right(o,h);if(m===o.length)return e.every(Vg(u/Vm,d/Vm,f));if(m===0)return qd.every(Math.max(Vg(u,d,f),1));const[g,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(x)}return[l,c]}const[QB,JB]=PE(ra,Pv,gh,EE,kv,Sv),[ZB,ez]=PE(ta,Ev,ph,yc,Cv,_v);function Km(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tz(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ko(a),d=Go(a),f=Ko(i),h=Go(i),m=Ko(o),g=Go(o),x=Ko(l),y=Go(l),b=Ko(c),j=Go(c),v={a:k,A:R,b:B,B:V,c:null,d:E1,e:E1,f:_z,g:Mz,G:Dz,H:wz,I:jz,j:Nz,L:AE,m:Sz,M:Cz,p:X,q:Q,Q:O1,s:T1,S:kz,u:Ez,U:Pz,V:Az,w:Oz,W:Tz,x:null,X:null,y:Iz,Y:Rz,Z:$z,"%":A1},w={a:Be,A:Pe,b:Se,B:St,c:null,d:P1,e:P1,f:zz,g:Qz,G:Zz,H:Lz,I:Fz,j:Bz,L:TE,m:Uz,M:qz,p:Ze,q:D,Q:O1,s:T1,S:Wz,u:Vz,U:Kz,V:Gz,w:Hz,W:Yz,x:null,X:null,y:Xz,Y:Jz,Z:eU,"%":A1},N={a:O,A:P,b:A,B:F,c:z,d:C1,e:C1,f:xz,g:S1,G:_1,H:k1,I:k1,j:hz,L:gz,m:fz,M:mz,p:T,q:dz,Q:yz,s:bz,S:pz,u:iz,U:oz,V:lz,w:sz,W:cz,x:q,X:E,y:S1,Y:_1,Z:uz,"%":vz};v.x=_(r,v),v.X=_(n,v),v.c=_(t,v),w.x=_(r,w),w.X=_(n,w),w.c=_(t,w);function _(I,W){return function(G){var L=[],oe=-1,ie=0,Ce=I.length,U,M,H;for(G instanceof Date||(G=new Date(+G));++oe<Ce;)I.charCodeAt(oe)===37&&(L.push(I.slice(ie,oe)),(M=N1[U=I.charAt(++oe)])!=null?U=I.charAt(++oe):M=U==="e"?" ":"0",(H=W[U])&&(U=H(G,M)),L.push(U),ie=oe+1);return L.push(I.slice(ie,oe)),L.join("")}}function S(I,W){return function(G){var L=Vo(1900,void 0,1),oe=C(L,I,G+="",0),ie,Ce;if(oe!=G.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(W&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(ie=Gm(Vo(L.y,0,1)),Ce=ie.getUTCDay(),ie=Ce>4||Ce===0?Vd.ceil(ie):Vd(ie),ie=mh.offset(ie,(L.V-1)*7),L.y=ie.getUTCFullYear(),L.m=ie.getUTCMonth(),L.d=ie.getUTCDate()+(L.w+6)%7):(ie=Km(Vo(L.y,0,1)),Ce=ie.getDay(),ie=Ce>4||Ce===0?Wd.ceil(ie):Wd(ie),ie=yc.offset(ie,(L.V-1)*7),L.y=ie.getFullYear(),L.m=ie.getMonth(),L.d=ie.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ce="Z"in L?Gm(Vo(L.y,0,1)).getUTCDay():Km(Vo(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ce+5)%7:L.w+L.U*7-(Ce+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Gm(L)):Km(L)}}function C(I,W,G,L){for(var oe=0,ie=W.length,Ce=G.length,U,M;oe<ie;){if(L>=Ce)return-1;if(U=W.charCodeAt(oe++),U===37){if(U=W.charAt(oe++),M=N[U in N1?W.charAt(oe++):U],!M||(L=M(I,G,L))<0)return-1}else if(U!=G.charCodeAt(L++))return-1}return L}function T(I,W,G){var L=u.exec(W.slice(G));return L?(I.p=d.get(L[0].toLowerCase()),G+L[0].length):-1}function O(I,W,G){var L=m.exec(W.slice(G));return L?(I.w=g.get(L[0].toLowerCase()),G+L[0].length):-1}function P(I,W,G){var L=f.exec(W.slice(G));return L?(I.w=h.get(L[0].toLowerCase()),G+L[0].length):-1}function A(I,W,G){var L=b.exec(W.slice(G));return L?(I.m=j.get(L[0].toLowerCase()),G+L[0].length):-1}function F(I,W,G){var L=x.exec(W.slice(G));return L?(I.m=y.get(L[0].toLowerCase()),G+L[0].length):-1}function z(I,W,G){return C(I,t,W,G)}function q(I,W,G){return C(I,r,W,G)}function E(I,W,G){return C(I,n,W,G)}function k(I){return o[I.getDay()]}function R(I){return i[I.getDay()]}function B(I){return c[I.getMonth()]}function V(I){return l[I.getMonth()]}function X(I){return a[+(I.getHours()>=12)]}function Q(I){return 1+~~(I.getMonth()/3)}function Be(I){return o[I.getUTCDay()]}function Pe(I){return i[I.getUTCDay()]}function Se(I){return c[I.getUTCMonth()]}function St(I){return l[I.getUTCMonth()]}function Ze(I){return a[+(I.getUTCHours()>=12)]}function D(I){return 1+~~(I.getUTCMonth()/3)}return{format:function(I){var W=_(I+="",v);return W.toString=function(){return I},W},parse:function(I){var W=S(I+="",!1);return W.toString=function(){return I},W},utcFormat:function(I){var W=_(I+="",w);return W.toString=function(){return I},W},utcParse:function(I){var W=S(I+="",!0);return W.toString=function(){return I},W}}}var N1={"-":"",_:" ",0:"0"},Nt=/^\s*\d+/,rz=/^%/,nz=/[\\^$*+?|[\]().{}]/g;function ge(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function az(e){return e.replace(nz,"\\$&")}function Ko(e){return new RegExp("^(?:"+e.map(az).join("|")+")","i")}function Go(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function sz(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function iz(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function oz(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function lz(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cz(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function _1(e,t,r){var n=Nt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function S1(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dz(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fz(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function C1(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function hz(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function k1(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function mz(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function pz(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function gz(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function xz(e,t,r){var n=Nt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vz(e,t,r){var n=rz.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function yz(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bz(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function E1(e,t){return ge(e.getDate(),t,2)}function wz(e,t){return ge(e.getHours(),t,2)}function jz(e,t){return ge(e.getHours()%12||12,t,2)}function Nz(e,t){return ge(1+yc.count(ta(e),e),t,3)}function AE(e,t){return ge(e.getMilliseconds(),t,3)}function _z(e,t){return AE(e,t)+"000"}function Sz(e,t){return ge(e.getMonth()+1,t,2)}function Cz(e,t){return ge(e.getMinutes(),t,2)}function kz(e,t){return ge(e.getSeconds(),t,2)}function Ez(e){var t=e.getDay();return t===0?7:t}function Pz(e,t){return ge(ph.count(ta(e)-1,e),t,2)}function OE(e){var t=e.getDay();return t>=4||t===0?ao(e):ao.ceil(e)}function Az(e,t){return e=OE(e),ge(ao.count(ta(e),e)+(ta(e).getDay()===4),t,2)}function Oz(e){return e.getDay()}function Tz(e,t){return ge(Wd.count(ta(e)-1,e),t,2)}function Iz(e,t){return ge(e.getFullYear()%100,t,2)}function Mz(e,t){return e=OE(e),ge(e.getFullYear()%100,t,2)}function Rz(e,t){return ge(e.getFullYear()%1e4,t,4)}function Dz(e,t){var r=e.getDay();return e=r>=4||r===0?ao(e):ao.ceil(e),ge(e.getFullYear()%1e4,t,4)}function $z(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ge(t/60|0,"0",2)+ge(t%60,"0",2)}function P1(e,t){return ge(e.getUTCDate(),t,2)}function Lz(e,t){return ge(e.getUTCHours(),t,2)}function Fz(e,t){return ge(e.getUTCHours()%12||12,t,2)}function Bz(e,t){return ge(1+mh.count(ra(e),e),t,3)}function TE(e,t){return ge(e.getUTCMilliseconds(),t,3)}function zz(e,t){return TE(e,t)+"000"}function Uz(e,t){return ge(e.getUTCMonth()+1,t,2)}function qz(e,t){return ge(e.getUTCMinutes(),t,2)}function Wz(e,t){return ge(e.getUTCSeconds(),t,2)}function Vz(e){var t=e.getUTCDay();return t===0?7:t}function Kz(e,t){return ge(gh.count(ra(e)-1,e),t,2)}function IE(e){var t=e.getUTCDay();return t>=4||t===0?so(e):so.ceil(e)}function Gz(e,t){return e=IE(e),ge(so.count(ra(e),e)+(ra(e).getUTCDay()===4),t,2)}function Hz(e){return e.getUTCDay()}function Yz(e,t){return ge(Vd.count(ra(e)-1,e),t,2)}function Xz(e,t){return ge(e.getUTCFullYear()%100,t,2)}function Qz(e,t){return e=IE(e),ge(e.getUTCFullYear()%100,t,2)}function Jz(e,t){return ge(e.getUTCFullYear()%1e4,t,4)}function Zz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?so(e):so.ceil(e),ge(e.getUTCFullYear()%1e4,t,4)}function eU(){return"+0000"}function A1(){return"%"}function O1(e){return+e}function T1(e){return Math.floor(+e/1e3)}var ci,ME,RE;tU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tU(e){return ci=tz(e),ME=ci.format,ci.parse,RE=ci.utcFormat,ci.utcParse,ci}function rU(e){return new Date(e)}function nU(e){return e instanceof Date?+e:+new Date(+e)}function Av(e,t,r,n,a,i,o,l,c,u){var d=gv(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),x=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),j=u("%b %d"),v=u("%B"),w=u("%Y");function N(_){return(c(_)<_?m:l(_)<_?g:o(_)<_?x:i(_)<_?y:n(_)<_?a(_)<_?b:j:r(_)<_?v:w)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,nU)):h().map(rU)},d.ticks=function(_){var S=h();return e(S[0],S[S.length-1],_??10)},d.tickFormat=function(_,S){return S==null?N:u(S)},d.nice=function(_){var S=h();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?h(wE(S,_)):d},d.copy=function(){return vc(d,Av(e,t,r,n,a,i,o,l,c,u))},d}function aU(){return qr.apply(Av(ZB,ez,ta,Ev,ph,yc,Cv,_v,_s,ME).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sU(){return qr.apply(Av(QB,JB,ra,Pv,gh,mh,kv,Sv,_s,RE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xh(){var e=0,t=1,r,n,a,i,o=Vt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(bo),u.rangeRound=d(pv),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function os(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function DE(){var e=is(xh()(Vt));return e.copy=function(){return os(e,DE())},ca.apply(e,arguments)}function $E(){var e=yv(xh()).domain([1,10]);return e.copy=function(){return os(e,$E()).base(e.base())},ca.apply(e,arguments)}function LE(){var e=bv(xh());return e.copy=function(){return os(e,LE()).constant(e.constant())},ca.apply(e,arguments)}function Ov(){var e=wv(xh());return e.copy=function(){return os(e,Ov()).exponent(e.exponent())},ca.apply(e,arguments)}function iU(){return Ov.apply(null,arguments).exponent(.5)}function FE(){var e=[],t=Vt;function r(n){if(n!=null&&!isNaN(n=+n))return t((gc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>VF(e,i/n))},r.copy=function(){return FE(t).domain(e)},ca.apply(r,arguments)}function vh(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Vt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(y){var b,j,v;return arguments.length?([b,j,v]=y,u=vB(x,[b,j,v]),m):[u(0),u(.5),u(1)]}}return m.range=g(bo),m.rangeRound=g(pv),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),i=x(t),o=x(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function BE(){var e=is(vh()(Vt));return e.copy=function(){return os(e,BE())},ca.apply(e,arguments)}function zE(){var e=yv(vh()).domain([.1,1,10]);return e.copy=function(){return os(e,zE()).base(e.base())},ca.apply(e,arguments)}function UE(){var e=bv(vh());return e.copy=function(){return os(e,UE()).constant(e.constant())},ca.apply(e,arguments)}function Tv(){var e=wv(vh());return e.copy=function(){return os(e,Tv()).exponent(e.exponent())},ca.apply(e,arguments)}function oU(){return Tv.apply(null,arguments).exponent(.5)}const nl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fv,scaleDiverging:BE,scaleDivergingLog:zE,scaleDivergingPow:Tv,scaleDivergingSqrt:oU,scaleDivergingSymlog:UE,scaleIdentity:bE,scaleImplicit:Kg,scaleLinear:yE,scaleLog:jE,scaleOrdinal:dv,scalePoint:HF,scalePow:jv,scaleQuantile:SE,scaleQuantize:CE,scaleRadial:_E,scaleSequential:DE,scaleSequentialLog:$E,scaleSequentialPow:Ov,scaleSequentialQuantile:FE,scaleSequentialSqrt:iU,scaleSequentialSymlog:LE,scaleSqrt:zB,scaleSymlog:NE,scaleThreshold:kE,scaleTime:aU,scaleUtc:sU,tickFormat:vE},Symbol.toStringTag,{value:"Module"}));var ls=e=>e.chartData,Iv=$([ls],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),bc=(e,t,r,n)=>n?Iv(e):ls(e);function io(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Tt(t)&&Tt(r))return!0}return!1}function I1(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lU(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Tt(r))a=r;else if(typeof r=="function")return;if(Tt(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(io(o))return o}}function cU(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(io(n))return I1(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ae(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&kj.test(a)){var c=kj.exec(a);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ae(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Ej.test(i)){var d=Ej.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(io(h))return t==null?h:I1(h,t,r)}}}var wo=1e9,uU={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rv,We=!0,Br="[DecimalError] ",Is=Br+"Invalid argument: ",Mv=Br+"Exponent out of range: ",jo=Math.floor,xs=Math.pow,dU=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,yt=1e7,De=7,qE=9007199254740991,Kd=jo(qE/De),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*De;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return Un(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return ke(Un(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return ot(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(dr))throw Error(Br+"NaN");if(r.s<1)throw Error(Br+(r.s?"NaN":"-Infinity"));return r.eq(dr)?new n(0):(We=!1,t=Un(Ql(r,i),Ql(e,i),i),We=!0,ke(t,a))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KE(t,e):WE(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Br+"NaN");return r.s?(We=!1,t=Un(r,e,0,1).times(e),We=!0,r.minus(t)):ke(new n(r),a)};ee.naturalExponential=ee.exp=function(){return VE(this)};ee.naturalLogarithm=ee.ln=function(){return Ql(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WE(t,e):KE(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Is+e);if(t=ot(a)+1,n=a.d.length-1,r=n*De+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Br+"NaN")}for(e=ot(l),We=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=mn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=jo((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Un(l,i,o+2)).times(.5),mn(i.d).slice(0,o)===(t=mn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ke(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return We=!0,ke(n,r)};ee.times=ee.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%yt|0,t=l/yt|0;i[a]=(i[a]+t)%yt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,We?ke(e,f.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(wn(e,0,wo),t===void 0?t=n.rounding:wn(t,0,8),ke(r,e+ot(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ws(n,!0):(wn(e,0,wo),t===void 0?t=a.rounding:wn(t,0,8),n=ke(new a(n),e+1,t),r=Ws(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ws(a):(wn(e,0,wo),t===void 0?t=i.rounding:wn(t,0,8),n=ke(new i(a),e+ot(a)+1,t),r=Ws(n.abs(),!1,e+ot(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return ke(new t(e),ot(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(dr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Br+"Infinity");return l}if(l.eq(dr))return l;if(n=c.precision,e.eq(dr))return ke(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=qE){for(a=new c(dr),t=Math.ceil(n/De+4),We=!1;r%2&&(a=a.times(l),R1(a.d,t)),r=jo(r/2),r!==0;)l=l.times(l),R1(l.d,t);return We=!0,e.s<0?new c(dr).div(a):ke(a,n)}}else if(i<0)throw Error(Br+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,We=!1,a=e.times(Ql(l,n+u)),We=!0,a=VE(a),a.s=i,a};ee.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ot(a),n=Ws(a,r<=i.toExpNeg||r>=i.toExpPos)):(wn(e,1,wo),t===void 0?t=i.rounding:wn(t,0,8),a=ke(new i(a),e,t),r=ot(a),n=Ws(a,e<=r||r<=i.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(wn(e,1,wo),t===void 0?t=n.rounding:wn(t,0,8)),ke(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ot(e),r=e.constructor;return Ws(e,t<=r.toExpNeg||t>=r.toExpPos)};function WE(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),We?ke(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/De),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/yt|0,c[i]%=yt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,We?ke(t,f):t}function wn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Is+e)}function mn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=De-n.length,r&&(i+=Na(r)),i+=n;o=e[t],n=o+"",r=De-n.length,r&&(i+=Na(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Un=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%yt|0,o=i/yt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*yt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,g,x,y,b,j,v,w,N,_,S,C,T=n.constructor,O=n.s==a.s?1:-1,P=n.d,A=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Br+"Division by zero");for(c=n.e-a.e,S=A.length,N=P.length,m=new T(O),g=m.d=[],u=0;A[u]==(P[u]||0);)++u;if(A[u]>(P[u]||0)&&--c,i==null?j=i=T.precision:o?j=i+(ot(n)-ot(a))+1:j=i,j<0)return new T(0);if(j=j/De+2|0,u=0,S==1)for(d=0,A=A[0],j++;(u<N||d)&&j--;u++)v=d*yt+(P[u]||0),g[u]=v/A|0,d=v%A|0;else{for(d=yt/(A[0]+1)|0,d>1&&(A=e(A,d),P=e(P,d),S=A.length,N=P.length),w=S,x=P.slice(0,S),y=x.length;y<S;)x[y++]=0;C=A.slice(),C.unshift(0),_=A[0],A[1]>=yt/2&&++_;do d=0,l=t(A,x,S,y),l<0?(b=x[0],S!=y&&(b=b*yt+(x[1]||0)),d=b/_|0,d>1?(d>=yt&&(d=yt-1),f=e(A,d),h=f.length,y=x.length,l=t(f,x,h,y),l==1&&(d--,r(f,S<h?C:A,h))):(d==0&&(l=d=1),f=A.slice()),h=f.length,h<y&&f.unshift(0),r(x,f,y),l==-1&&(y=x.length,l=t(A,x,S,y),l<1&&(d++,r(x,S<y?C:A,y))),y=x.length):l===0&&(d++,x=[0]),g[u++]=d,l&&x[0]?x[y++]=P[w]||0:(x=[P[w]],y=1);while((w++<N||x[0]!==void 0)&&j--)}return g[0]||g.shift(),m.e=c,ke(m,o?i+ot(m)+1:i)}}();function VE(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ot(e)>16)throw Error(Mv+ot(e));if(!e.s)return new d(dr);for(We=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(xs(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(dr),d.precision=l;;){if(a=ke(a.times(e),l),r=r.times(++c),o=i.plus(Un(a,r,l)),mn(o.d).slice(0,l)===mn(i.d).slice(0,l)){for(;u--;)i=ke(i.times(i),l);return d.precision=f,t==null?(We=!0,ke(i,f)):i}i=o}}function ot(e){for(var t=e.e*De,r=e.d[0];r>=10;r/=10)t++;return t}function Hm(e,t,r){if(t>e.LN10.sd())throw We=!0,r&&(e.precision=r),Error(Br+"LN10 precision limit exceeded");return ke(new e(e.LN10),t)}function Na(e){for(var t="";e--;)t+="0";return t}function Ql(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,x=m.constructor,y=x.precision;if(m.s<1)throw Error(Br+(m.s?"NaN":"-Infinity"));if(m.eq(dr))return new x(0);if(t==null?(We=!1,u=y):u=t,m.eq(10))return t==null&&(We=!0),Hm(x,u);if(u+=h,x.precision=u,r=mn(g),n=r.charAt(0),i=ot(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=mn(m.d),n=r.charAt(0),f++;i=ot(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return c=Hm(x,u+2,y).times(i+""),m=Ql(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=y,t==null?(We=!0,ke(m,y)):m;for(l=o=m=Un(m.minus(dr),m.plus(dr),u),d=ke(m.times(m),u),a=3;;){if(o=ke(o.times(d),u),c=l.plus(Un(o,new x(a),u)),mn(c.d).slice(0,u)===mn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Hm(x,u+2,y).times(i+""))),l=Un(l,new x(f),u),x.precision=y,t==null?(We=!0,ke(l,y)):l;l=c,a+=2}}function M1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=jo(r/De),e.d=[],n=(r+1)%De,r<0&&(n+=De),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=De;n<a;)e.d.push(+t.slice(n,n+=De));t=t.slice(n),n=De-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),We&&(e.e>Kd||e.e<-Kd))throw Error(Mv+r)}else e.s=0,e.e=0,e.d=[0];return e}function ke(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=De,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/De),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=De,a=n-De+o}if(r!==void 0&&(i=xs(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/xs(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ot(e),f.length=1,t=t-i-1,f[0]=xs(10,(De-t%De)%De),e.e=jo(-t/De)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=xs(10,De-n),f[d]=a>0?(u/xs(10,o-a)%xs(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==yt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=yt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(We&&(e.e>Kd||e.e<-Kd))throw Error(Mv+ot(e));return e}function KE(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),We?ke(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/De),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=yt-1;--c[i],c[a]+=yt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,We?ke(t,m):t):new h(0)}function Ws(e,t,r){var n,a=ot(e),i=mn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Na(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Na(-a-1)+i,r&&(n=r-o)>0&&(i+=Na(n))):a>=o?(i+=Na(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Na(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Na(n))),e.s<0?"-"+i:i}function R1(e,t){if(e.length>t)return e.length=t,!0}function GE(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Is+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return M1(o,i.toString())}else if(typeof i!="string")throw Error(Is+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,dU.test(i))M1(o,i);else throw Error(Is+i)}if(a.prototype=ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=GE,a.config=a.set=fU,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fU(e){if(!e||typeof e!="object")throw Error(Br+"Object expected");var t,r,n,a=["precision",1,wo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(jo(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Is+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Is+r+": "+n);return this}var Rv=GE(uU);dr=new Rv(1);const be=Rv;var hU=e=>e,HE={},YE=e=>e===HE,D1=e=>function t(){return arguments.length===0||arguments.length===1&&YE(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},XE=(e,t)=>e===1?t:D1(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==HE).length;return i>=e?t(...n):XE(e-i,D1(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>YE(d)?l.shift():d);return t(...u,...l)}))}),yh=e=>XE(e.length,e),Xg=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},mU=yh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),pU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return hU;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},Qg=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),QE=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function JE(e){var t;return e===0?t=1:t=Math.floor(new be(e).abs().log(10).toNumber())+1,t}function ZE(e,t,r){for(var n=new be(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}yh((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});yh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});yh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var eP=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},tP=(e,t,r)=>{if(e.lte(0))return new be(0);var n=JE(e.toNumber()),a=new be(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new be(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new be(c.toNumber()):new be(Math.ceil(c.toNumber()))},gU=(e,t,r)=>{var n=new be(1),a=new be(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new be(10).pow(JE(e)-1),a=new be(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new be(Math.floor(e)))}else e===0?a=new be(Math.floor((t-1)/2)):r||(a=new be(Math.floor(e)));var o=Math.floor((t-1)/2),l=pU(mU(c=>a.add(new be(c-o).mul(n)).toNumber()),Xg);return l(0,t)},rP=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new be(0),tickMin:new be(0),tickMax:new be(0)};var o=tP(new be(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new be(0):(l=new be(t).add(r).div(2),l=l.sub(new be(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new be(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?rP(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new be(c).mul(o)),tickMax:l.add(new be(u).mul(o))})};function xU(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=eP([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Xg(0,n-1).map(()=>1/0)]:[...Xg(0,n-1).map(()=>-1/0),l];return t>r?Qg(c):c}if(o===l)return gU(o,n,a);var{step:u,tickMin:d,tickMax:f}=rP(o,l,i,a,0),h=ZE(d,f.add(new be(.1).mul(u)),u);return t>r?Qg(h):h}function vU(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=eP([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=tP(new be(o).sub(i).div(l-1),a,0),u=[...ZE(new be(i),new be(o),c),o];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?Qg(u):u}var yU=QE(xU),bU=QE(vU),nP=e=>e.rootProps.maxBarSize,wU=e=>e.rootProps.barGap,aP=e=>e.rootProps.barCategoryGap,jU=e=>e.rootProps.barSize,wc=e=>e.rootProps.stackOffset,Dv=e=>e.options.chartName,$v=e=>e.rootProps.syncId,sP=e=>e.rootProps.syncMethod,Lv=e=>e.options.eventEmitter,Tn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},NU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Tn.angleAxisId,includeHidden:!1,name:void 0,reversed:Tn.reversed,scale:Tn.scale,tick:Tn.tick,tickCount:void 0,ticks:void 0,type:Tn.type,unit:void 0},_U={allowDataOverflow:cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,ticks:void 0,type:cr.type,unit:void 0},SU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tn.scale,tick:Tn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},CU={allowDataOverflow:cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,ticks:void 0,type:"category",unit:void 0},Fv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?SU:NU,Bv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?CU:_U,wh=e=>e.polarOptions,zv=$([ia,oa,pt],Lk),iP=$([wh,zv],(e,t)=>{if(e!=null)return Ft(e.innerRadius,t,0)}),oP=$([wh,zv],(e,t)=>{if(e!=null)return Ft(e.outerRadius,t,t*.8)}),kU=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},lP=$([wh],kU);$([Fv,lP],bh);var cP=$([zv,iP,oP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});$([Bv,cP],bh);var uP=$([he,wh,iP,oP,ia,oa],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Ft(o,a,a/2),cy:Ft(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ke=(e,t)=>t,jc=(e,t,r)=>r;function jh(e){return e==null?void 0:e.id}var vt=e=>{var t=he(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},No=e=>e.tooltip.settings.axisId,_t=e=>{var t=vt(e),r=No(e);return Nc(e,t,r)},dP=$([_t],e=>e==null?void 0:e.dataKey);function fP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=jh(l);u.forEach((f,h)=>{var m=i==null||a?h:String(_e(f,i,null)),g=_e(f,l.dataKey,0),x;o.has(m)?x=o.get(m):x={},Object.assign(x,{[d]:g}),o.set(m,x)})}}),Array.from(o.values())}function Nh(e){return e.stackId!=null&&e.dataKey!=null}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){EU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EU(e,t,r){return(t=PU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jg=[0,"auto"],ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hP=(e,t)=>e.cartesianAxis.xAxis[t],ua=(e,t)=>{var r=hP(e,t);return r??ir},or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mc},mP=(e,t)=>e.cartesianAxis.yAxis[t],da=(e,t)=>{var r=mP(e,t);return r??or},OU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Uv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??OU},at=(e,t,r)=>{switch(t){case"xAxis":return ua(e,r);case"yAxis":return da(e,r);case"zAxis":return Uv(e,r);case"angleAxis":return Fv(e,r);case"radiusAxis":return Bv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},TU=(e,t,r)=>{switch(t){case"xAxis":return ua(e,r);case"yAxis":return da(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Nc=(e,t,r)=>{switch(t){case"xAxis":return ua(e,r);case"yAxis":return da(e,r);case"angleAxis":return Fv(e,r);case"radiusAxis":return Bv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qv(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var _c=e=>e.graphicalItems.cartesianItems,IU=$([Ke,jc],qv),Wv=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Sc=$([_c,at,IU],Wv),gP=$([Sc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Nh)),xP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),vP=$([Sc],xP),Vv=e=>e.map(t=>t.data).filter(Boolean).flat(1),MU=$([Sc],Vv),Kv=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Gv=$([MU,bc],Kv),Hv=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:_e(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:_e(a,n)}))):e.map(n=>({value:n})),_h=$([Gv,at,Sc],Hv);function yP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Zs(e){return e.filter(t=>bn(t)||t instanceof Date).map(Number).filter(t=>sr(t)===!1)}function RU(e,t,r){return!r||typeof t!="number"||sr(t)?[]:r.length?Zs(r.flatMap(n=>{var a=_e(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Tt(i)||!Tt(o)))return[t-i,t+o]})):[]}var DU=$([gP,bc,_t],fP),bP=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(jh);return[o,{stackedData:VL(e,c,r),graphicalItems:l}]}))},Jl=$([DU,gP,wc],bP),wP=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=YL(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},$U=$([Jl,ls,Ke],wP),jP=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,u=(l=n[o.id])===null||l===void 0?void 0:l.filter(f=>yP(a,f)),d=_e(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:RU(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:_e(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Sh=e=>e.errorBars,NP=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>yP(r,n));$([vP,Sh,Ke],NP);var LU=$([Gv,at,vP,Sh,Ke],jP);function FU(e){var{value:t}=e;if(bn(t)||t instanceof Date)return t}var L1=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Zs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},BU=(e,t,r)=>{var n=e.map(FU).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&xC(n))?lE(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Yv=e=>{var t;if(e==null||!("domain"in e))return Jg;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Zs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Jg},Hd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},_P=e=>e.referenceElements.dots,_o=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),zU=$([_P,Ke,jc],_o),SP=e=>e.referenceElements.areas,UU=$([SP,Ke,jc],_o),CP=e=>e.referenceElements.lines,qU=$([CP,Ke,jc],_o),kP=(e,t)=>{var r=Zs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},WU=$(zU,Ke,kP),EP=(e,t)=>{var r=Zs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},VU=$([UU,Ke],EP),PP=(e,t)=>{var r=Zs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},KU=$(qU,Ke,PP),GU=$(WU,KU,VU,(e,t,r)=>Hd(e,r,t)),AP=$([at],Yv),Xv=(e,t,r,n,a,i,o)=>{var l=lU(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=c?Hd(r,a,L1(n)):Hd(a,L1(n));return cU(t,u,e.allowDataOverflow)},HU=$([at,AP,$U,LU,GU,he,Ke],Xv),YU=[0,1],Qv=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=Sn(t,i);return u&&l==null?lE(0,r.length):c==="category"?BU(n,e,u):a==="expand"?YU:o}},Jv=$([at,he,Gv,_h,wc,Ke,HU],Qv),OP=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(uc(i));return l in nl?l:"point"}}},So=$([at,he,pP,Dv,Ke],OP);function XU(e){if(e!=null){if(e in nl)return nl[e]();var t="scale".concat(uc(e));if(t in nl)return nl[t]()}}function Zv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=XU(t);if(a!=null){var i=a.domain(r).range(n);return BL(i),i}}}var ey=(e,t,r)=>{var n=Yv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&io(e))return yU(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&io(e))return bU(e,t.tickCount,t.allowDecimals)}},ty=$([Jv,Nc,So],ey),ry=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&io(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},QU=$([at,Jv,ty,Ke],ry),JU=$(_h,at,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Zs(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),TP=$(JU,he,aP,pt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Tt(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Ft(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),ZU=(e,t)=>{var r=ua(e,t);return r==null||typeof r.padding!="string"?0:TP(e,"xAxis",t,r.padding)},e9=(e,t)=>{var r=da(e,t);return r==null||typeof r.padding!="string"?0:TP(e,"yAxis",t,r.padding)},t9=$(ua,ZU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),r9=$(da,e9,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),n9=$([pt,t9,dh,uh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),a9=$([pt,he,r9,dh,uh,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Cc=(e,t,r,n)=>{var a;switch(t){case"xAxis":return n9(e,r,n);case"yAxis":return a9(e,r,n);case"zAxis":return(a=Uv(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return lP(e);case"radiusAxis":return cP(e,r);default:return}},IP=$([at,Cc],bh),Co=$([at,So,QU,IP],Zv);$([Sc,Sh,Ke],NP);function MP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ch=(e,t)=>t,kh=(e,t,r)=>r,s9=$(lh,Ch,kh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(MP)),i9=$(ch,Ch,kh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(MP)),RP=(e,t)=>({width:e.width,height:t.height}),o9=(e,t)=>{var r=typeof t.width=="number"?t.width:mc;return{width:r,height:e.height}},DP=$(pt,ua,RP),l9=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},c9=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},u9=$(oa,pt,s9,Ch,kh,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=RP(t,l);o==null&&(o=l9(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),d9=$(ia,pt,i9,Ch,kh,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=o9(t,l);o==null&&(o=c9(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),f9=(e,t)=>{var r=ua(e,t);if(r!=null)return u9(e,r.orientation,r.mirror)},h9=$([pt,ua,f9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),m9=(e,t)=>{var r=da(e,t);if(r!=null)return d9(e,r.orientation,r.mirror)},p9=$([pt,da,m9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),$P=$(pt,da,(e,t)=>{var r=typeof t.width=="number"?t.width:mc;return{width:r,height:e.height}}),F1=(e,t,r)=>{switch(t){case"xAxis":return DP(e,r).width;case"yAxis":return $P(e,r).height;default:return}},LP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Sn(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&xC(c))return c}},ny=$([he,_h,at,Ke],LP),FP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Sn(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},ay=$([he,_h,Nc,Ke],FP),B1=$([he,TU,So,Co,ny,ay,Cc,ty,Ke],(e,t,r,n,a,i,o,l,c)=>{if(t==null)return null;var u=Sn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}),g9=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var u=Sn(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=c==="angleAxis"&&i!=null&&i.length>=2?wt(i[0]-i[1])*2*g:g;var x=f||a;if(x){var y=x.map((b,j)=>{var v=o?o.indexOf(b):b;return{index:j,coordinate:n(v)+g,value:b,offset:g}});return y.filter(b=>!sr(b.coordinate))}return u&&l?l.map((b,j)=>({coordinate:n(b)+g,value:b,index:j,offset:g})):n.ticks?n.ticks(h).map(b=>({coordinate:n(b)+g,value:b,offset:g})):n.domain().map((b,j)=>({coordinate:n(b)+g,value:o?o[b]:b,index:j,offset:g}))}},BP=$([he,Nc,So,Co,ty,Cc,ny,ay,Ke],g9),x9=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Sn(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?wt(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},jn=$([he,Nc,Co,Cc,ny,ay,Ke],x9),Nn=$(at,Co,(e,t)=>{if(!(e==null||t==null))return Gd(Gd({},e),{},{scale:t})}),v9=$([at,So,Jv,IP],Zv);$((e,t,r)=>Uv(e,r),v9,(e,t)=>{if(!(e==null||t==null))return Gd(Gd({},e),{},{scale:t})});var y9=$([he,lh,ch],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),zP=e=>e.options.defaultTooltipEventType,UP=e=>e.options.validateTooltipEventTypes;function qP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function sy(e,t){var r=zP(e),n=UP(e);return qP(t,r,n)}function b9(e){return ne(t=>sy(t,e))}var WP=(e,t)=>{var r,n=Number(t);if(!(sr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},w9=e=>e.tooltip.settings,Ea={active:!1,index:null,dataKey:void 0,coordinate:void 0},j9={itemInteraction:{click:Ea,hover:Ea},axisInteraction:{click:Ea,hover:Ea},keyboardInteraction:Ea,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},VP=wr({name:"tooltip",initialState:j9,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=zn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:N9,removeTooltipEntrySettings:_9,setTooltipSettingsState:S9,setActiveMouseOverItemIndex:KP,mouseLeaveItem:C9,mouseLeaveChart:GP,setActiveClickItemIndex:k9,setMouseOverAxisIndex:HP,setMouseClickAxisIndex:E9,setSyncInteraction:Zg,setKeyboardInteraction:e0}=VP.actions,P9=VP.reducer;function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){A9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A9(e,t,r){return(t=O9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9(e){var t=T9(e,"string");return typeof t=="symbol"?t:t+""}function T9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I9(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function M9(e){return e.index!=null}var YP=(e,t,r,n)=>{if(t==null)return Ea;var a=I9(e,t,r);if(a==null)return Ea;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(M9(a)){if(i)return pu(pu({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return pu(pu({},Ea),{},{coordinate:a.coordinate})},iy=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Tt(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},XP=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},QP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},kc=e=>e.options.tooltipPayloadSearcher,ko=e=>e.tooltip;function U1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(r),!0).forEach(function(n){R9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9(e,t,r){return(t=D9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L9(e,t){return e??t}var JP=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:x,settings:y}=m,b=L9(x,l),j=Array.isArray(b)?Fk(b,u,d):b,v=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n,w=y==null?void 0:y.nameKey,N;if(n&&Array.isArray(j)&&!Array.isArray(j[0])&&o==="axis"?N=vC(j,n,a):N=i(j,t,c,w),Array.isArray(N))N.forEach(S=>{var C=q1(q1({},y),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(Pj({tooltipEntrySettings:C,dataKey:S.dataKey,payload:S.payload,value:_e(S.payload,S.dataKey),name:S.name}))});else{var _;h.push(Pj({tooltipEntrySettings:y,dataKey:v,payload:N,value:_e(N,v),name:(_=_e(N,w))!==null&&_!==void 0?_:y==null?void 0:y.name}))}return h},f)}},oy=$([_t,he,pP,Dv,vt],OP),F9=$([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),B9=$([vt,No],qv),Ec=$([F9,_t,B9],Wv),z9=$([Ec],e=>e.filter(Nh)),U9=$([Ec],Vv),Eo=$([U9,ls],Kv),q9=$([z9,ls,_t],fP),ly=$([Eo,_t,Ec],Hv),W9=$([_t],Yv),V9=$([Ec],e=>e.filter(Nh)),K9=$([q9,V9,wc],bP),G9=$([K9,ls,vt],wP),H9=$([Ec],xP),Y9=$([Eo,_t,H9,Sh,vt],jP),X9=$([_P,vt,No],_o),Q9=$([X9,vt],kP),J9=$([SP,vt,No],_o),Z9=$([J9,vt],EP),e7=$([CP,vt,No],_o),t7=$([e7,vt],PP),r7=$([Q9,t7,Z9],Hd),n7=$([_t,W9,G9,Y9,r7,he,vt],Xv),ZP=$([_t,he,Eo,ly,wc,vt,n7],Qv),a7=$([ZP,_t,oy],ey),s7=$([_t,ZP,a7,vt],ry),eA=e=>{var t=vt(e),r=No(e),n=!1;return Cc(e,t,r,n)},tA=$([_t,eA],bh),rA=$([_t,oy,s7,tA],Zv),i7=$([he,ly,_t,vt],LP),o7=$([he,ly,_t,vt],FP),l7=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,u=Sn(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?wt(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},fa=$([he,_t,oy,rA,eA,i7,o7,vt],l7),cy=$([zP,UP,w9],(e,t,r)=>qP(r.shared,e,t)),nA=e=>e.tooltip.settings.trigger,uy=e=>e.tooltip.settings.defaultIndex,Eh=$([ko,cy,nA,uy],YP),Ha=$([Eh,Eo],iy),aA=$([fa,Ha],WP),sA=$([Eh],e=>{if(e)return e.dataKey}),iA=$([ko,cy,nA,uy],QP),c7=$([ia,oa,he,pt,fa,uy,iA,kc],XP),u7=$([Eh,c7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),d7=$([Eh],e=>e.active),f7=$([iA,Ha,ls,dP,aA,kc,cy],JP),h7=$([f7],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){m7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7(e,t,r){return(t=p7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7(e){var t=g7(e,"string");return typeof t=="symbol"?t:t+""}function g7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x7=()=>ne(_t),v7=()=>{var e=x7(),t=ne(fa),r=ne(rA);return qs(V1(V1({},e),{},{scale:r}),t)},oA=()=>ne(Dv),dy=(e,t)=>t,lA=(e,t,r)=>r,fy=(e,t,r,n)=>n,y7=$(fa,e=>rh(e,t=>t.coordinate)),hy=$([ko,dy,lA,fy],YP),cA=$([hy,Eo],iy),b7=(e,t,r)=>{if(t!=null){var n=ko(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},uA=$([ko,dy,lA,fy],QP),Yd=$([ia,oa,he,pt,fa,fy,uA,kc],XP),w7=$([hy,Yd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),dA=$(fa,cA,WP),j7=$([uA,cA,ls,dP,dA,kc,dy],JP),N7=$([hy],e=>({isActive:e.active,activeIndex:e.index})),_7=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var c=XL(e.chartX,e.chartY,t,r,l);if(c){var u=JL(c,t),d=LL(u,o,i,n,a),f=QL(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){S7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S7(e,t,r){return(t=C7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E7(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,g;if(u==="ScatterChart")m=d,g=J8;else if(u==="BarChart")m=Z8(o,d,a,i),g=tE;else if(o==="radial"){var{cx:x,cy:y,radius:b,startAngle:j,endAngle:v}=rE(d);m={cx:x,cy:y,startAngle:j,endAngle:v,innerRadius:b,outerRadius:b},g=aE}else m={points:TF(o,d,a)},g=Ri;var w=typeof l=="object"&&"className"in l?l.className:void 0,N=gu(gu(gu(gu({stroke:"#ccc",pointerEvents:"none"},a),m),Fe(l,!1)),{},{payload:f,payloadIndex:h,className:me("recharts-tooltip-cursor",w)});return p.isValidElement(l)?p.cloneElement(l,N):p.createElement(g,N)}function P7(e){var t=v7(),r=Kk(),n=pc(),a=oA();return p.createElement(E7,t0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var fA=p.createContext(null),A7=()=>p.useContext(fA),hA={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var x=r?r+u:u;if(!this._events[x])return!1;var y=this._events[x],b=arguments.length,j,v;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(v=1,j=new Array(b-1);v<b;v++)j[v-1]=arguments[v];y.fn.apply(y.context,j)}else{var w=y.length,N;for(v=0;v<w;v++)switch(y[v].once&&this.removeListener(u,y[v].fn,void 0,!0),b){case 1:y[v].fn.call(y[v].context);break;case 2:y[v].fn.call(y[v].context,d);break;case 3:y[v].fn.call(y[v].context,d,f);break;case 4:y[v].fn.call(y[v].context,d,f,h);break;default:if(!j)for(N=1,j=new Array(b-1);N<b;N++)j[N-1]=arguments[N];y[v].fn.apply(y[v].context,j)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var x=0,y=[],b=g.length;x<b;x++)(g[x].fn!==d||h&&!g[x].once||f&&g[x].context!==f)&&y.push(g[x]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(hA);var O7=hA.exports;const T7=na(O7);var Zl=new T7,r0="recharts.syncEvent.tooltip",G1="recharts.syncEvent.brush";function Ph(e,t){if(t){var r=Number.parseInt(t,10);if(!sr(r))return e==null?void 0:e[r]}}var I7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mA=wr({name:"options",initialState:I7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),M7=mA.reducer,{createEventEmitter:R7}=mA.actions;function D7(e){return e.tooltip.syncInteraction}var $7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},pA=wr({name:"chartData",initialState:$7,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:H1,setDataStartEndIndexes:L7,setComputedData:kJ}=pA.actions,F7=pA.reducer,B7=["x","y"];function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z7(e,t,r){return(t=U7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W7(e,t){if(e==null)return{};var r,n,a=V7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gA=()=>{};function K7(){var e=ne($v),t=ne(Lv),r=Xe(),n=ne(sP),a=ne(fa),i=pc(),o=iv(),l=ne(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return gA;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var m=d.payload.coordinate,{x:g,y:x}=m,y=W7(m,B7),b=ds(ds(ds({},y),typeof g=="number"&&{x:Math.max(o.x,Math.min(g,o.x+o.width))}),typeof x=="number"&&{y:Math.max(o.y,Math.min(x,o.y+o.height))}),j=ds(ds({},d),{},{payload:ds(ds({},d.payload),{},{coordinate:b})});r(j)}else r(d);return}if(a!=null){var v;if(typeof n=="function"){var w={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=n(a,w);v=a[N]}else n==="value"&&(v=a.find(F=>String(F.value)===d.payload.label));var{coordinate:_}=d.payload;if(v==null||d.payload.active===!1||_==null||o==null){r(Zg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:C}=_,T=Math.min(S,o.x+o.width),O=Math.min(C,o.y+o.height),P={x:i==="horizontal"?v.coordinate:T,y:i==="horizontal"?O:v.coordinate},A=Zg({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(v.index),label:d.payload.label});r(A)}}};return Zl.on(r0,c),()=>{Zl.off(r0,c)}},[l,r,t,e,n,a,i,o])}function G7(){var e=ne($v),t=ne(Lv),r=Xe();p.useEffect(()=>{if(e==null)return gA;var n=(a,i,o)=>{t!==o&&e===a&&r(L7(i))};return Zl.on(G1,n),()=>{Zl.off(G1,n)}},[r,t,e])}function H7(){var e=Xe();p.useEffect(()=>{e(R7())},[e]),K7(),G7()}function Y7(e,t,r,n,a,i){var o=ne(h=>b7(h,e,t)),l=ne(Lv),c=ne($v),u=ne(sP),d=ne(D7),f=d==null?void 0:d.active;p.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Zg({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n});Zl.emit(r0,c,h,l)}},[f,r,o,a,n,l,c,u,i])}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){X7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X7(e,t,r){return(t=Q7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=J7(e,"string");return typeof t=="symbol"?t:t+""}function J7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z7(e){return e.dataKey}function eq(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(A8,t)}var J1=[],tq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!la.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xu(e){var t=gt(e,tq),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:g,cursor:x,shared:y,trigger:b,defaultIndex:j,portal:v,axisId:w}=t,N=Xe(),_=typeof j=="number"?String(j):j;p.useEffect(()=>{N(S9({shared:y,trigger:b,axisId:w,active:r,defaultIndex:_}))},[N,y,b,w,r,_]);var S=iv(),C=Xk(),T=b9(y),{activeIndex:O,isActive:P}=ne(Se=>N7(Se,T,b,_)),A=ne(Se=>j7(Se,T,b,_)),F=ne(Se=>dA(Se,T,b,_)),z=ne(Se=>w7(Se,T,b,_)),q=A,E=A7(),k=r??P,[R,B]=hk([q,k]),V=T==="axis"?F:void 0;Y7(T,b,z,V,O,k);var X=v??E;if(X==null)return null;var Q=q??J1;k||(Q=J1),l&&Q.length&&(Q=tk(q.filter(Se=>Se.value!=null&&(Se.hide!==!0||t.includeHidden)),d,Z7));var Be=Q.length>0,Pe=p.createElement($8,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:k,coordinate:z,hasPayload:Be,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:S,wrapperStyle:g,lastBoundingBox:R,innerRef:B,hasPortalFromProps:!!v},eq(o,Q1(Q1({},t),{},{payload:Q,label:V,active:k,coordinate:z,accessibilityLayer:C})));return p.createElement(p.Fragment,null,ux.createPortal(Pe,X),k&&p.createElement(P7,{cursor:x,tooltipEventType:T,coordinate:z,payload:q,index:O}))}var xA={},vA={},yA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{g(),o=void 0,l=null},y=()=>{d()},b=function(...j){if(a!=null&&a.aborted)return;o=this,l=j;const v=h==null;m(),c&&v&&d()};return b.schedule=m,b.cancel=x,b.flush=y,a==null||a.addEventListener("abort",x,{once:!0}),b}e.debounce=t})(yA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yA;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(vA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vA;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(xA);var rq=xA.throttle;const nq=na(rq);var vl=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(r),!0).forEach(function(n){aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aq(e,t,r){return(t=sq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vu=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,x=p.useRef(null),y=p.useRef();y.current=m,p.useImperativeHandle(t,()=>x.current);var[b,j]=p.useState({containerWidth:n.width,containerHeight:n.height}),v=p.useCallback((N,_)=>{j(S=>{var C=Math.round(N),T=Math.round(_);return S.containerWidth===C&&S.containerHeight===T?S:{containerWidth:C,containerHeight:T}})},[]);p.useEffect(()=>{var N=T=>{var O,{width:P,height:A}=T[0].contentRect;v(P,A),(O=y.current)===null||O===void 0||O.call(y,P,A)};d>0&&(N=nq(N,d,{trailing:!0,leading:!1}));var _=new ResizeObserver(N),{width:S,height:C}=x.current.getBoundingClientRect();return v(S,C),_.observe(x.current),()=>{_.disconnect()}},[v,d]);var w=p.useMemo(()=>{var{containerWidth:N,containerHeight:_}=b;if(N<0||_<0)return null;vl(js(a)||js(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),vl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var S=js(a)?N:a,C=js(i)?_:i;return r&&r>0&&(S?C=S/r:C&&(S=C*r),c&&C>c&&(C=c)),vl(S>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,C,a,i,o,l,r),p.Children.map(u,T=>p.cloneElement(T,{width:S,height:C,style:Ym({width:S,height:C},T.props.style)}))},[r,u,i,c,l,o,b,a]);return p.createElement("div",{id:f?"".concat(f):void 0,className:me("recharts-responsive-container",h),style:Ym(Ym({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:x},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),Pc=e=>null;Pc.displayName="Cell";function oq(e,t,r){return(t=lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uq{constructor(t){oq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t,r){return(t=hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pq={cacheSize:2e3,enableCache:!0},bA=dq({},pq),tN=new uq(bA.cacheSize),gq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rN="recharts_measurement_span";function xq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var nN=(e,t)=>{try{var r=document.getElementById(rN);r||(r=document.createElement("span"),r.setAttribute("id",rN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,gq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},yl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||la.isSsr)return{width:0,height:0};if(!bA.enableCache)return nN(t,r);var n=xq(t,r),a=tN.get(n);if(a)return a;var i=nN(t,r);return tN.set(n,i),i},aN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bq=Object.keys(wA),Si="NaN";function wq(e,t){return e*wA[t]}class Xt{static parse(t){var r,[,n,a]=(r=yq.exec(t))!==null&&r!==void 0?r:[];return new Xt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,sr(t)&&(this.unit=""),r!==""&&!vq.test(r)&&(this.num=NaN,this.unit=""),bq.includes(r)&&(this.num=wq(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return sr(this.num)}}function jA(e){if(e.includes(Si))return Si;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=aN.exec(t))!==null&&r!==void 0?r:[],o=Xt.parse(n??""),l=Xt.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Si;t=t.replace(aN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=sN.exec(t))!==null&&u!==void 0?u:[],m=Xt.parse(d??""),g=Xt.parse(h??""),x=f==="+"?m.add(g):m.subtract(g);if(x.isNaN())return Si;t=t.replace(sN,x.toString())}return t}var iN=/\(([^()]*)\)/;function jq(e){for(var t=e,r;(r=iN.exec(t))!=null;){var[,n]=r;t=t.replace(iN,jA(n))}return t}function Nq(e){var t=e.replace(/\s+/g,"");return t=jq(t),t=jA(t),t}function _q(e){try{return Nq(e)}catch{return Si}}function Xm(e){var t=_q(e.slice(5,-1));return t===Si?"":t}var Sq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Cq=["dx","dy","angle","className","breakAll"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}function oN(e,t){if(e==null)return{};var r,n,a=kq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NA=/[ \f\n\r\t\v\u2028\u2029]+/,_A=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Le(t)||(r?a=t.toString().split(""):a=t.toString().split(NA));var i=a.map(l=>({word:l,width:yl(l,n).width})),o=r?0:yl(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},Eq=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=ae(i),d=o,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((A,F)=>{var{word:z,width:q}=F,E=A[A.length-1];if(E&&(n==null||a||E.width+q+r<Number(n)))E.words.push(z),E.width+=q+r;else{var k={words:[z],width:q};A.push(k)}return A},[])},h=f(t),m=O=>O.reduce((P,A)=>P.width>A.width?P:A);if(!u||a)return h;var g=h.length>i||m(h).width>Number(n);if(!g)return h;for(var x="…",y=O=>{var P=d.slice(0,O),A=_A({breakAll:c,style:l,children:P+x}).wordsWithComputedWidth,F=f(A),z=F.length>i||m(F).width>Number(n);return[z,F]},b=0,j=d.length-1,v=0,w;b<=j&&v<=d.length-1;){var N=Math.floor((b+j)/2),_=N-1,[S,C]=y(_),[T]=y(N);if(!S&&!T&&(b=N+1),S&&T&&(j=N-1),!S&&T){w=C;break}v++}return w||h},lN=e=>{var t=Le(e)?[]:e.toString().split(NA);return[{words:t}]},Pq=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!la.isSsr){var l,c,u=_A({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return lN(n);return Eq({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return lN(n)},cN="#808080",Ah=p.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=cN}=e,d=oN(e,Sq),f=p.useMemo(()=>Pq({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:m,angle:g,className:x,breakAll:y}=d,b=oN(d,Cq);if(!bn(r)||!bn(n)||f.length===0)return null;var j=r+(ae(h)?h:0),v=n+(ae(m)?m:0),w;switch(c){case"start":w=Xm("calc(".concat(i,")"));break;case"middle":w=Xm("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:w=Xm("calc(".concat(f.length-1," * -").concat(a,")"));break}var N=[];if(o){var _=f[0].width,{width:S}=d;N.push("scale(".concat(ae(S)?S/_:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(j,", ").concat(v,")")),N.length&&(b.transform=N.join(" ")),p.createElement("text",n0({},Fe(b,!0),{ref:t,x:j,y:v,className:me("recharts-text",x),textAnchor:l,fill:u.includes("url")?cN:u}),f.map((C,T)=>{var O=C.words.join(y?"":" ");return p.createElement("tspan",{x:j,dy:T===0?w:a,key:"".concat(O,"-").concat(T)},O)}))});Ah.displayName="Text";var Aq=["labelRef"];function Oq(e,t){if(e==null)return{};var r,n,a=Tq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){Iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iq(e,t,r){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mq(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}function Rq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},In.apply(null,arguments)}var SA=p.createContext(null),Dq=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,o=p.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return p.createElement(SA.Provider,{value:o},i)},CA=()=>{var e=p.useContext(SA),t=iv();return e||t},$q=p.createContext(null),Lq=()=>{var e=p.useContext($q),t=ne(uP);return e||t},Fq=e=>{var{value:t,formatter:r}=e,n=Le(e.children)?t:e.children;return typeof r=="function"?r(n):n},my=e=>e!=null&&typeof e=="function",Bq=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},zq=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,g=(u+d)/2,x=Bq(f,h),y=x>=0?1:-1,b,j;switch(t){case"insideStart":b=f+y*i,j=m;break;case"insideEnd":b=h-y*i,j=!m;break;case"end":b=h+y*i,j=m;break;default:throw new Error("Unsupported position ".concat(t))}j=x<=0?j:!j;var v=it(l,c,g,b),w=it(l,c,g,b+(j?1:-1)*359),N="M".concat(v.x,",").concat(v.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(w.x,",").concat(w.y),_=Le(e.id)?ql("recharts-radial-line-"):e.id;return p.createElement("text",In({},n,{dominantBaseline:"central",className:me("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:_,d:N})),p.createElement("textPath",{xlinkHref:"#".concat(_)},r))},Uq=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=it(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:g}=it(n,a,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},kA=e=>"cx"in e&&ae(e.cx),qq=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!kA(r)&&(i=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",g=c>=0?1:-1,x=g*n,y=g>0?"end":"start",b=g>0?"start":"end";if(a==="top"){var j={x:o+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return et(et({},j),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var v={x:o+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return et(et({},v),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(a==="left"){var w={x:o-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return et(et({},w),i?{width:Math.max(w.x-i.x,0),height:u}:{})}if(a==="right"){var N={x:o+c+x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return et(et({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:u}:{})}var _=i?{width:c,height:u}:{};return a==="insideLeft"?et({x:o+x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideRight"?et({x:o+c-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideTop"?et({x:o+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},_):a==="insideBottom"?et({x:o+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},_):a==="insideTopLeft"?et({x:o+x,y:l+f,textAnchor:b,verticalAnchor:m},_):a==="insideTopRight"?et({x:o+c-x,y:l+f,textAnchor:y,verticalAnchor:m},_):a==="insideBottomLeft"?et({x:o+x,y:l+u-f,textAnchor:b,verticalAnchor:h},_):a==="insideBottomRight"?et({x:o+c-x,y:l+u-f,textAnchor:y,verticalAnchor:h},_):a&&typeof a=="object"&&(ae(a.x)||js(a.x))&&(ae(a.y)||js(a.y))?et({x:o+Ft(a.x,c),y:l+Ft(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):et({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Wq={offset:5};function _a(e){var t=gt(e,Wq),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=Lq(),f=CA(),h=n==="center"?f:d??f,m=r||h;if(!m||Le(a)&&Le(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var g=et(et({},t),{},{viewBox:m});if(p.isValidElement(o)){var{labelRef:x}=g,y=Oq(g,Aq);return p.cloneElement(o,y)}var b;if(typeof o=="function"){if(b=p.createElement(o,g),p.isValidElement(b))return b}else b=Fq(t);var j=kA(m),v=Fe(t,!0);if(j&&(n==="insideStart"||n==="insideEnd"||n==="end"))return zq(t,n,b,v,m);var w=j?Uq(m,t.offset,t.position):qq(t,m);return p.createElement(Ah,In({ref:u,className:me("recharts-label",l)},v,w,{breakAll:c}),b)}_a.displayName="Label";var Vq=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(_a,In({key:"label-implicit"},n)):bn(e)?p.createElement(_a,In({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===_a?p.cloneElement(e,et({key:"label-implicit"},n)):p.createElement(_a,In({key:"label-implicit",content:e},n)):my(e)?p.createElement(_a,In({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(_a,In({},e,{key:"label-implicit"},n)):null};function Kq(e){var{label:t}=e,r=CA();return Vq(t,r)||null}var EA={},PA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(PA);var AA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(AA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PA,r=AA,n=eh;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(EA);var Gq=EA.last;const Hq=na(Gq);var Yq=["valueAccessor"],Xq=["dataKey","clockWise","id","textBreakAll"];function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(null,arguments)}function dN(e,t){if(e==null)return{};var r,n,a=Qq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jq=e=>Array.isArray(e.value)?Hq(e.value):e.value,OA=p.createContext(void 0),py=OA.Provider,TA=p.createContext(void 0),Zq=TA.Provider;function eW(){return p.useContext(OA)}function tW(){return p.useContext(TA)}function Du(e){var{valueAccessor:t=Jq}=e,r=dN(e,Yq),{dataKey:n,clockWise:a,id:i,textBreakAll:o}=r,l=dN(r,Xq),c=eW(),u=tW(),d=c||u;return!d||!d.length?null:p.createElement(Je,{className:"recharts-label-list"},d.map((f,h)=>{var m,g=Le(n)?t(f,h):_e(f&&f.payload,n),x=Le(i)?{}:{id:"".concat(i,"-").concat(h)};return p.createElement(_a,Xd({},Fe(f,!0),l,x,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:g,textBreakAll:o,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}Du.displayName="LabelList";function Oh(e){var{label:t}=e;return t?t===!0?p.createElement(Du,{key:"labelList-implicit"}):p.isValidElement(t)||my(t)?p.createElement(Du,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Du,Xd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}var gy=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=me("recharts-dot",a);return t===+t&&r===+r&&n===+n?p.createElement("circle",a0({},Ur(e),Ix(e),{className:i,cx:t,cy:r,r:n})):null},IA=e=>e.graphicalItems.polarItems,rW=$([Ke,jc],qv),xy=$([IA,at,rW],Wv),nW=$([xy],Vv),vy=$([nW,Iv],Kv),aW=$([vy,at,xy],Hv),sW=$([vy,at,xy],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=_e(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:_e(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),fN=()=>{},iW=$([at,AP,fN,sW,fN,he,Ke],Xv),MA=$([at,he,vy,aW,wc,Ke,iW],Qv),oW=$([MA,at,So],ey);$([at,MA,oW,Ke],ry);var lW={radiusAxis:{},angleAxis:{}},RA=wr({name:"polarAxis",initialState:lW,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:EJ,removeRadiusAxis:PJ,addAngleAxis:AJ,removeAngleAxis:OJ}=RA.actions,cW=RA.reducer;function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){uW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uW(e,t,r){return(t=dW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hW=(e,t)=>t,yy=$([IA,hW],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),mW=[],by=(e,t,r)=>(r==null?void 0:r.length)===0?mW:r,DA=$([Iv,yy,by],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>mN(mN({},t.presentationProps),i.props))),a!=null)return a}}),pW=$([DA,yy,by],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=_e(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:ss(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),gW=$([DA,yy,by,pt],(e,t,r,n)=>{if(!(t==null||e==null))return dV({offset:n,pieSettings:t,displayedData:e,cells:r})}),$A={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})($A);var xW=$A.isPlainObject;const vW=na(xW);function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){yW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yW(e,t,r){return(t=bW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qd.apply(null,arguments)}var xN=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},jW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NW=e=>{var t=gt(e,jW),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(),[m,g]=p.useState(-1),x=p.useRef(a),y=p.useRef(i),b=p.useRef(o),j=p.useRef(r),v=p.useRef(n),w=yo(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var z=h.current.getTotalLength();z&&g(z)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var N=me("recharts-trapezoid",l);if(!f)return p.createElement("g",null,p.createElement("path",Qd({},Fe(t,!0),{className:N,d:xN(r,n,a,i,o)})));var _=x.current,S=y.current,C=b.current,T=j.current,O=v.current,P="0px ".concat(m===-1?1:m,"px"),A="".concat(m,"px 0px"),F=Qk(["strokeDasharray"],u,c);return p.createElement(vo,{animationId:w,key:w,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},z=>{var q=Ne(_,a,z),E=Ne(S,i,z),k=Ne(C,o,z),R=Ne(T,r,z),B=Ne(O,n,z);h.current&&(x.current=q,y.current=E,b.current=k,j.current=R,v.current=B);var V=z>0?{transition:F,strokeDasharray:A}:{strokeDasharray:P};return p.createElement("path",Qd({},Fe(t,!0),{className:N,d:xN(R,B,q,E,k),ref:h,style:gN(gN({},V),t.style)}))})},_W=["option","shapeType","propTransformer","activeClassName","isActive"];function SW(e,t){if(e==null)return{};var r,n,a=CW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return(t=EW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AW(e,t){return Jd(Jd({},t),e)}function OW(e,t){return e==="symbols"}function yN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(tE,r);case"trapezoid":return p.createElement(NW,r);case"sector":return p.createElement(aE,r);case"symbols":if(OW(t))return p.createElement(Fx,r);break;default:return null}}function TW(e){return p.isValidElement(e)?e.props:e}function LA(e){var{option:t,shapeType:r,propTransformer:n=AW,activeClassName:a="recharts-active-shape",isActive:i}=e,o=SW(e,_W),l;if(p.isValidElement(t))l=p.cloneElement(t,Jd(Jd({},o),TW(t)));else if(typeof t=="function")l=t(o);else if(vW(t)&&typeof t!="boolean"){var c=n(t,o);l=p.createElement(yN,{shapeType:r,elementProps:c})}else{var u=o;l=p.createElement(yN,{shapeType:r,elementProps:u})}return i?p.createElement(Je,{className:a},l):l}var wy=(e,t)=>{var r=Xe();return(n,a)=>i=>{e==null||e(n,a,i),r(KP({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},jy=e=>{var t=Xe();return(r,n)=>a=>{e==null||e(r,n,a),t(C9())}},Ny=(e,t)=>{var r=Xe();return(n,a)=>i=>{e==null||e(n,a,i),r(k9({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Th(e){var{fn:t,args:r}=e,n=Xe(),a=zt();return p.useEffect(()=>{if(!a){var i=t(r);return n(N9(i)),()=>{n(_9(i))}}},[t,r,n,a]),null}var FA=()=>{};function _y(e){var{legendPayload:t}=e,r=Xe(),n=zt();return p.useEffect(()=>n?FA:(r(Hk(t)),()=>{r(Yk(t))}),[r,n,t]),null}function IW(e){var{legendPayload:t}=e,r=Xe(),n=ne(he);return p.useEffect(()=>n!=="centric"&&n!=="radial"?FA:(r(Hk(t)),()=>{r(Yk(t))}),[r,n,t]),null}var Qm,MW=()=>{var[e]=p.useState(()=>ql("uid-"));return e},RW=(Qm=df.useId)!==null&&Qm!==void 0?Qm:MW;function DW(e,t){var r=RW();return t||(e?"".concat(e,"-").concat(r):r)}var $W=p.createContext(void 0),Ih=e=>{var{id:t,type:r,children:n}=e,a=DW("recharts-".concat(r),t);return p.createElement($W.Provider,{value:a},n(a))},LW={cartesianItems:[],polarItems:[]},BA=wr({name:"graphicalItems",initialState:LW,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=zn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=zn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=zn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:FW,replaceCartesianGraphicalItem:BW,removeCartesianGraphicalItem:zW,addPolarGraphicalItem:UW,removePolarGraphicalItem:qW}=BA.actions,WW=BA.reducer;function Sy(e){var t=Xe(),r=p.useRef(null);return p.useEffect(()=>{r.current===null?t(FW(e)):r.current!==e&&t(BW({prev:r.current,next:e})),r.current=e},[t,e]),p.useEffect(()=>()=>{r.current&&(t(zW(r.current)),r.current=null)},[t]),null}function VW(e){var t=Xe();return p.useEffect(()=>(t(UW(e)),()=>{t(qW(e))}),[t,e]),null}var KW=["onMouseEnter","onClick","onMouseLeave"],GW=["id"],HW=["id"];function Cy(e,t){if(e==null)return{};var r,n,a=YW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){XW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XW(e,t,r){return(t=QW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=JW(e,"string");return typeof t=="symbol"?t:t+""}function JW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ya.apply(null,arguments)}function ZW(e){var t=p.useMemo(()=>Mx(e.children,Pc),[e.children]),r=ne(n=>pW(n,e.id,t));return r==null?null:p.createElement(IW,{legendPayload:r})}function eV(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:ss(l,t),hide:c,type:u,color:o,unit:""}}}var tV=(e,t)=>e>t?"start":e<t?"end":"middle",rV=(e,t,r)=>Ft(typeof t=="function"?t(e):t,r,r*.8),nV=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=Lk(i,o),c=a+Ft(e.cx,i,i/2),u=n+Ft(e.cy,o,o/2),d=Ft(e.innerRadius,l,0),f=rV(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},aV=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function sV(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var iV=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=me("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(Ri,Ya({},t,{type:"linear",className:r}))},oV=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var a=me("recharts-pie-label-text",sV(e));return p.createElement(Ah,Ya({},t,{alignmentBaseline:"middle",className:a}),n)};function lV(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=Ur(r),c=Fe(a,!1),u=Fe(i,!1),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,x=it(h.cx,h.cy,h.outerRadius+d,g),y=Ue(Ue(Ue(Ue({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:tV(x.x,h.cx)},x),b=Ue(Ue(Ue(Ue({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[it(h.cx,h.cy,h.outerRadius,g),x],key:"line"});return p.createElement(Je,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},i&&iV(i,b),oV(a,y,_e(h,o)))});return p.createElement(Je,{className:"recharts-pie-labels"},f)}function cV(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?p.createElement(Oh,{label:a}):p.createElement(lV,{sectors:t,props:r,showLabels:n})}function uV(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=ne(Ha),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=Cy(a,KW),d=wy(o,a.dataKey),f=jy(c),h=Ny(l,a.dataKey);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((m,g)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var x=r&&String(g)===i,y=i?n:null,b=x?r:y,j=Ue(Ue({},m),{},{stroke:m.stroke,tabIndex:-1,[Wk]:g,[Vk]:a.dataKey});return p.createElement(Je,Ya({tabIndex:-1,className:"recharts-pie-sector"},dc(u,m,g),{onMouseEnter:d(m,g),onMouseLeave:f(m,g),onClick:h(m,g),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(g)}),p.createElement(LA,Ya({option:b,isActive:x,shapeType:"sector"},j)))}))}function dV(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=aV(l,c),g=Math.abs(m),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(_=>_e(_,u,0)!==0).length,b=(g>=360?y:y-1)*x,j=g-y*h-b,v=n.reduce((_,S)=>{var C=_e(S,u,0);return _+(ae(C)?C:0)},0),w;if(v>0){var N;w=n.map((_,S)=>{var C=_e(_,u,0),T=_e(_,d,S),O=nV(r,i,_),P=(ae(C)?C:0)/v,A,F=Ue(Ue({},_),a&&a[S]&&a[S].props);S?A=N.endAngle+wt(m)*x*(C!==0?1:0):A=l;var z=A+wt(m)*((C!==0?h:0)+P*j),q=(A+z)/2,E=(O.innerRadius+O.outerRadius)/2,k=[{name:T,value:C,payload:F,dataKey:u,type:f}],R=it(O.cx,O.cy,E,q);return N=Ue(Ue(Ue(Ue({},r.presentationProps),{},{percent:P,cornerRadius:o,name:T,tooltipPayload:k,midAngle:q,middleRadius:E,tooltipPosition:R},F),O),{},{value:C,startAngle:A,endAngle:z,payload:F,paddingAngle:wt(m)*x}),N})}return w}function fV(e){var{showLabels:t,sectors:r,children:n}=e,a=p.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return p.createElement(Zq,{value:t?a:void 0},n)}function hV(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=yo(t,"recharts-pie-"),m=r.current,[g,x]=p.useState(!1),y=p.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),b=p.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return p.createElement(fV,{showLabels:!g,sectors:n},p.createElement(vo,{animationId:h,begin:i,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:y,key:h},j=>{var v=[],w=n&&n[0],N=w==null?void 0:w.startAngle;return n==null||n.forEach((_,S)=>{var C=m&&m[S],T=S>0?Bs(_,"paddingAngle",0):0;if(C){var O=Ne(C.endAngle-C.startAngle,_.endAngle-_.startAngle,j),P=Ue(Ue({},_),{},{startAngle:N+T,endAngle:N+O+T});v.push(P),N=P.endAngle}else{var{endAngle:A,startAngle:F}=_,z=Ne(0,A-F,j),q=Ue(Ue({},_),{},{startAngle:N+T,endAngle:N+z+T});v.push(q),N=q.endAngle}}),r.current=v,p.createElement(Je,null,p.createElement(uV,{sectors:v,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),p.createElement(cV,{showLabels:!g,sectors:n,props:t}),t.children)}var mV={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!la.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function pV(e){var{id:t}=e,r=Cy(e,GW),{hide:n,className:a,rootTabIndex:i}=e,o=p.useMemo(()=>Mx(e.children,Pc),[e.children]),l=ne(d=>gW(d,t,o)),c=p.useRef(null),u=me("recharts-pie",a);return n||l==null?(c.current=null,p.createElement(Je,{tabIndex:i,className:u})):p.createElement(p.Fragment,null,p.createElement(Th,{fn:eV,args:Ue(Ue({},e),{},{sectors:l})}),p.createElement(Je,{tabIndex:i,className:u},p.createElement(hV,{props:Ue(Ue({},r),{},{sectors:l}),previousSectorsRef:c})))}function zA(e){var t=gt(e,mV),{id:r}=t,n=Cy(t,HW),a=Ur(n);return p.createElement(Ih,{id:r,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(VW,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),p.createElement(ZW,Ya({},n,{id:i})),p.createElement(pV,Ya({},n,{id:i}))))}zA.displayName="Pie";function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){gV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gV(e,t,r){return(t=xV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yV={xAxis:{},yAxis:{},zAxis:{}},UA=wr({name:"cartesianAxis",initialState:yV,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=jN(jN({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:bV,removeXAxis:wV,addYAxis:jV,removeYAxis:NV,addZAxis:TJ,removeZAxis:IJ,updateYAxisWidth:_V}=UA.actions,SV=UA.reducer,CV=$([pt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),kV=$([CV,ia,oa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Mh=()=>ne(kV),EV=()=>ne(h7);function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){PV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PV(e,t,r){return(t=AV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=OV(e,"string");return typeof t=="symbol"?t:t+""}function OV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TV=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=_N(_N({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Fe(a,!1)),Ix(a)),l;return p.isValidElement(a)?l=p.cloneElement(a,o):typeof a=="function"?l=a(o):l=p.createElement(gy,o),p.createElement(Je,{className:"recharts-active-dot"},l)};function s0(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=ne(Ha),o=EV();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return Le(l)?null:TV({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var IV="Invariant failed";function MV(e,t){throw new Error(IV)}var RV=["x","y"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){DV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DV(e,t,r){return(t=$V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=LV(e,"string");return typeof t=="symbol"?t:t+""}function LV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FV(e,t){if(e==null)return{};var r,n,a=BV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zV(e,t){var{x:r,y:n}=e,a=FV(e,RV),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Ho(Ho(Ho(Ho(Ho({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function ky(e){return p.createElement(LA,i0({shapeType:"rectangle",propTransformer:zV,activeClassName:"recharts-active-bar"},e))}var UV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ae(t))return t;var i=ae(n)||Le(n);return i?t(n,a):(i||MV(),r)}},qV={},qA=wr({name:"errorBars",initialState:qV,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:MJ,replaceErrorBar:RJ,removeErrorBar:DJ}=qA.actions,WV=qA.reducer,VV=["children"];function KV(e,t){if(e==null)return{};var r,n,a=GV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HV={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},YV=p.createContext(HV);function WA(e){var{children:t}=e,r=KV(e,VV);return p.createElement(YV.Provider,{value:r},t)}function Rh(e,t){var r,n,a=ne(u=>ua(u,e)),i=ne(u=>da(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ir.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:or.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function Ey(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Mh(),{needClipX:i,needClipY:o,needClip:l}=Rh(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var XV=["onMouseEnter","onMouseLeave","onClick"],QV=["value","background","tooltipPosition"],JV=["id"],ZV=["onMouseEnter","onClick","onMouseLeave"];function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(null,arguments)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){eK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eK(e,t,r){return(t=tK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zd(e,t){if(e==null)return{};var r,n,a=nK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aK=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ss(r,t),payload:e}]};function sK(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:ss(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function iK(e){var t=ne(Ha),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=Zd(i,XV),d=wy(o,n),f=jy(l),h=Ny(c,n);if(!a||r==null)return null;var m=Fe(a,!1);return p.createElement(p.Fragment,null,r.map((g,x)=>{var{value:y,background:b,tooltipPosition:j}=g,v=Zd(g,QV);if(!b)return null;var w=d(g,x),N=f(g,x),_=h(g,x),S=Wt(Wt(Wt(Wt(Wt({option:a,isActive:String(x)===t},v),{},{fill:"#eee"},b),m),dc(u,g,x)),{},{onMouseEnter:w,onMouseLeave:N,onClick:_,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return p.createElement(ky,Xa({key:"background-bar-".concat(S.index)},S))}))}function oK(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Wt(Wt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(py,{value:t?a:void 0},r)}function lK(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=ne(Ha),c=ne(sA),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return p.createElement(ky,Xa({},n,a,{isActive:u,option:d,index:i,dataKey:o}))}function cK(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return p.createElement(ky,Xa({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function uK(e){var{data:t,props:r}=e,n=Ur(r),{id:a}=n,i=Zd(n,JV),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:f}=r,h=Zd(r,ZV),m=wy(u,l),g=jy(f),x=Ny(d,l);return t?p.createElement(p.Fragment,null,t.map((y,b)=>p.createElement(Je,Xa({className:"recharts-bar-rectangle"},dc(h,y,b),{onMouseEnter:m(y,b),onMouseLeave:g(y,b),onClick:x(y,b),key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(b)}),c?p.createElement(lK,{shape:o,activeBar:c,baseProps:i,entry:y,index:b,dataKey:l}):p.createElement(cK,{shape:o,baseProps:i,entry:y,index:b,dataKey:l})))):null}function dK(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=yo(t,"recharts-bar-"),[m,g]=p.useState(!1),x=!m,y=p.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),b=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(oK,{showLabels:x,rects:n},p.createElement(vo,{animationId:h,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:y,onAnimationStart:b,key:h},j=>{var v=j===1?n:n==null?void 0:n.map((w,N)=>{var _=f&&f[N];if(_)return Wt(Wt({},w),{},{x:Ne(_.x,w.x,j),y:Ne(_.y,w.y,j),width:Ne(_.width,w.width,j),height:Ne(_.height,w.height,j)});if(a==="horizontal"){var S=Ne(0,w.height,j);return Wt(Wt({},w),{},{y:w.y+w.height-S,height:S})}var C=Ne(0,w.width,j);return Wt(Wt({},w),{},{width:C})});return j>0&&(r.current=v??null),v==null?null:p.createElement(Je,null,p.createElement(uK,{props:t,data:v}))}),p.createElement(Oh,{label:t.label}),t.children)}function fK(e){var t=p.useRef(null);return p.createElement(dK,{previousRectanglesRef:t,props:e})}var VA=0,hK=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:_e(e,t)}};class mK extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=me("recharts-bar",a),f=u;return p.createElement(Je,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(Ey,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(Je,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(iK,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(fK,this.props)))}}var pK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!la.isSsr,legendType:"rect",minPointSize:VA,xAxisId:0,yAxisId:0};function gK(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Rh(t,r),h=pc(),m=zt(),g=Mx(e.children,Pc),x=ne(j=>WK(j,t,r,m,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var y,b=x==null?void 0:x[0];return b==null||b.height==null||b.width==null?y=0:y=h==="vertical"?b.height/2:b.width/2,p.createElement(WA,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:hK,errorBarOffset:y},p.createElement(mK,Xa({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function xK(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g}=e,x=t==="horizontal"?l:o,y=d?x.scale.domain():null,b=KL({numericAxis:x});return f.map((j,v)=>{var w,N,_,S,C,T;d?w=zL(d[v],y):(w=_e(j,r),Array.isArray(w)||(w=[b,w]));var O=UV(n,VA)(w[1],v);if(t==="horizontal"){var P,[A,F]=[l.scale(w[0]),l.scale(w[1])];N=Cj({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:j,index:v}),_=(P=F??A)!==null&&P!==void 0?P:void 0,S=a.size;var z=A-F;if(C=sr(z)?0:z,T={x:N,y:h.top,width:S,height:h.height},Math.abs(O)>0&&Math.abs(C)<Math.abs(O)){var q=wt(C||O)*(Math.abs(O)-Math.abs(C));_-=q,C+=q}}else{var[E,k]=[o.scale(w[0]),o.scale(w[1])];if(N=E,_=Cj({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:j,index:v}),S=k-E,C=a.size,T={x:h.left,y:_,width:h.width,height:C},Math.abs(O)>0&&Math.abs(S)<Math.abs(O)){var R=wt(S||O)*(Math.abs(O)-Math.abs(S));S+=R}}if(N==null||_==null||S==null||C==null)return null;var B=Wt(Wt({},j),{},{x:N,y:_,width:S,height:C,value:d?w:w[1],payload:j,background:T,tooltipPosition:{x:N+S/2,y:_+C/2},parentViewBox:g},m&&m[v]&&m[v].props);return B}).filter(Boolean)}function vK(e){var t=gt(e,pK),r=zt();return p.createElement(Ih,{id:t.id,type:"bar"},n=>p.createElement(p.Fragment,null,p.createElement(_y,{legendPayload:aK(t)}),p.createElement(Th,{fn:sK,args:t}),p.createElement(Sy,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Uk(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(gK,Xa({},t,{id:n}))))}var KA=p.memo(vK);KA.displayName="Bar";function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){yK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yK(e,t,r){return(t=bK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=wK(e,"string");return typeof t=="symbol"?t:t+""}function wK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jK=(e,t)=>t,NK=(e,t,r)=>r,_K=(e,t,r,n)=>n,SK=(e,t,r,n,a)=>a,Ac=$([_c,SK],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),CK=$([Ac],e=>e==null?void 0:e.maxBarSize),kK=(e,t,r,n,a,i)=>i,EN=(e,t,r)=>{var n=r??e;if(!Le(n))return Ft(n,t,0)},EK=$([he,_c,jK,NK,_K],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),PK=(e,t,r,n)=>{var a=he(e);return a==="horizontal"?Jl(e,"yAxis",r,n):Jl(e,"xAxis",t,n)},AK=(e,t,r)=>{var n=he(e);return n==="horizontal"?F1(e,"xAxis",t):F1(e,"yAxis",r)},OK=(e,t,r)=>{var n={},a=e.filter(Nh),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=EN(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=EN(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},TK=$([EK,jU,AK],OK),IK=(e,t,r,n,a)=>{var i,o,l=Ac(e,t,r,n,a);if(l!=null){var c=he(e),u=nP(e),{maxBarSize:d}=l,f=Le(d)?u:d,h,m;return c==="horizontal"?(h=Nn(e,"xAxis",t,n),m=jn(e,"xAxis",t,n)):(h=Nn(e,"yAxis",r,n),m=jn(e,"yAxis",r,n)),(i=(o=qs(h,m,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},GA=(e,t,r,n)=>{var a=he(e),i,o;return a==="horizontal"?(i=Nn(e,"xAxis",t,n),o=jn(e,"xAxis",t,n)):(i=Nn(e,"yAxis",r,n),o=jn(e,"yAxis",r,n)),qs(i,o)};function MK(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Ft(e,r,0,!0),l,c=[];if(Tt(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((b,j)=>b+(j.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};l=n.reduce((b,j)=>{var v,w={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(v=j.barSize)!==null&&v!==void 0?v:0}},N=[...b,w];return m=N[N.length-1].position,N},c)}else{var g=Ft(t,r,0,!0);r-2*g-(i-1)*o<=0&&(o=0);var x=(r-2*g-(i-1)*o)/i;x>1&&(x>>=0);var y=Tt(a)?Math.min(x,a):x;l=n.reduce((b,j,v)=>[...b,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:g+(x+o)*v+(x-y)/2,size:y}}],c)}return l}}var RK=(e,t,r,n,a,i,o)=>{var l=Le(o)?t:o,c=MK(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>yu(yu({},u),{},{position:yu(yu({},u.position),{},{offset:u.position.offset-a/2})}))),c},DK=$([TK,nP,wU,aP,IK,GA,CK],RK),$K=(e,t,r,n)=>Nn(e,"xAxis",t,n),LK=(e,t,r,n)=>Nn(e,"yAxis",r,n),FK=(e,t,r,n)=>jn(e,"xAxis",t,n),BK=(e,t,r,n)=>jn(e,"yAxis",r,n),zK=$([DK,Ac],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),UK=(e,t)=>{var r=jh(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},qK=$([PK,Ac],UK),WK=$([pt,sv,$K,LK,FK,BK,zK,he,bc,GA,qK,Ac,kK],(e,t,r,n,a,i,o,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:x}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:y}=f,b;if(y!=null&&y.length>0?b=y:b=m==null?void 0:m.slice(g,x+1),b!=null)return xK({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:b,offset:e,cells:h})}}),HA=e=>{var{chartData:t}=e,r=Xe(),n=zt();return p.useEffect(()=>n?()=>{}:(r(H1(t)),()=>{r(H1(void 0))}),[t,r,n]),null},PN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YA=wr({name:"brush",initialState:PN,reducers:{setBrushSettings(e,t){return t.payload==null?PN:t.payload}}}),{setBrushSettings:$J}=YA.actions,VK=YA.reducer;function KK(e,t,r){return(t=GK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=HK(e,"string");return typeof t=="symbol"?t:t+""}function HK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Py{static create(t){return new Py(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}KK(Py,"EPS",1e-4);function YK(e){return(e%180+180)%180}var XK=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=YK(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},QK={dots:[],areas:[],lines:[]},XA=wr({name:"referenceElements",initialState:QK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=zn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=zn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=zn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:LJ,removeDot:FJ,addArea:BJ,removeArea:zJ,addLine:UJ,removeLine:qJ}=XA.actions,JK=XA.reducer,ZK=p.createContext(void 0),eG=e=>{var{children:t}=e,[r]=p.useState("".concat(ql("recharts"),"-clip")),n=Mh();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return p.createElement(ZK.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function oo(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function QA(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function tG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return XK(n,r)}function rG(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function ef(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function nG(e,t){return QA(e,t+1)}function aG(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:QA(n,u)};var x=c,y,b=()=>(y===void 0&&(y=r(g,x)),y),j=g.coordinate,v=c===0||ef(e,j,b,d,l);v||(c=0,d=o,u+=1),v&&(d=j+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){sG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sG(e,t,r){return(t=iG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h],g,x=()=>(g===void 0&&(g=r(m,h)),g);if(h===o-1){var y=e*(m.coordinate+e*x()/2-c);i[h]=m=Rt(Rt({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Rt(Rt({},m),{},{tickCoord:m.coordinate});var b=ef(e,m.tickCoord,x,l,c);b&&(c=m.tickCoord-e*(x()/2+a),i[h]=Rt(Rt({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function cG(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Rt(Rt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=ef(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Rt(Rt({},d),{},{isShow:!0}))}for(var g=i?l-1:l,x=function(j){var v=o[j],w,N=()=>(w===void 0&&(w=r(v,j)),w);if(j===0){var _=e*(v.coordinate-e*N()/2-c);o[j]=v=Rt(Rt({},v),{},{tickCoord:_<0?v.coordinate-_*e:v.coordinate})}else o[j]=v=Rt(Rt({},v),{},{tickCoord:v.coordinate});var S=ef(e,v.tickCoord,N,c,u);S&&(c=v.tickCoord+e*(N()/2+a),o[j]=Rt(Rt({},v),{},{isShow:!0}))},y=0;y<g;y++)x(y);return o}function Ay(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(ae(c)||la.isSsr){var h;return(h=nG(a,ae(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?yl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(v,w)=>{var N=typeof u=="function"?u(v.value,w):v.value;return g==="width"?tG(yl(N,{fontSize:t,letterSpacing:r}),x,f):yl(N,{fontSize:t,letterSpacing:r})[g]},b=a.length>=2?wt(a[1].coordinate-a[0].coordinate):1,j=rG(i,b,g);return c==="equidistantPreserveStart"?aG(b,j,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=cG(b,j,y,a,o,c==="preserveStartEnd"):m=lG(b,j,y,a,o),m.filter(v=>v.isShow))}var uG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},dG=["axisLine","width","height","className","hide","ticks"],fG=["viewBox"],hG=["viewBox"];function o0(e,t){if(e==null)return{};var r,n,a=mG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vs.apply(null,arguments)}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){pG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pG(e,t,r){return(t=gG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oy={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function vG(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=dt(dt(dt({},c),Fe(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=dt(dt({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=dt(dt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return p.createElement("line",Vs({},u,{className:me("recharts-cartesian-axis-line",Bs(l,"className"))}))}function yG(e,t,r,n,a,i,o,l,c){var u,d,f,h,m,g,x=l?-1:1,y=e.tickSize||o,b=ae(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-x*y,g=f-x*c,m=b;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-x*y,m=u-x*c,g=b;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+x*y,m=u+x*c,g=b;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+x*y,g=f+x*c,m=b;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function bG(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wG(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function jG(e){var{option:t,tickProps:r,value:n}=e,a,i=me(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,dt(dt({},r),{},{className:i}));else if(typeof t=="function")a=t(dt(dt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=me(o,t==null?void 0:t.className)),a=p.createElement(Ah,Vs({},r,{className:o}),n)}return a}function NG(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:g,tickSize:x,tickMargin:y,fontSize:b,letterSpacing:j,getTicksConfig:v,events:w}=e,N=Ay(dt(dt({},v),{},{ticks:t}),b,j),_=bG(u,d),S=wG(u,d),C=Ur(v),T=Fe(r,!1),O=dt(dt({},C),{},{fill:"none"},Fe(n,!1)),P=N.map((A,F)=>{var{line:z,tick:q}=yG(A,f,h,m,g,u,x,d,y),E=dt(dt(dt(dt({textAnchor:_,verticalAnchor:S},C),{},{stroke:"none",fill:a},T),q),{},{index:F,payload:A,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return p.createElement(Je,Vs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},dc(w,A,F)),n&&p.createElement("line",Vs({},O,z,{className:me("recharts-cartesian-axis-tick-line",Bs(n,"className"))})),r&&p.createElement(jG,{option:r,tickProps:E,value:"".concat(typeof i=="function"?i(A.value,F):A.value).concat(o||"")}))});return P.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var _G=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l}=e,c=o0(e,dG),[u,d]=p.useState(""),[f,h]=p.useState(""),m=p.useRef([]);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return uG({ticks:m.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=p.useCallback(x=>{if(x){var y=x.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(y);var b=y[0];if(b){var j=window.getComputedStyle(b),v=j.fontSize,w=j.letterSpacing;(v!==u||w!==f)&&(d(v),h(w))}}},[u,f]);return o||n!=null&&n<=0||a!=null&&a<=0?null:p.createElement(Je,{className:me("recharts-cartesian-axis",i),ref:g},p.createElement(vG,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ur(e)}),p.createElement(NG,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),p.createElement(Dq,{x:e.x,y:e.y,width:e.width,height:e.height},p.createElement(Kq,{label:e.label}),e.children))}),SG=p.memo(_G,(e,t)=>{var{viewBox:r}=e,n=o0(e,fG),{viewBox:a}=t,i=o0(t,hG);return oo(r,a)&&oo(n,i)}),Ty=p.forwardRef((e,t)=>{var r=gt(e,Oy);return p.createElement(SG,Vs({},r,{ref:t}))});Ty.displayName="CartesianAxis";var CG=["x1","y1","x2","y2","key"],kG=["offset"],EG=["xAxisId","yAxisId"],PG=["xAxisId","yAxisId"];function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(null,arguments)}function tf(e,t){if(e==null)return{};var r,n,a=IG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MG=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function JA(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,c=tf(t,CG),u=Ur(c),{offset:d}=u,f=tf(u,kG);r=p.createElement("line",Ss({},f,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function RG(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=tf(e,EG),c=a.map((u,d)=>{var f=$t($t({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return JA(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function DG(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=tf(e,PG),c=a.map((u,d)=>{var f=$t($t({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return JA(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function $G(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var x=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function LG(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var x=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var FG=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return Bk(Ay($t($t($t({},Oy),r),{},{ticks:zk(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},BG=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return Bk(Ay($t($t($t({},Oy),r),{},{ticks:zk(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},zG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function $u(e){var t=ov(),r=lv(),n=Kk(),a=$t($t({},gt(e,zG)),{},{x:ae(e.x)?e.x:n.left,y:ae(e.y)?e.y:n.top,width:ae(e.width)?e.width:n.width,height:ae(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,g=zt(),x=ne(T=>B1(T,"xAxis",i,g)),y=ne(T=>B1(T,"yAxis",o,g));if(!ae(u)||u<=0||!ae(d)||d<=0||!ae(l)||l!==+l||!ae(c)||c!==+c)return null;var b=a.verticalCoordinatesGenerator||FG,j=a.horizontalCoordinatesGenerator||BG,{horizontalPoints:v,verticalPoints:w}=a;if((!v||!v.length)&&typeof j=="function"){var N=h&&h.length,_=j({yAxis:y?$t($t({},y),{},{ticks:N?h:y.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);vl(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(v=_)}if((!w||!w.length)&&typeof b=="function"){var S=m&&m.length,C=b({xAxis:x?$t($t({},x),{},{ticks:S?m:x.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);vl(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(w=C)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(MG,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement($G,Ss({},a,{horizontalPoints:v})),p.createElement(LG,Ss({},a,{verticalPoints:w})),p.createElement(RG,Ss({},a,{offset:n,horizontalPoints:v,xAxis:x,yAxis:y})),p.createElement(DG,Ss({},a,{offset:n,verticalPoints:w,xAxis:x,yAxis:y})))}$u.displayName="CartesianGrid";var ZA=(e,t,r,n)=>Nn(e,"xAxis",t,n),eO=(e,t,r,n)=>jn(e,"xAxis",t,n),tO=(e,t,r,n)=>Nn(e,"yAxis",r,n),rO=(e,t,r,n)=>jn(e,"yAxis",r,n),UG=$([he,ZA,tO,eO,rO],(e,t,r,n,a)=>Sn(e,"xAxis")?qs(t,n,!1):qs(r,a,!1)),qG=(e,t,r,n,a)=>a;function WG(e){return e.type==="line"}var VG=$([_c,qG],(e,t)=>e.filter(WG).find(r=>r.id===t)),KG=$([he,ZA,tO,eO,rO,VG,UG,bc],(e,t,r,n,a,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return mH({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}}),GG=["id"],HG=["type","layout","connectNulls","needClip"],YG=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return(t=QG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(e,t){if(e==null)return{};var r,n,a=ZG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ks.apply(null,arguments)}var eH=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ss(r,t),payload:e}]};function tH(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ss(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var nO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function rH(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var nH=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return nO(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...rH(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function aH(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=me("recharts-line-dot",typeof e!="boolean"?e.className:"");r=p.createElement(gy,Ks({},t,{className:n}))}return r}function sH(e,t){return e==null?!1:t?!0:e.length===1}function iH(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!sH(r,a))return null;var{id:l}=n,c=Iy(n,GG),u=Xf(a),d=Ur(c),f=Fe(a,!0),h=r.map((g,x)=>{var y=ur(ur(ur({key:"dot-".concat(x),r:3},d),f),{},{index:x,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return aH(a,y)}),m={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return p.createElement(Je,Ks({className:"recharts-line-dots",key:"dots"},m),h)}function oH(e){var{showLabels:t,children:r,points:n}=e,a=p.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return ur(ur({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return p.createElement(py,{value:t?a:null},r)}function MN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:u}=i,d=Iy(i,HG),f=ur(ur({},Fe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return p.createElement(p.Fragment,null,(n==null?void 0:n.length)>1&&p.createElement(Ri,Ks({},f,{pathRef:r})),p.createElement(iH,{points:n,clipPathId:t,props:i}))}function lH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function cH(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:g,onAnimationEnd:x,onAnimationStart:y}=r,b=a.current,j=yo(r,"recharts-line-"),[v,w]=p.useState(!1),N=!v,_=p.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),S=p.useCallback(()=>{typeof y=="function"&&y(),w(!0)},[y]),C=lH(n.current),T=i.current;return p.createElement(oH,{points:o,showLabels:N},r.children,p.createElement(vo,{animationId:j,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:_,onAnimationStart:S,key:j},O=>{var P=Ne(T,C+T,O),A=Math.min(P,C),F;if(c)if(l){var z="".concat(l).split(/[,\s]+/gim).map(k=>parseFloat(k));F=nH(A,C,z)}else F=nO(C,A);else F=l==null?void 0:String(l);if(b){var q=b.length/o.length,E=O===1?o:o.map((k,R)=>{var B=Math.floor(R*q);if(b[B]){var V=b[B];return ur(ur({},k),{},{x:Ne(V.x,k.x,O),y:Ne(V.y,k.y,O)})}return h?ur(ur({},k),{},{x:Ne(m*2,k.x,O),y:Ne(g/2,k.y,O)}):ur(ur({},k),{},{x:k.x,y:k.y})});return a.current=E,p.createElement(MN,{props:r,points:E,clipPathId:t,pathRef:n,strokeDasharray:F})}return O>0&&C>0&&(a.current=o,i.current=A),p.createElement(MN,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:F})}),p.createElement(Oh,{label:r.label}))}function uH(e){var{clipPathId:t,props:r}=e,n=p.useRef(null),a=p.useRef(0),i=p.useRef(null);return p.createElement(cH,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var dH=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:_e(e.payload,t)});class fH extends p.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var g=me("recharts-line",i),x=h,{r:y=3,strokeWidth:b=2}=(t=Fe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=Xf(n),v=y*2+b;return p.createElement(p.Fragment,null,p.createElement(Je,{className:g},m&&p.createElement("defs",null,p.createElement(Ey,{clipPathId:x,xAxisId:o,yAxisId:l}),!j&&p.createElement("clipPath",{id:"clipPath-dots-".concat(x)},p.createElement("rect",{x:u-v/2,y:c-v/2,width:d+v,height:f+v}))),p.createElement(WA,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:dH,errorBarOffset:0},p.createElement(uH,{props:this.props,clipPathId:x}))),p.createElement(s0,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var aO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!la.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function hH(e){var t=gt(e,aO),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:g,id:x}=t,y=Iy(t,YG),{needClip:b}=Rh(m,g),j=Mh(),v=pc(),w=zt(),N=ne(O=>KG(O,m,g,w,x));if(v!=="horizontal"&&v!=="vertical"||N==null||j==null)return null;var{height:_,width:S,x:C,y:T}=j;return p.createElement(fH,Ks({},y,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:g,points:N,layout:v,height:_,width:S,left:C,top:T,needClip:b}))}function mH(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=_e(u,o);if(t==="horizontal"){var h=Id({axis:r,ticks:a,bandSize:l,entry:u,index:d}),m=Le(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var g=Le(f)?null:r.scale(f),x=Id({axis:n,ticks:i,bandSize:l,entry:u,index:d});return g==null||x==null?null:{x:g,y:x,value:f,payload:u}}).filter(Boolean)}function pH(e){var t=gt(e,aO),r=zt();return p.createElement(Ih,{id:t.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(_y,{legendPayload:eH(t)}),p.createElement(Th,{fn:tH,args:t}),p.createElement(Sy,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),p.createElement(hH,Ks({},t,{id:n}))))}var Lu=p.memo(pH);Lu.displayName="Line";var sO=(e,t,r,n)=>Nn(e,"xAxis",t,n),iO=(e,t,r,n)=>jn(e,"xAxis",t,n),oO=(e,t,r,n)=>Nn(e,"yAxis",r,n),lO=(e,t,r,n)=>jn(e,"yAxis",r,n),gH=$([he,sO,oO,iO,lO],(e,t,r,n,a)=>Sn(e,"xAxis")?qs(t,n,!1):qs(r,a,!1)),xH=(e,t,r,n,a)=>a,cO=$([_c,xH],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),vH=(e,t,r,n,a)=>{var i,o=cO(e,t,r,n,a);if(o!=null){var l=he(e),c=Sn(l,"xAxis"),u;if(c?u=Jl(e,"yAxis",r,n):u=Jl(e,"xAxis",t,n),u!=null){var{stackId:d}=o,f=jh(o);if(!(d==null||f==null)){var h=(i=u[d])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(m=>m.key===f)}}}},yH=$([he,sO,oO,iO,lO,vH,bc,gH,cO],(e,t,r,n,a,i,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:h}=c,m;if(h&&h.length>0?m=h:m=u==null?void 0:u.slice(d,f+1),m!=null){var g=void 0;return BH({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:m,chartBaseValue:g,bandSize:l})}}}),bH=["id"],wH=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function uO(e,t){if(e==null)return{};var r,n,a=jH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){NH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NH(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qn.apply(null,arguments)}function rf(e,t){return e&&e!=="none"?e:t}var CH=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:rf(n,a),value:ss(r,t),payload:e}]};function kH(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ss(o,t),hide:l,type:e.tooltipType,color:rf(n,i),unit:c}}}var EH=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=me("recharts-area-dot",typeof e!="boolean"?e.className:"");r=p.createElement(gy,qn({},t,{className:n}))}return r};function PH(e,t){return e==null?!1:t?!0:e.length===1}function AH(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n;if(!PH(r,i))return null;var l=Xf(i),c=Ur(n),u=Fe(i,!0),d=r.map((h,m)=>{var g=Ln(Ln(Ln({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:h.x,cy:h.y,dataKey:o,value:h.value,payload:h.payload,points:r});return EH(i,g)}),f={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return p.createElement(Je,qn({className:"recharts-area-dots"},f),d)}function OH(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Ln(Ln({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return p.createElement(py,{value:t?a:null},r)}function DN(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:f}=i,h=uO(i,bH),m=Ur(h);return p.createElement(p.Fragment,null,(t==null?void 0:t.length)>1&&p.createElement(Je,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},p.createElement(Ri,qn({},m,{id:f,points:t,connectNulls:u,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&p.createElement(Ri,qn({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&p.createElement(Ri,qn({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:r}))),p.createElement(AH,{points:t,props:h,clipPathId:a}))}function TH(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!Tt(i)||!Tt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.x||0));return ae(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),ae(c)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function IH(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!Tt(i)||!Tt(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.y||0));return ae(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),ae(c)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function MH(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?p.createElement(TH,{alpha:t,points:n,baseLine:a,strokeWidth:i}):p.createElement(IH,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function RH(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=n,g=yo(n,"recharts-area-"),[x,y]=p.useState(!1),b=!x,j=p.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),v=p.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]),w=a.current,N=i.current;return p.createElement(OH,{showLabels:b,points:o},n.children,p.createElement(vo,{animationId:g,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:j,onAnimationStart:v,key:g},_=>{if(w){var S=w.length/o.length,C=_===1?o:o.map((O,P)=>{var A=Math.floor(P*S);if(w[A]){var F=w[A];return Ln(Ln({},O),{},{x:Ne(F.x,O.x,_),y:Ne(F.y,O.y,_)})}return O}),T;return ae(l)?T=Ne(N,l,_):Le(l)||sr(l)?T=Ne(N,0,_):T=l.map((O,P)=>{var A=Math.floor(P*S);if(Array.isArray(N)&&N[A]){var F=N[A];return Ln(Ln({},O),{},{x:Ne(F.x,O.x,_),y:Ne(F.y,O.y,_)})}return O}),_>0&&(a.current=C,i.current=T),p.createElement(DN,{points:C,baseLine:T,needClip:t,clipPathId:r,props:n})}return _>0&&(a.current=o,i.current=l),p.createElement(Je,null,c&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(MH,{alpha:_,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),p.createElement(Je,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(DN,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),p.createElement(Oh,{label:n.label}))}function DH(e){var{needClip:t,clipPathId:r,props:n}=e,a=p.useRef(null),i=p.useRef();return p.createElement(RH,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class $H extends p.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:o,left:l,needClip:c,xAxisId:u,yAxisId:d,width:f,height:h,id:m,baseLine:g}=this.props;if(r)return null;var x=me("recharts-area",i),y=m,{r:b=3,strokeWidth:j=2}=(t=Fe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},v=Xf(n),w=b*2+j;return p.createElement(p.Fragment,null,p.createElement(Je,{className:x},c&&p.createElement("defs",null,p.createElement(Ey,{clipPathId:y,xAxisId:u,yAxisId:d}),!v&&p.createElement("clipPath",{id:"clipPath-dots-".concat(y)},p.createElement("rect",{x:l-w/2,y:o-w/2,width:f+w,height:h+w}))),p.createElement(DH,{needClip:c,clipPathId:y,props:this.props})),p.createElement(s0,{points:a,mainColor:rf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&p.createElement(s0,{points:g,mainColor:rf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var dO={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!la.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function LH(e){var t,r=gt(e,dO),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:f,isAnimationActive:h,legendType:m,stroke:g,xAxisId:x,yAxisId:y}=r,b=uO(r,wH),j=pc(),v=oA(),{needClip:w}=Rh(x,y),N=zt(),{points:_,isRange:S,baseLine:C}=(t=ne(z=>yH(z,x,y,N,e.id)))!==null&&t!==void 0?t:{},T=Mh();if(j!=="horizontal"&&j!=="vertical"||T==null||v!=="AreaChart"&&v!=="ComposedChart")return null;var{height:O,width:P,x:A,y:F}=T;return!_||!_.length?null:p.createElement($H,qn({},b,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:C,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:O,hide:f,layout:j,isAnimationActive:h,isRange:S,legendType:m,needClip:w,points:_,stroke:g,width:P,left:A,top:F,xAxisId:x,yAxisId:y}))}var FH=(e,t,r,n,a)=>{var i=r??t;if(ae(i))return i;var o=e==="horizontal"?a:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function BH(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:m}=e,g=a&&a.length,x=FH(i,o,r,l,c),y=i==="horizontal",b=!1,j=u.map((w,N)=>{var _;g?_=a[d+N]:(_=_e(w,n),Array.isArray(_)?b=!0:_=[x,_]);var S=_[1]==null||g&&!t&&_e(w,n)==null;return y?{x:Id({axis:l,ticks:f,bandSize:m,entry:w,index:N}),y:S?null:c.scale(_[1]),value:_,payload:w}:{x:S?null:l.scale(_[1]),y:Id({axis:c,ticks:h,bandSize:m,entry:w,index:N}),value:_,payload:w}}),v;return g||b?v=j.map(w=>{var N=Array.isArray(w.value)?w.value[0]:null;return y?{x:w.x,y:N!=null&&w.y!=null?c.scale(N):null,payload:w.payload}:{x:N!=null?l.scale(N):null,y:w.y,payload:w.payload}}):v=y?c.scale(x):l.scale(x),{points:j,baseLine:v,isRange:b}}function zH(e){var t=gt(e,dO),r=zt();return p.createElement(Ih,{id:t.id,type:"area"},n=>p.createElement(p.Fragment,null,p.createElement(_y,{legendPayload:CH(t)}),p.createElement(Th,{fn:kH,args:t}),p.createElement(Sy,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Uk(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(LH,qn({},t,{id:n}))))}var fO=p.memo(zH);fO.displayName="Area";var UH=["dangerouslySetInnerHTML","ticks"],qH=["id"],WH=["domain"],VH=["domain"];function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}function nf(e,t){if(e==null)return{};var r,n,a=KH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GH(e){var t=Xe();return p.useEffect(()=>(t(bV(e)),()=>{t(wV(e))}),[e,t]),null}var HH=e=>{var{xAxisId:t,className:r}=e,n=ne(sv),a=zt(),i="xAxis",o=ne(y=>Co(y,i,t,a)),l=ne(y=>BP(y,i,t,a)),c=ne(y=>DP(y,t)),u=ne(y=>h9(y,t)),d=ne(y=>hP(y,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=nf(e,UH),{id:g}=d,x=nf(d,qH);return p.createElement(Ty,l0({},m,x,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:me("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},YH={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,height:ir.height,hide:!1,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tickCount:ir.tickCount,type:ir.type,xAxisId:0},XH=e=>{var t,r,n,a,i,o=gt(e,YH);return p.createElement(p.Fragment,null,p.createElement(GH,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(HH,o))},QH=(e,t)=>{var{domain:r}=e,n=nf(e,WH),{domain:a}=t,i=nf(t,VH);return oo(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:oo({domain:r},{domain:a}):!1},Fu=p.memo(XH,QH);Fu.displayName="XAxis";var JH=["dangerouslySetInnerHTML","ticks"],ZH=["id"],eY=["domain"],tY=["domain"];function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(null,arguments)}function af(e,t){if(e==null)return{};var r,n,a=rY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nY(e){var t=Xe();return p.useEffect(()=>(t(jV(e)),()=>{t(NV(e))}),[e,t]),null}var aY=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=p.useRef(null),o=p.useRef(null),l=ne(sv),c=zt(),u=Xe(),d="yAxis",f=ne(N=>Co(N,d,t,c)),h=ne(N=>$P(N,t)),m=ne(N=>p9(N,t)),g=ne(N=>BP(N,d,t,c)),x=ne(N=>mP(N,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!h||my(a)||p.isValidElement(a)||x==null)){var N=i.current;if(N){var _=N.getCalculatedWidth();Math.round(h.width)!==Math.round(_)&&u(_V({id:t,width:_}))}}},[g,h,u,a,t,n,x]),h==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:y,ticks:b}=e,j=af(e,JH),{id:v}=x,w=af(x,ZH);return p.createElement(Ty,c0({},j,w,{ref:i,labelRef:o,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:me("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:g}))},sY={allowDataOverflow:or.allowDataOverflow,allowDecimals:or.allowDecimals,allowDuplicatedCategory:or.allowDuplicatedCategory,hide:!1,mirror:or.mirror,orientation:or.orientation,padding:or.padding,reversed:or.reversed,scale:or.scale,tickCount:or.tickCount,type:or.type,width:or.width,yAxisId:0},iY=e=>{var t,r,n,a,i,o=gt(e,sY);return p.createElement(p.Fragment,null,p.createElement(nY,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(aY,o))},oY=(e,t)=>{var{domain:r}=e,n=af(e,eY),{domain:a}=t,i=af(t,tY);return oo(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:oo({domain:r},{domain:a}):!1},Bu=p.memo(iY,oY);Bu.displayName="YAxis";var lY={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc=p;function cY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uY=typeof Object.is=="function"?Object.is:cY,dY=Oc.useSyncExternalStore,fY=Oc.useRef,hY=Oc.useEffect,mY=Oc.useMemo,pY=Oc.useDebugValue;lY.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=fY(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=mY(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,uY(d,m))return g;var x=n(m);return a!==void 0&&a(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=dY(e,i[0],i[1]);return hY(function(){o.hasValue=!0,o.value=l},[l]),pY(l),l};function gY(e){e()}function xY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var $N={notify(){},get:()=>[]};function vY(e,t){let r,n=$N,a=0,i=!1;function o(x){d();const y=n.subscribe(x);let b=!1;return()=>{b||(b=!0,y(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=xY())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=$N)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var yY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bY=yY(),wY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jY=wY(),NY=()=>bY||jY?p.useLayoutEffect:p.useEffect,_Y=NY(),Jm=Symbol.for("react-redux-context"),Zm=typeof globalThis<"u"?globalThis:{};function SY(){if(!p.createContext)return{};const e=Zm[Jm]??(Zm[Jm]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var CY=SY();function kY(e){const{children:t,context:r,serverState:n,store:a}=e,i=p.useMemo(()=>{const c=vY(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=p.useMemo(()=>a.getState(),[a]);_Y(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||CY;return p.createElement(l.Provider,{value:i},t)}var EY=kY,PY=(e,t)=>t,My=$([PY,he,uP,vt,tA,fa,y7,pt],_7),Ry=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},hO=Fr("mouseClick"),mO=hc();mO.startListening({actionCreator:hO,effect:(e,t)=>{var r=e.payload,n=My(t.getState(),Ry(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(E9({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var u0=Fr("mouseMove"),pO=hc();pO.startListening({actionCreator:u0,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=sy(n,n.tooltip.settings.shared),i=My(n,Ry(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(HP({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(GP()))}});var LN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},gO=wr({name:"rootProps",initialState:LN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:LN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),AY=gO.reducer,{updateOptions:OY}=gO.actions,xO=wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:TY}=xO.actions,IY=xO.reducer,vO=Fr("keyDown"),yO=Fr("focus"),Dy=hc();Dy.startListening({actionCreator:vO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(iy(a,Eo(r))),l=fa(r);if(i==="Enter"){var c=Yd(r,"axis","hover",String(a.index));t.dispatch(e0({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=y9(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=o+f*d;if(!(l==null||h>=l.length||h<0)){var m=Yd(r,"axis","hover",String(h));t.dispatch(e0({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Dy.startListening({actionCreator:yO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Yd(r,"axis","hover",String(i));t.dispatch(e0({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Cr=Fr("externalEvent"),bO=hc();bO.startListening({actionCreator:Cr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:u7(r),activeDataKey:sA(r),activeIndex:Ha(r),activeLabel:aA(r),activeTooltipIndex:Ha(r),isTooltipActive:d7(r)};e.payload.handler(n,e.payload.reactEvent)}}});var MY=$([ko],e=>e.tooltipItemPayloads),RY=$([MY,kc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),wO=Fr("touchMove"),jO=hc();jO.startListening({actionCreator:wO,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=sy(n,n.tooltip.settings.shared);if(a==="axis"){var i=My(n,Ry({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(HP({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(Wk),d=(o=c.getAttribute(Vk))!==null&&o!==void 0?o:void 0,f=RY(t.getState(),u,d);t.dispatch(KP({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var DY=pk({brush:VK,cartesianAxis:SV,chartData:F7,errorBars:WV,graphicalItems:WW,layout:SL,legend:m8,options:M7,polarAxis:cW,polarOptions:IY,referenceElements:JK,rootProps:AY,tooltip:P9}),$Y=function(t){return X$({reducer:DY,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([mO.middleware,pO.middleware,Dy.middleware,bO.middleware,jO.middleware]),devTools:la.devToolsEnabled})};function NO(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=zt(),i=p.useRef(null);if(a)return r;i.current==null&&(i.current=$Y(t));var o=Qx;return p.createElement(EY,{context:o,store:i.current},r)}function _O(e){var{layout:t,width:r,height:n,margin:a}=e,i=Xe(),o=zt();return p.useEffect(()=>{o||(i(jL(t)),i(NL({width:r,height:n})),i(wL(a)))},[i,o,t,r,n,a]),null}function SO(e){var t=Xe();return p.useEffect(()=>{t(OY(e))},[t,e]),null}var LY=["children"];function FY(e,t){if(e==null)return{};var r,n,a=BY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(null,arguments)}var zY={width:"100%",height:"100%"},UY=p.forwardRef((e,t)=>{var r=ov(),n=lv(),a=Xk();if(!ro(r)||!ro(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0,p.createElement(Rx,sf({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:zY,ref:t}),i)}),qY=e=>{var{children:t}=e,r=ne(dh);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return p.createElement(Rx,{width:n,height:a,x:o,y:i},t)},FN=p.forwardRef((e,t)=>{var{children:r}=e,n=FY(e,LY),a=zt();return a?p.createElement(qY,null,r):p.createElement(UY,sf({ref:t},n),r)});function WY(){var e=Xe(),[t,r]=p.useState(null),n=ne(ZL);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Tt(i)&&i!==n&&e(_L(i))}},[t,e,n]),r}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YY=p.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:x,style:y,width:b}=e,j=Xe(),[v,w]=p.useState(null),[N,_]=p.useState(null);H7();var S=WY(),C=p.useCallback(Q=>{S(Q),typeof t=="function"&&t(Q),w(Q),_(Q)},[S,t,w,_]),T=p.useCallback(Q=>{j(hO(Q)),j(Cr({handler:i,reactEvent:Q}))},[j,i]),O=p.useCallback(Q=>{j(u0(Q)),j(Cr({handler:u,reactEvent:Q}))},[j,u]),P=p.useCallback(Q=>{j(GP()),j(Cr({handler:d,reactEvent:Q}))},[j,d]),A=p.useCallback(Q=>{j(u0(Q)),j(Cr({handler:f,reactEvent:Q}))},[j,f]),F=p.useCallback(()=>{j(yO())},[j]),z=p.useCallback(Q=>{j(vO(Q.key))},[j]),q=p.useCallback(Q=>{j(Cr({handler:o,reactEvent:Q}))},[j,o]),E=p.useCallback(Q=>{j(Cr({handler:l,reactEvent:Q}))},[j,l]),k=p.useCallback(Q=>{j(Cr({handler:c,reactEvent:Q}))},[j,c]),R=p.useCallback(Q=>{j(Cr({handler:h,reactEvent:Q}))},[j,h]),B=p.useCallback(Q=>{j(Cr({handler:x,reactEvent:Q}))},[j,x]),V=p.useCallback(Q=>{j(wO(Q)),j(Cr({handler:g,reactEvent:Q}))},[j,g]),X=p.useCallback(Q=>{j(Cr({handler:m,reactEvent:Q}))},[j,m]);return p.createElement(fA.Provider,{value:v},p.createElement(wC.Provider,{value:N},p.createElement("div",{className:me("recharts-wrapper",n),style:VY({position:"relative",cursor:"default",width:b,height:a},y),onClick:T,onContextMenu:q,onDoubleClick:E,onFocus:F,onKeyDown:z,onMouseDown:k,onMouseEnter:O,onMouseLeave:P,onMouseMove:A,onMouseUp:R,onTouchEnd:X,onTouchMove:V,onTouchStart:B,ref:C},r)))}),XY=["children","className","width","height","style","compact","title","desc"];function QY(e,t){if(e==null)return{};var r,n,a=JY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CO=p.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:o,compact:l,title:c,desc:u}=e,d=QY(e,XY),f=Ur(d);return l?p.createElement(FN,{otherAttributes:f,title:c,desc:u},r):p.createElement(YY,{className:n,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(FN,{otherAttributes:f,title:c,desc:u,ref:t},p.createElement(eG,null,r)))}),ZY=["width","height"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d0.apply(null,arguments)}function eX(e,t){if(e==null)return{};var r,n,a=tX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rX={top:5,right:5,bottom:5,left:5},nX={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rX,reverseStackOrder:!1,syncMethod:"index"},$y=p.forwardRef(function(t,r){var n,a=gt(t.categoricalChartProps,nX),{width:i,height:o}=a,l=eX(a,ZY);if(!ro(i)||!ro(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(NO,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},p.createElement(HA,{chartData:h.data}),p.createElement(_O,{width:i,height:o,layout:a.layout,margin:a.margin}),p.createElement(SO,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(CO,d0({},l,{width:i,height:o,ref:r})))}),aX=["axis"],sX=p.forwardRef((e,t)=>p.createElement($y,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:aX,tooltipPayloadSearcher:Ph,categoricalChartProps:e,ref:t})),iX=["axis","item"],oX=p.forwardRef((e,t)=>p.createElement($y,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iX,tooltipPayloadSearcher:Ph,categoricalChartProps:e,ref:t}));function lX(e){var t=Xe();return p.useEffect(()=>{t(TY(e))},[t,e]),null}var cX=["width","height","layout"];function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f0.apply(null,arguments)}function uX(e,t){if(e==null)return{};var r,n,a=dX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fX={top:5,right:5,bottom:5,left:5},hX={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fX,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},mX=p.forwardRef(function(t,r){var n,a=gt(t.categoricalChartProps,hX),{width:i,height:o,layout:l}=a,c=uX(a,cX);if(!ro(i)||!ro(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(NO,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},p.createElement(HA,{chartData:a.data}),p.createElement(_O,{width:i,height:o,layout:l,margin:a.margin}),p.createElement(SO,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(lX,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),p.createElement(CO,f0({width:i,height:o},c,{ref:r})))}),pX=["item"],gX={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xX=p.forwardRef((e,t)=>{var r=gt(e,gX);return p.createElement(mX,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pX,tooltipPayloadSearcher:Ph,categoricalChartProps:r,ref:t})}),vX=["axis"],yX=p.forwardRef((e,t)=>p.createElement($y,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vX,tooltipPayloadSearcher:Ph,categoricalChartProps:e,ref:t}));function kO({vendasMensais:e,gastosCategoria:t,receitasPopulares:r,crescimentoMensal:n}){const a=["#8884d8","#82ca9d","#ffc658","#ff7300","#0088FE","#00C49F"],i=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),o=({active:l,payload:c,label:u})=>l&&c&&c.length?s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900",children:u}),c.map((d,f)=>s.jsxs("p",{className:"text-sm",style:{color:d.color},children:[d.name,": ",typeof d.value=="number"?i(d.value):d.value]},f))]}):null;return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Evolução Financeira - Últimos 12 Meses"}),s.jsx("div",{className:"h-80",children:s.jsx(vu,{width:"100%",height:"100%",children:s.jsxs(sX,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx($u,{strokeDasharray:"3 3"}),s.jsx(Fu,{dataKey:"name"}),s.jsx(Bu,{tickFormatter:i}),s.jsx(xu,{content:s.jsx(o,{})}),s.jsx(fh,{}),s.jsx(Lu,{type:"monotone",dataKey:"vendas",stroke:"#10b981",strokeWidth:3,name:"Vendas",dot:{fill:"#10b981",strokeWidth:2,r:4}}),s.jsx(Lu,{type:"monotone",dataKey:"gastos",stroke:"#ef4444",strokeWidth:3,name:"Gastos",dot:{fill:"#ef4444",strokeWidth:2,r:4}}),s.jsx(Lu,{type:"monotone",dataKey:"lucro",stroke:"#3b82f6",strokeWidth:3,name:"Lucro",dot:{fill:"#3b82f6",strokeWidth:2,r:4}})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Distribuição de Gastos"}),s.jsx("div",{className:"h-80",children:s.jsx(vu,{width:"100%",height:"100%",children:s.jsxs(xX,{children:[s.jsx(zA,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percent:c})=>`${l}: ${(c*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((l,c)=>s.jsx(Pc,{fill:a[c%a.length]},`cell-${c}`))}),s.jsx(xu,{formatter:l=>[i(l),"Valor"]})]})})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Receitas Mais Lucrativas"}),s.jsx("div",{className:"h-80",children:s.jsx(vu,{width:"100%",height:"100%",children:s.jsxs(oX,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx($u,{strokeDasharray:"3 3"}),s.jsx(Fu,{dataKey:"name",angle:-45,textAnchor:"end",height:100,fontSize:12}),s.jsx(Bu,{tickFormatter:i}),s.jsx(xu,{content:s.jsx(o,{})}),s.jsx(KA,{dataKey:"value",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Tendência de Crescimento"}),s.jsx("div",{className:"h-80",children:s.jsx(vu,{width:"100%",height:"100%",children:s.jsxs(yX,{data:n,margin:{top:10,right:30,left:0,bottom:0},children:[s.jsx($u,{strokeDasharray:"3 3"}),s.jsx(Fu,{dataKey:"name"}),s.jsx(Bu,{tickFormatter:l=>`${l}%`}),s.jsx(xu,{formatter:l=>[`${l}%`,"Crescimento"],labelFormatter:l=>`Mês: ${l}`}),s.jsx(fO,{type:"monotone",dataKey:"value",stroke:"#f59e0b",fill:"#fbbf24",fillOpacity:.6})]})})})]})]})}function bX(){const{user:e}=Ie(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState("30"),[f,h]=p.useState("overview"),[m,g]=p.useState(!1),[x,y]=p.useState(null);p.useEffect(()=>{if(e){const O=se(le.ORCAMENTOS,[]),P=se(le.CLIENTES,[]),A=se(le.RECEITAS,[]),F=se(le.DOCUMENTOS_FISCAIS,[]);r(O.filter(z=>z.usuario_id===e.id)),a(P.filter(z=>z.usuario_id===e.id&&z.ativo)),o(A.filter(z=>z.usuario_id===e.id&&z.ativo)),c(F.filter(z=>z.usuario_id===e.id))}},[e]);const b=()=>{const O=new Date,P=parseInt(u);return new Date(O.getTime()-P*24*60*60*1e3)},j=t.filter(O=>new Date(O.data_criacao)>=b()),v=j.filter(O=>O.status==="aprovado"),w={totalVendas:v.reduce((O,P)=>O+P.valor_total,0),totalOrcamentos:j.length,orcamentosAprovados:v.length,taxaAprovacao:j.length>0?v.length/j.length*100:0,ticketMedio:v.length>0?v.reduce((O,P)=>O+P.valor_total,0)/v.length:0,clientesAtivos:new Set(v.map(O=>O.cliente_id)).size,totalGastos:l.reduce((O,P)=>O+P.valor_total,0)},N=()=>{const O={};return v.forEach(P=>{P.itens.forEach(A=>{const F=i.find(z=>z.id===A.receita_id);F&&(O[A.receita_id]||(O[A.receita_id]={nome:F.nome,quantidade:0,valor:0}),O[A.receita_id].quantidade+=A.quantidade,O[A.receita_id].valor+=A.valor_total)})}),Object.values(O).sort((P,A)=>A.valor-P.valor).slice(0,5)},_=async()=>{if(l.length!==0){g(!0);try{const O=await OR(l);y(O)}catch(O){console.error("Erro ao analisar documentos:",O)}finally{g(!1)}}},C=(()=>{const O=new Date,P=[];for(let q=5;q>=0;q--){const E=new Date(O.getFullYear(),O.getMonth()-q,1),k=E.toLocaleDateString("pt-BR",{month:"short"}),R=v.filter(V=>{const X=new Date(V.data_criacao);return X.getMonth()===E.getMonth()&&X.getFullYear()===E.getFullYear()}).reduce((V,X)=>V+X.valor_total,0),B=l.filter(V=>{const X=new Date(V.data);return X.getMonth()===E.getMonth()&&X.getFullYear()===E.getFullYear()}).reduce((V,X)=>V+X.valor_total,0);P.push({name:k,vendas:R,gastos:B,lucro:R-B})}const A=x?Object.entries(x.gastos_por_categoria).map(([q,E])=>({name:q.charAt(0).toUpperCase()+q.slice(1).replace("_"," "),value:E})):[{name:"Ingredientes",value:w.totalGastos*.4},{name:"Embalagens",value:w.totalGastos*.2},{name:"Marketing",value:w.totalGastos*.15},{name:"Equipamentos",value:w.totalGastos*.15},{name:"Outros",value:w.totalGastos*.1}],F=N().map(q=>({name:q.nome.length>15?q.nome.substring(0,15)+"...":q.nome,value:q.valor})),z=P.map((q,E)=>{if(E===0)return{name:q.name,value:0};const k=P[E-1],R=k.vendas>0?(q.vendas-k.vendas)/k.vendas*100:0;return{name:q.name,value:Math.round(R)}}).slice(1);return{vendasMensais:P,gastosCategoria:A,receitasPopulares:F,crescimentoMensal:z}})(),T=()=>{const O={periodo:`${u} dias`,dataGeracao:new Date().toLocaleDateString("pt-BR"),metricas:w,produtosMaisVendidos:N(),documentosAnalisados:l.length,totalGastos:w.totalGastos,insights:x},P="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(O,null,2)),A=document.createElement("a");A.setAttribute("href",P),A.setAttribute("download",`relatorio-avancado-${new Date().toISOString().split("T")[0]}.json`),document.body.appendChild(A),A.click(),A.remove()};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Relatórios Avançados"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Análise completa com documentos fiscais e IA"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("select",{value:u,onChange:O=>d(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"7",children:"Últimos 7 dias"}),s.jsx("option",{value:"30",children:"Últimos 30 dias"}),s.jsx("option",{value:"90",children:"Últimos 90 dias"}),s.jsx("option",{value:"365",children:"Último ano"})]}),l.length>0&&s.jsxs("button",{onClick:_,disabled:m,className:"flex items-center space-x-2 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(md,{className:"h-5 w-5"}),s.jsx("span",{children:m?"Analisando...":"Analisar IA"})]}),s.jsxs("button",{onClick:T,className:"flex items-center space-x-2 bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors",children:[s.jsx(go,{className:"h-5 w-5"}),s.jsx("span",{children:"Exportar"})]})]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6",children:[s.jsx("button",{onClick:()=>h("overview"),className:`flex-1 text-center py-2 px-4 rounded-md transition-colors ${f==="overview"?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[s.jsx(md,{className:"h-4 w-4"}),s.jsx("span",{children:"Visão Geral"})]})}),s.jsx("button",{onClick:()=>h("documentos"),className:`flex-1 text-center py-2 px-4 rounded-md transition-colors ${f==="documentos"?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[s.jsx(ht,{className:"h-4 w-4"}),s.jsx("span",{children:"Documentos Fiscais"})]})}),s.jsx("button",{onClick:()=>h("insights"),className:`flex-1 text-center py-2 px-4 rounded-md transition-colors ${f==="insights"?"bg-white text-gray-900 shadow":"text-gray-600 hover:text-gray-900"}`,children:s.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),s.jsx("span",{children:"Gráficos Avançados"})]})})]}),f==="overview"&&s.jsxs("div",{children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Vendas"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",w.totalVendas.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.length," orçamentos aprovados"]})]}),s.jsx(sn,{className:"h-8 w-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Gastos"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["R$ ",w.totalGastos.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," documentos analisados"]})]}),s.jsx(ht,{className:"h-8 w-8 text-red-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Margem de Lucro"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",(w.totalVendas-w.totalGastos).toFixed(2)]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[w.totalVendas>0?((w.totalVendas-w.totalGastos)/w.totalVendas*100).toFixed(1):0,"% de margem"]})]}),s.jsx(Jn,{className:"h-8 w-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Taxa de Aprovação"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[w.taxaAprovacao.toFixed(1),"%"]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[w.orcamentosAprovados," de ",w.totalOrcamentos," orçamentos"]})]}),s.jsx(Fs,{className:"h-8 w-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo Executivo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Principais Indicadores"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:v.length})," vendas realizadas no período"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:l.length})," documentos fiscais processados"]}),s.jsxs("li",{children:["• ",s.jsxs("strong",{children:["R$ ",w.ticketMedio.toFixed(2)]})," ticket médio por venda"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:w.clientesAtivos})," clientes ativos no período"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Status Financeiro"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Receitas:"}),s.jsxs("span",{className:"font-medium text-green-600",children:["R$ ",w.totalVendas.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Gastos:"}),s.jsxs("span",{className:"font-medium text-red-600",children:["R$ ",w.totalGastos.toFixed(2)]})]}),s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[s.jsx("span",{children:"Resultado:"}),s.jsxs("span",{className:`${w.totalVendas>=w.totalGastos?"text-green-600":"text-red-600"}`,children:["R$ ",(w.totalVendas-w.totalGastos).toFixed(2)]})]})})]})]})]})]})]}),f==="documentos"&&s.jsxs("div",{children:[s.jsx(IR,{userId:(e==null?void 0:e.id)||"",onDocumentsChange:c}),x&&s.jsxs("div",{className:"mt-8 bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Análise de Gastos com IA"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Tendências Identificadas"}),s.jsx("ul",{className:"space-y-2",children:x.tendencias.map((O,P)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start space-x-2",children:[s.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),s.jsx("span",{children:O})]},P))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Recomendações"}),s.jsx("ul",{className:"space-y-2",children:x.recomendacoes.map((O,P)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"•"}),s.jsx("span",{children:O})]},P))})]})]}),s.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Total de Gastos Analisados:"})," ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x.total_gastos)]})})]})]}),f==="insights"&&s.jsx("div",{children:s.jsx(kO,{...C})})]})})}const wX=e=>!e||e===""?"":e.replace(",","."),ep=e=>{if(!e||e.trim()==="")return null;const t=wX(e),r=parseFloat(t);return isNaN(r)?null:r},zN=e=>e==null?"":e.toString();function jX(){const[e,t]=p.useState("volume"),[r,n]=p.useState({nome_produto:"",preco:0,data_validade:"",ingredientes:""}),[a,i]=p.useState({valor:null,unidade:"ml"}),[o,l]=p.useState({valor:null,unidade:"g"}),c={ml:1,l:1e3,xícara:240,"colher-sopa":15,"colher-chá":5},u={g:1,kg:1e3,"xícara-açúcar":200,"xícara-farinha":120,"colher-sopa-açúcar":12,"colher-chá-açúcar":4},d=(g,x,y)=>g===null||g===0?0:g*c[x]/c[y],f=(g,x,y)=>g===null||g===0?0:g*u[x]/u[y],h=()=>{const g=`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Etiqueta - ${r.nome_produto}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: white;
        }
        .etiqueta {
            width: 10cm;
            height: 6cm;
            border: 2px solid #333;
            padding: 10px;
            margin: 10px;
            display: inline-block;
            position: relative;
            background: white;
        }
        .produto-nome {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
        }
        .preco {
            font-size: 24px;
            font-weight: bold;
            color: #d63384;
            text-align: center;
            margin: 10px 0;
        }
        .validade {
            font-size: 12px;
            margin: 5px 0;
        }
        .ingredientes {
            font-size: 10px;
            margin-top: 10px;
            line-height: 1.2;
        }
        .rodape {
            position: absolute;
            bottom: 5px;
            right: 10px;
            font-size: 8px;
            color: #666;
        }
        @media print {
            body { margin: 0; padding: 0; }
            .etiqueta { margin: 0; }
        }
    </style>
</head>
<body>
    <div class="etiqueta">
        <div class="produto-nome">${r.nome_produto}</div>
        <div class="preco">R$ ${r.preco.toFixed(2)}</div>
        ${r.data_validade?`<div class="validade">Validade: ${new Date(r.data_validade).toLocaleDateString("pt-BR")}</div>`:""}
        ${r.ingredientes?`<div class="ingredientes">Ingredientes: ${r.ingredientes}</div>`:""}
        <div class="rodape">DoceCalc</div>
    </div>
    <script>
        window.onload = function() {
            window.print();
        }
    <\/script>
</body>
</html>
    `,x=new Blob([g],{type:"text/html"}),y=URL.createObjectURL(x),b=window.open(y,"_blank");b&&(b.onload=()=>{setTimeout(()=>{URL.revokeObjectURL(y)},1e3)})},m=()=>{const g=["Açúcar cristal - 1kg","Farinha de trigo - 1kg","Ovos - 1 dúzia","Manteiga - 500g","Leite integral - 1L","Fermento em pó - 100g","Essência de baunilha - 30ml","Chocolate em pó - 200g"],x=`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Lista de Compras - DoceCalc</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h1 { color: #d63384; text-align: center; }
        .item { 
            padding: 10px; 
            border-bottom: 1px dashed #ccc; 
            display: flex; 
            align-items: center; 
        }
        .checkbox { 
            width: 20px; 
            height: 20px; 
            border: 2px solid #333; 
            margin-right: 15px; 
        }
        .rodape { 
            margin-top: 30px; 
            text-align: center; 
            color: #666; 
            font-size: 12px; 
        }
    </style>
</head>
<body>
    <h1>📝 Lista de Compras</h1>
    <p><strong>Data:</strong> ${new Date().toLocaleDateString("pt-BR")}</p>
    ${g.map(v=>`
        <div class="item">
            <div class="checkbox"></div>
            <span>${v}</span>
        </div>
    `).join("")}
    <div class="rodape">
        <p>Gerado pelo DoceCalc - Calculadora para Confeiteiras</p>
    </div>
</body>
</html>
    `,y=new Blob([x],{type:"text/html"}),b=URL.createObjectURL(y),j=window.open(b,"_blank");j&&(j.onload=()=>{setTimeout(()=>{URL.revokeObjectURL(b)},1e3)})};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Ferramentas Auxiliares"}),s.jsx("p",{className:"text-gray-600",children:"Conversores, etiquetas e outras ferramentas úteis"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(wM,{className:"h-6 w-6 text-blue-500"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Conversor de Medidas"})]}),s.jsxs("div",{className:"flex space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>t("volume"),className:`px-4 py-2 rounded-lg transition-colors ${e==="volume"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Volume"}),s.jsx("button",{onClick:()=>t("peso"),className:`px-4 py-2 rounded-lg transition-colors ${e==="peso"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Peso"})]}),e==="volume"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor"}),s.jsx("input",{type:"number",value:zN(a.valor),onChange:g=>i({...a,valor:ep(g.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Digite o valor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidade"}),s.jsxs("select",{value:a.unidade,onChange:g=>i({...a,unidade:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"ml",children:"Mililitros (ml)"}),s.jsx("option",{value:"l",children:"Litros (l)"}),s.jsx("option",{value:"xícara",children:"Xícara"}),s.jsx("option",{value:"colher-sopa",children:"Colher de sopa"}),s.jsx("option",{value:"colher-chá",children:"Colher de chá"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Conversões:"}),s.jsx("div",{className:"space-y-1 text-sm",children:Object.keys(c).filter(g=>g!==a.unidade).map(g=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[g,":"]}),s.jsx("span",{className:"font-medium",children:d(a.valor,a.unidade,g).toFixed(2)})]},g))})]})]}),e==="peso"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor"}),s.jsx("input",{type:"number",value:zN(o.valor),onChange:g=>l({...o,valor:ep(g.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Digite o valor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unidade"}),s.jsxs("select",{value:o.unidade,onChange:g=>l({...o,unidade:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"g",children:"Gramas (g)"}),s.jsx("option",{value:"kg",children:"Quilos (kg)"}),s.jsx("option",{value:"xícara-açúcar",children:"Xícara de açúcar"}),s.jsx("option",{value:"xícara-farinha",children:"Xícara de farinha"}),s.jsx("option",{value:"colher-sopa-açúcar",children:"Colher sopa açúcar"}),s.jsx("option",{value:"colher-chá-açúcar",children:"Colher chá açúcar"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Conversões:"}),s.jsx("div",{className:"space-y-1 text-sm",children:Object.keys(u).filter(g=>g!==o.unidade).map(g=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[g,":"]}),s.jsx("span",{className:"font-medium",children:f(o.valor,o.unidade,g).toFixed(2)})]},g))})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(Tw,{className:"h-6 w-6 text-green-500"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gerador de Etiquetas"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Produto *"}),s.jsx("input",{type:"text",value:r.nome_produto,onChange:g=>n({...r,nome_produto:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: Bolo de Chocolate"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preço (R$) *"}),s.jsx("input",{type:"number",step:"0.01",value:r.preco,onChange:g=>{const x=ep(g.target.value);n({...r,preco:x||0})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Digite o preço"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Validade"}),s.jsx("input",{type:"date",value:r.data_validade,onChange:g=>n({...r,data_validade:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ingredientes"}),s.jsx("textarea",{value:r.ingredientes,onChange:g=>n({...r,ingredientes:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Lista de ingredientes separados por vírgula"})]}),s.jsxs("button",{onClick:h,disabled:!r.nome_produto||r.preco<=0,className:"w-full bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[s.jsx(Tw,{className:"h-5 w-5"}),s.jsx("span",{children:"Gerar Etiqueta"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(NM,{className:"h-6 w-6 text-purple-500"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lista de Compras"})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Gere uma lista de compras com ingredientes básicos para confeitaria."}),s.jsxs("button",{onClick:m,className:"w-full bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(go,{className:"h-5 w-5"}),s.jsx("span",{children:"Gerar Lista de Compras"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx(tn,{className:"h-6 w-6 text-orange-500"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Calculadora Nutricional"})]}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx(tn,{className:"h-16 w-16 text-orange-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Em Desenvolvimento"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Esta funcionalidade estará disponível em breve para calcular informações nutricionais dos seus produtos."}),s.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-orange-700",children:["💡 ",s.jsx("strong",{children:"Prévia:"})," Calcule calorias, carboidratos, proteínas e gorduras automaticamente com base nos ingredientes das suas receitas."]})})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"💡 Dicas de Uso"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Conversores"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Use os conversores para adaptar receitas de outros países ou quando não tiver as medidas exatas."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Etiquetas"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Crie etiquetas profissionais para seus produtos. Inclua sempre os ingredientes para clientes com alergias."})]})]})]})]})})}function NX(){var c;const{user:e,profile:t}=Ie(),r=on(),[n,a]=p.useState(null),i=async u=>{a(u);try{r(u==="pix"?"/upgrade/pix":"/upgrade/stripe")}catch(d){console.error("Erro no upgrade:",d)}finally{a(null)}},o=u=>{switch(u){case"free":return s.jsx(Ps,{className:"h-8 w-8"});case"professional":return s.jsx(Qn,{className:"h-8 w-8"});case"premium":return s.jsx(Ki,{className:"h-8 w-8"});case"master":return s.jsx(Yn,{className:"h-8 w-8"});default:return s.jsx(Ps,{className:"h-8 w-8"})}},l=u=>{switch(u){case"free":return"border-gray-200 bg-white";case"professional":return"border-blue-200 bg-blue-50";case"premium":return"border-purple-200 bg-purple-50";case"master":return"border-yellow-200 bg-yellow-50";default:return"border-gray-200 bg-white"}};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Escolha seu Plano"}),s.jsx("p",{className:"text-gray-600",children:"Desbloqueie recursos avançados para fazer seu negócio crescer"})]})]}),t&&s.jsx("div",{className:"bg-white border border-blue-200 rounded-lg p-6 mb-8",children:s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:o(t.plano)}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Plano Atual: ",(c=Gi.find(u=>u.id===t.plano))==null?void 0:c.nome]}),s.jsx("p",{className:"text-gray-600",children:t.plano==="free"?"Upgrade para desbloquear mais recursos":"Obrigado por ser nosso cliente!"})]})]})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto mb-12",children:Gi.map(u=>{const d=(t==null?void 0:t.plano)===u.id;return s.jsxs("div",{className:`relative rounded-lg border-2 p-8 ${l(u.id)} ${u.popular?"ring-2 ring-purple-500 transform scale-105":""}`,children:[u.popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Mais Popular"})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${u.id==="free"?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-600"}`,children:o(u.id)}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.nome}),s.jsx("div",{className:"mb-4",children:u.preco_mensal===0?s.jsx("span",{className:"text-4xl font-bold text-gray-900",children:"Grátis"}):s.jsxs("div",{children:[s.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["R$ ",u.preco_mensal.toFixed(2).replace(".",",")]}),s.jsx("span",{className:"text-xl text-gray-600 font-normal",children:"/mês"})]})}),s.jsx("p",{className:"text-gray-600",children:u.descricao})]}),s.jsx("div",{className:"space-y-3 mb-8",children:u.funcionalidades.map((f,h)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ps,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700",children:f})]},h))}),s.jsx("div",{className:"mt-auto",children:d?s.jsx("div",{className:"w-full py-3 px-4 bg-gray-100 text-gray-600 rounded-lg text-center font-medium",children:"Plano Atual"}):u.id==="free"?s.jsx("button",{disabled:!0,className:"w-full py-3 px-4 bg-gray-100 text-gray-400 rounded-lg font-medium cursor-not-allowed",children:"Plano Gratuito"}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-center text-sm font-medium text-gray-700 mb-4",children:"Escolha sua forma de pagamento:"}),s.jsxs("button",{onClick:()=>i("pix"),disabled:n!==null,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[n==="pix"?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(rn,{className:"w-5 h-5"}),"Pagar com PIX",n!=="pix"&&s.jsx("span",{className:"bg-green-500 px-2 py-1 rounded text-xs ml-2",children:"Instantâneo"})]}),s.jsxs("button",{onClick:()=>i("card"),disabled:n!==null,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[n==="card"?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(lc,{className:"w-5 h-5"}),"Pagar com Cartão"]})]})})]},u.id)})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Perguntas Frequentes"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Posso mudar de plano a qualquer momento?"}),s.jsx("p",{className:"text-gray-600",children:"Sim! Você pode fazer upgrade ou downgrade do seu plano a qualquer momento. As alterações entram em vigor imediatamente."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Como funciona o período de teste?"}),s.jsx("p",{className:"text-gray-600",children:"Todos os planos pagos incluem 7 dias de teste gratuito. Você pode cancelar a qualquer momento durante o período de teste."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Meus dados ficam seguros?"}),s.jsx("p",{className:"text-gray-600",children:"Sim! Seus dados são criptografados e armazenados com segurança. Fazemos backup automático de todas as informações."})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preciso de cartão de crédito para o teste?"}),s.jsx("p",{className:"text-gray-600",children:"Não! O plano gratuito é permanente e não requer cartão de crédito. Para planos pagos, só pedimos cartão após o período de teste."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Posso cancelar a qualquer momento?"}),s.jsx("p",{className:"text-gray-600",children:"Sim! Não há contratos ou fidelidade. Você pode cancelar sua assinatura a qualquer momento e continuar usando até o final do período pago."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Oferecem suporte técnico?"}),s.jsx("p",{className:"text-gray-600",children:"Sim! Oferecemos suporte por email para todos os planos. Planos Premium e Master incluem suporte prioritário e telefônico."})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg text-white p-8 mt-8 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Pronto para fazer seu negócio crescer?"}),s.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Junte-se a milhares de confeiteiras que já estão vendendo mais com o DoceCalc"}),s.jsx(re,{to:"/dashboard",className:"inline-block bg-white text-purple-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Voltar ao Dashboard"})]})]})})}const _X=()=>{const{user:e,profile:t,upgradeUser:r}=Ie(),n=on(),[a,i]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState("form"),[d,f]=p.useState(!1),[h,m]=p.useState({name:(t==null?void 0:t.nome)||"",cellphone:"",email:(e==null?void 0:e.email)||"",taxId:""}),g=Gi.find(_=>_.id==="professional"),x=async()=>{i(!0);try{console.log("Creating PIX payment...");const{data:_,error:S}=await te.functions.invoke("create-pix",{body:{amount:g.preco_mensal,description:`Upgrade para Plano Professional - ${e==null?void 0:e.email}`,customer:{name:h.name,cellphone:h.cellphone,email:h.email,taxId:h.taxId},metadata:{userId:e==null?void 0:e.id,plano:"professional"}}});if(S){console.error("Error creating PIX:",S);let C="Erro ao criar pagamento PIX";S.message&&S.message.includes("CPF inválido")?C="CPF inválido. Digite um CPF válido no formato: 000.000.000-00":S.message&&S.message.includes("Telefone inválido")?C="Telefone inválido. Use o formato: (11) 99999-9999":S.message&&S.message.includes("Email inválido")?C="Email inválido. Verifique o endereço de email":S.message&&S.message.includes("Invalid taxId")&&(C="CPF inválido. Digite um CPF válido no formato: 000.000.000-00"),alert(C);return}console.log("PIX created successfully:",_),l(_.data),u("pending")}catch(_){console.error("Error:",_),alert("Erro ao criar pagamento PIX")}finally{i(!1)}},y=async()=>{if(o!=null&&o.id){f(!0);try{console.log("Checking payment status for:",o.id);const{data:_,error:S}=await te.functions.invoke("check-pix-status",{body:{pixId:o.id}});if(S){console.error("Error checking payment:",S);let C="Erro ao verificar pagamento";S.message&&S.message.includes("expired")?C="O PIX expirou. Gere um novo QR Code.":S.message&&S.message.includes("not found")&&(C="PIX não encontrado. Tente gerar um novo."),alert(C);return}console.log("Payment status:",_),_.data.status==="PAID"?(u("paid"),r&&r("professional"),setTimeout(()=>{n("/dashboard")},3e3)):_.data.status==="EXPIRED"&&u("expired")}catch(_){console.error("Error:",_),alert("Erro ao verificar pagamento")}finally{f(!1)}}},b=()=>{o!=null&&o.brCode&&(navigator.clipboard.writeText(o.brCode),alert("Chave PIX copiada!"))},j=_=>{if(_.preventDefault(),!h.name||!h.cellphone||!h.email||!h.taxId){alert("Todos os campos são obrigatórios");return}x()},v=(_,S)=>{m(C=>({...C,[_]:S}))},w=_=>_.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),N=_=>_.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{4,5})(\d{4})/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1");return c==="paid"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[s.jsx(je,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pagamento Confirmado!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Seu plano Professional foi ativado com sucesso. Você será redirecionado para o dashboard."}),s.jsx("div",{className:"w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(re,{to:"/upgrade",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pagamento via PIX"}),s.jsx("p",{className:"text-gray-600",children:c==="form"?"Complete seus dados para continuar":"Escaneie o QR Code ou copie a chave PIX"})]})]}),c==="form"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(lc,{className:"w-8 h-8 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Plano Professional"}),s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["R$ ",g.preco_mensal.toFixed(2).replace(".",",")]})]}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(Tr,{className:"w-4 h-4 inline mr-1"}),"Nome Completo *"]}),s.jsx("input",{type:"text",value:h.name,onChange:_=>v("name",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(WS,{className:"w-4 h-4 inline mr-1"}),"Telefone/WhatsApp *"]}),s.jsx("input",{type:"text",value:h.cellphone,onChange:_=>v("cellphone",N(_.target.value)),placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(pd,{className:"w-4 h-4 inline mr-1"}),"E-mail *"]}),s.jsx("input",{type:"email",value:h.email,onChange:_=>v("email",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[s.jsx(ht,{className:"w-4 h-4 inline mr-1"}),"CPF *"]}),s.jsx("input",{type:"text",value:h.taxId,onChange:_=>v("taxId",w(_.target.value)),placeholder:"000.000.000-00",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),s.jsxs("button",{type:"submit",disabled:a,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a?s.jsx(hn,{className:"w-5 h-5 animate-spin"}):s.jsx(rn,{className:"w-5 h-5"}),a?"Gerando PIX...":"Gerar QR Code PIX"]})]})]}),c==="pending"&&o&&s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rn,{className:"w-8 h-8 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"PIX Gerado com Sucesso"}),s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["R$ ",g.preco_mensal.toFixed(2).replace(".",",")]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[o.brCodeBase64?s.jsx("img",{src:o.brCodeBase64,alt:"QR Code PIX",className:"w-48 h-48 mx-auto border-2 border-gray-300 rounded-lg bg-white p-2"}):s.jsx("div",{className:"w-48 h-48 bg-white border-2 border-dashed border-gray-300 rounded-lg mx-auto flex items-center justify-center",children:s.jsx(rn,{className:"w-24 h-24 text-gray-400"})}),s.jsx("p",{className:"text-center text-sm text-gray-600 mt-4",children:"Escaneie este QR Code no seu banco ou app de pagamento"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ou copie a chave PIX:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:o.brCode||"",readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm font-mono"}),s.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:s.jsx(BS,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:y,disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[d?s.jsx(hn,{className:"w-5 h-5 animate-spin"}):s.jsx(je,{className:"w-5 h-5"}),d?"Verificando...":"Já efetuei o pagamento"]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium",children:"Aguardando pagamento..."})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Expira em: ",new Date(o.expiresAt).toLocaleString("pt-BR")]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Como pagar:"}),s.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"1. Abra o app do seu banco"}),s.jsx("li",{children:'2. Vá em PIX e escolha "Pagar com QR Code"'}),s.jsx("li",{children:"3. Escaneie o código acima ou cole a chave PIX"}),s.jsxs("li",{children:["4. Confirme o pagamento de R$ ",g.preco_mensal.toFixed(2).replace(".",",")]}),s.jsx("li",{children:'5. Clique em "Já efetuei o pagamento" para verificar'})]})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Problemas com o pagamento?",s.jsx("a",{href:"#",className:"text-purple-600 hover:underline ml-1",children:"Entre em contato"})]})})]})})},SX=()=>{const{user:e,profile:t,upgradeUser:r}=Ie(),n=on(),[a,i]=p.useState(!1),[o,l]=p.useState(!1),c=Gi.find(f=>f.id==="professional");p.useEffect(()=>{u()},[]);const u=async()=>{if(e){l(!0);try{console.log("Checking subscription status...");const{data:f,error:h}=await te.functions.invoke("check-subscription",{body:{userEmail:e.email}});if(h){console.error("Error checking subscription:",h);return}console.log("Subscription status:",f),f.subscribed&&(r&&r("professional"),setTimeout(()=>{n("/dashboard")},2e3))}catch(f){console.error("Error:",f)}finally{l(!1)}}},d=async()=>{if(!e){alert("Você precisa estar logado para fazer upgrade");return}i(!0);try{console.log("Creating Stripe checkout session...");const{data:f,error:h}=await te.functions.invoke("create-checkout",{body:{userEmail:e.email,userName:t==null?void 0:t.nome}});if(h){console.error("Error creating checkout:",h),alert("Erro ao criar sessão de pagamento: "+(h.message||"Erro desconhecido"));return}console.log("Checkout session created:",f),f.url&&window.open(f.url,"_blank")}catch(f){console.error("Error:",f),alert("Erro interno. Tente novamente em alguns segundos.")}finally{i(!1)}};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hn,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-purple-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verificando sua assinatura..."}),s.jsx("p",{className:"text-gray-600",children:"Aguarde um momento"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(re,{to:"/upgrade",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pagamento com Cartão"}),s.jsx("p",{className:"text-gray-600",children:"Finalize sua assinatura do plano Professional"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[s.jsx(Tr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Dados da Conta"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),s.jsx("input",{type:"text",value:(t==null?void 0:t.nome)||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),s.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{onClick:d,disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a?s.jsx(hn,{className:"w-5 h-5 animate-spin"}):s.jsx(lc,{className:"w-5 h-5"}),a?"Processando...":"Pagar com Stripe"]})}),s.jsxs("div",{className:"flex items-center space-x-2 mt-4 text-sm text-gray-500",children:[s.jsx(hg,{className:"w-4 h-4"}),s.jsx("span",{children:"Pagamento seguro processado pelo Stripe"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo da Assinatura"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Plano Professional"}),s.jsxs("span",{className:"font-medium",children:["R$ ",c.preco_mensal.toFixed(2).replace(".",",")]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[s.jsx("span",{children:"Frequência"}),s.jsx("span",{children:"Mensal"})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[s.jsx("span",{children:"Total Mensal"}),s.jsxs("span",{children:["R$ ",c.preco_mensal.toFixed(2).replace(".",",")]})]})})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"Incluído na assinatura:"}),c.funcionalidades.slice(0,8).map((f,h)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(je,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-gray-600",children:f})]},h))]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Vantagens:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"• Cancele a qualquer momento"}),s.jsx("li",{children:"• Sem fidelidade ou taxas extras"}),s.jsx("li",{children:"• Suporte prioritário"}),s.jsx("li",{children:"• Atualizações automáticas"})]})]})]})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("p",{className:"text-sm text-gray-500",children:'Ao clicar em "Pagar com Stripe" você será redirecionado para o checkout seguro do Stripe.'})})]})})},CX=()=>{const{user:e,profile:t,upgradeUser:r}=Ie();on();const[n]=F3(),[a,i]=p.useState(!0),[o,l]=p.useState(!1);p.useEffect(()=>{const u=n.get("session_id");u&&e?c(u):i(!1)},[n,e]);const c=async u=>{try{console.log("Verifying payment for session:",u);const{data:d,error:f}=await te.functions.invoke("check-subscription",{body:{userEmail:e==null?void 0:e.email}});if(f){console.error("Error verifying payment:",f),i(!1);return}console.log("Payment verification result:",d),d.subscribed&&(r&&r("professional"),l(!0))}catch(d){console.error("Error:",d)}finally{i(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verificando seu pagamento..."}),s.jsx("p",{className:"text-gray-600",children:"Aguarde um momento"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(je,{className:"w-12 h-12 text-green-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:o?"Pagamento Confirmado!":"Obrigado pelo pagamento!"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:o?"Seu plano Professional foi ativado com sucesso. Agora você tem acesso a todas as funcionalidades premium!":"Estamos processando seu pagamento. Em breve você receberá a confirmação."}),o&&s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx(Yn,{className:"w-6 h-6 text-purple-600"}),s.jsx("h2",{className:"text-xl font-semibold text-purple-900",children:"Bem-vindo ao Plano Professional!"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(je,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Receitas ilimitadas"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(je,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Orçamentos ilimitados"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(je,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Gestão completa de clientes"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(je,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Relatórios avançados"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(je,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Backup automático"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(je,{className:"w-4 h-4 text-green-500"}),s.jsx("span",{children:"Suporte prioritário"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(re,{to:"/dashboard",className:"inline-flex items-center space-x-2 bg-purple-600 text-white px-8 py-3 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:[s.jsx("span",{children:"Ir para o Dashboard"}),s.jsx(kr,{className:"w-5 h-5"})]}),s.jsx("div",{className:"text-center",children:s.jsx(re,{to:"/subscription",className:"text-gray-600 hover:text-gray-900 text-sm underline",children:"Gerenciar assinatura"})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Precisa de ajuda?",s.jsx("a",{href:"#",className:"text-purple-600 hover:underline ml-1",children:"Entre em contato conosco"})]})})]})})};function kX(){const{user:e,profile:t,checkSubscription:r}=Ie(),{toast:n}=Xs(),[a,i]=p.useState(null),[o,l]=p.useState(!0),[c,u]=p.useState(!1);p.useEffect(()=>{d();const g=setInterval(d,3e4);return()=>clearInterval(g)},[e]);const d=async()=>{if(e)try{const{data:g,error:x}=await te.functions.invoke("check-subscription",{body:{userEmail:e.email}});if(x)throw x;i(g),(g!=null&&g.subscribed&&(t==null?void 0:t.plano)!=="professional"||!(g!=null&&g.subscribed)&&(t==null?void 0:t.plano)!=="free")&&r()}catch(g){console.error("Erro ao verificar assinatura:",g)}finally{l(!1)}},f=async()=>{var g;if(e){u(!0);try{const{data:x,error:y}=await te.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${(g=(await te.auth.getSession()).data.session)==null?void 0:g.access_token}`}});if(y)throw y;x!=null&&x.url&&(window.open(x.url,"_blank"),n({title:"Portal aberto!",description:"Você foi redirecionado para o portal de assinatura do Stripe."}))}catch(x){n({title:"Erro ao abrir portal",description:x.message||"Tente novamente em alguns segundos.",variant:"destructive"})}finally{u(!1)}}},h=g=>new Date(g).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}),m=g=>{const x=new Date(g),y=new Date,b=x.getTime()-y.getTime();return Math.ceil(b/(1e3*60*60*24))};return o?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(jm,{className:"w-5 h-5 animate-spin text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verificando assinatura..."})]})})})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciar Assinatura"}),s.jsx("p",{className:"text-gray-600",children:"Controle sua assinatura e histórico de pagamentos"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status da Assinatura"}),s.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Atualizar status",children:s.jsx(jm,{className:"w-4 h-4 text-gray-600"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[a!=null&&a.subscribed?s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(je,{className:"w-8 h-8 text-green-500"})}):s.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(bx,{className:"w-8 h-8 text-yellow-500"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:a!=null&&a.subscribed?"Plano Professional Ativo":"Plano Gratuito"}),s.jsx("p",{className:"text-gray-600",children:a!=null&&a.subscribed?"Você tem acesso completo a todos os recursos":"Faça upgrade para desbloquear recursos avançados"})]})]}),(a==null?void 0:a.subscribed)&&(a==null?void 0:a.subscription_end)&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(If,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900",children:"Próxima cobrança"})]}),s.jsx("p",{className:"text-blue-800",children:h(a.subscription_end)}),s.jsx("p",{className:"text-sm text-blue-600 mt-1",children:m(a.subscription_end)>0?`${m(a.subscription_end)} dias restantes`:"Renovação hoje"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(sn,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900",children:"Valor mensal"})]}),s.jsx("p",{className:"text-blue-800 text-lg font-semibold",children:"R$ 39,90"}),s.jsx("p",{className:"text-sm text-blue-600",children:"Cobrança automática"})]})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:a!=null&&a.subscribed?"Recursos Ativos":"Recursos do Plano Professional"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Receitas ilimitadas"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Orçamentos ilimitados"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Gestão completa de clientes"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Relatórios avançados"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Backup automático"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(je,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700",children:"Suporte prioritário"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ações"}),s.jsxs("div",{className:"space-y-3",children:[a!=null&&a.subscribed?s.jsxs("button",{onClick:f,disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c?s.jsx(jm,{className:"w-4 h-4 animate-spin"}):s.jsx(lc,{className:"w-4 h-4"}),c?"Abrindo...":"Portal de Pagamento",!c&&s.jsx(zS,{className:"w-4 h-4"})]}):s.jsxs(re,{to:"/upgrade",className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[s.jsx(Yn,{className:"w-4 h-4"}),"Fazer Upgrade"]}),(a==null?void 0:a.subscribed)&&s.jsxs("div",{className:"text-xs text-gray-500 text-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"mb-2",children:s.jsx("strong",{children:"No portal você pode:"})}),s.jsxs("ul",{className:"text-left space-y-1",children:[s.jsx("li",{children:"• Cancelar assinatura"}),s.jsx("li",{children:"• Alterar método de pagamento"}),s.jsx("li",{children:"• Baixar faturas"}),s.jsx("li",{children:"• Ver histórico completo"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Precisa de ajuda?"}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[s.jsx("p",{children:"Tem dúvidas sobre sua assinatura ou precisa de suporte?"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," suporte@docecalc.com"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Horário:"})," Segunda a Sexta, 9h às 18h"]})]})]})]})]})]})})}function EX(){const[e,t]=p.useState(null),r=a=>{t(e===a?null:a)},n=[{id:"calculadora",nome:"Calculadora de Custos",icone:s.jsx(tn,{className:"h-6 w-6"}),cor:"bg-blue-500",resumo:"Calcula o preço real dos seus produtos considerando todos os custos",oQueE:"A calculadora é a ferramenta mais importante do DoceCalc. Ela calcula automaticamente quanto você deve cobrar por cada produto, considerando ingredientes, mão de obra e margem de lucro.",paraque:'Para você nunca mais vender no prejuízo! Muitas confeiteiras cobram baseado no "achismo", mas a calculadora mostra o preço científico baseado nos seus custos reais.',comoFunciona:['1. Crie uma nova receita clicando em "Nova Receita"',"2. Adicione todos os ingredientes com quantidades exatas","3. Defina o tempo de preparo (sua mão de obra)","4. Escolha a margem de lucro desejada (recomendamos 30-50%)","5. O sistema calcula automaticamente o preço sugerido"],dicasImportantes:["⚠️ Sempre inclua TODOS os ingredientes, até os menores (açúcar, sal, fermento)","💡 O tempo de preparo inclui misturar, assar, esfriar e decorar","🎯 Margem de 30% é mínima, 50% é ideal para crescer","📊 Atualize os preços dos ingredientes mensalmente"],exemplo:"Exemplo: Brigadeiro gourmet → Chocolate (R$8), Leite condensado (R$4), Manteiga (R$2), Tempo (30min = R$12,50) = Custo R$26,50. Com margem 40% = Preço final: R$37,10 (6 brigadeiros = R$6,18 cada)"},{id:"ingredientes",nome:"Gestão de Ingredientes",icone:s.jsx(Fs,{className:"h-6 w-6"}),cor:"bg-purple-500",resumo:"Controla estoque e preços dos seus ingredientes",oQueE:"Um sistema para cadastrar todos os ingredientes que você usa, com preços atualizados e controle de estoque.",paraque:"Para ter controle total dos seus custos e nunca ficar sem ingredientes na hora de produzir.",comoFunciona:['1. Vá em "Ingredientes" no menu','2. Clique em "Adicionar Ingrediente"',"3. Preencha nome, categoria, unidade e preço atual","4. Atualize o estoque quando comprar/usar ingredientes","5. O sistema avisa quando o estoque está baixo"],dicasImportantes:["💰 Sempre cadastre o preço por unidade (kg, litro, unidade)","📦 Atualize o estoque regularmente para não faltar ingredientes","🔄 Revise os preços mensalmente (inflação afeta seus custos)","📋 Use categorias para organizar melhor (Chocolates, Farinhas, etc.)"],exemplo:"Exemplo: Chocolate em pó → Categoria: Chocolates, Unidade: kg, Preço: R$25,00/kg, Estoque: 2kg. Quando usar 500g numa receita, atualiza para 1,5kg automaticamente."},{id:"receitas",nome:"Receitas e Produtos",icone:s.jsx(lM,{className:"h-6 w-6"}),cor:"bg-green-500",resumo:"Armazena suas receitas com custos calculados automaticamente",oQueE:"Aqui você guarda todas as suas receitas com ingredientes, quantidades e instruções. O sistema calcula automaticamente o custo de cada receita.",paraque:"Para ter todas suas receitas organizadas e saber exatamente quanto custa fazer cada produto.",comoFunciona:['1. Clique em "Receitas" no menu','2. Clique em "Nova Receita"',"3. Dê nome, descrição e escolha categoria","4. Adicione ingredientes um por um com quantidades","5. Adicione modo de preparo e tempo","6. O custo é calculado automaticamente"],dicasImportantes:["📝 Escreva instruções claras para não esquecer os passos",'⚖️ Use quantidades exatas (500g, não "meio pacote")',"⏱️ Inclua tempo real: preparo + forno + decoração","🏷️ Use categorias para organizar (Bolos, Doces, Salgados)"],exemplo:"Exemplo: Bolo de chocolate → Farinha (500g), Açúcar (300g), Chocolate (200g), Ovos (3 unidades). Tempo total: 2h. Custo calculado: R$18,50 + mão de obra."},{id:"clientes",nome:"Gestão de Clientes",icone:s.jsx(vn,{className:"h-6 w-6"}),cor:"bg-indigo-500",resumo:"Cadastra e organiza informações dos seus clientes",oQueE:"Sistema para guardar dados dos seus clientes: nome, telefone, preferências e histórico de pedidos.",paraque:"Para ter controle de quem são seus clientes, facilitar contato e oferecer atendimento personalizado.",comoFunciona:['1. Vá em "Clientes" no menu','2. Clique em "Novo Cliente"',"3. Preencha nome, telefone, WhatsApp","4. Adicione endereço se faz entrega","5. Anote observações importantes (alergias, preferências)","6. Consulte quando precisar fazer orçamento"],dicasImportantes:["📱 Sempre cadastre WhatsApp para facilitar contato","📍 Endereço completo se faz entregas","🎂 Anote datas importantes (aniversários, casamentos)","⚠️ Registre alergias e restrições alimentares"],exemplo:'Exemplo: Maria Silva → Tel: (11) 99999-9999, Endereço: Rua das Flores 123, Obs: "Alérgica a amendoim, gosta de chocolate 70%, aniversário do filho em dezembro"'},{id:"orcamentos",nome:"Orçamentos",icone:s.jsx(ht,{className:"h-6 w-6"}),cor:"bg-pink-500",resumo:"Cria orçamentos profissionais para seus clientes",oQueE:"Ferramenta para criar orçamentos organizados com múltiplos produtos, quantidades e valores totais.",paraque:"Para enviar orçamentos profissionais aos clientes e acompanhar quais foram aprovados.",comoFunciona:['1. Vá em "Orçamentos" no menu','2. Clique em "Novo Orçamento"',"3. Escolha o cliente ou cadastre um novo","4. Adicione produtos do seu catálogo de receitas","5. Defina quantidades para cada item","6. O total é calculado automaticamente","7. Envie por WhatsApp ou imprima"],dicasImportantes:["⏰ Sempre defina prazo de validade do orçamento","📅 Inclua prazo de entrega dos produtos","💳 Especifique formas de pagamento aceitas","📋 Detalhe bem cada item para evitar confusões"],exemplo:"Exemplo: Festa infantil → 50 brigadeiros (R$185), 30 beijinhos (R$120), 1 bolo decorado (R$85) = Total: R$390. Prazo entrega: 3 dias."},{id:"relatorios",nome:"Relatórios",icone:s.jsx(md,{className:"h-6 w-6"}),cor:"bg-orange-500",resumo:"Mostra gráficos e dados do seu negócio (Plano Professional)",oQueE:"Dashboard com gráficos mostrando vendas, produtos mais vendidos, clientes e evolução do negócio.",paraque:"Para entender como seu negócio está indo e tomar decisões baseadas em dados reais.",comoFunciona:['1. Vá em "Relatórios" (precisa do plano Professional)',"2. Veja gráficos de vendas por período","3. Analise quais produtos vendem mais","4. Identifique seus melhores clientes","5. Acompanhe evolução mensal/anual","6. Use os dados para planejar seu crescimento"],dicasImportantes:["📊 Produtos mais vendidos merecem promoção especial","🎯 Clientes VIP merecem atendimento diferenciado","📈 Meses fracos precisam de campanhas de marketing","💡 Use dados para criar novos produtos"],exemplo:'Exemplo: "Brigadeiro gourmet é 40% das vendas", "Dezembro vende 3x mais", "Cliente Maria já gastou R$2.500 este ano" - Use essas informações!'},{id:"comunidade",nome:"Comunidade",icone:s.jsx(xn,{className:"h-6 w-6"}),cor:"bg-cyan-500",resumo:"Converse com outros confeiteiros e compartilhe experiências",oQueE:"Rede social interna onde confeiteiros compartilham dicas, receitas, fazem perguntas e ajudam uns aos outros.",paraque:"Para aprender com quem já tem experiência, tirar dúvidas e fazer networking no ramo.",comoFunciona:['1. Vá em "Comunidade" no menu',"2. Leia posts de outros confeiteiros","3. Curta e comente posts que achar interessantes","4. Crie seus próprios posts com dicas ou perguntas","5. Use categorias: Dicas, Perguntas, Receitas, Negócio","6. Pesquise por temas específicos"],dicasImportantes:["🤝 Seja respeitoso e prestativo com outros usuários","❓ Faça perguntas específicas para obter melhores respostas","💡 Compartilhe suas descobertas para ajudar outros","🔍 Use a busca para ver se sua dúvida já foi respondida"],exemplo:'Exemplo: Poste "Dica: Descobri que conservar brigadeiro na geladeira por 1h antes de enrolar facilita muito!" ou pergunte "Como evitar que o merengue murche?"'},{id:"catalogo",nome:"Catálogo Online",icone:s.jsx(mg,{className:"h-6 w-6"}),cor:"bg-purple-600",resumo:"Crie seu site de vendas online (Em breve)",oQueE:"Funcionalidade em desenvolvimento para criar uma loja online onde clientes podem ver seus produtos e fazer pedidos.",paraque:"Para vender 24 horas por dia através de um site próprio, sem depender só de WhatsApp.",comoFunciona:["🚧 Esta funcionalidade está em desenvolvimento","Em breve você poderá:","• Criar um catálogo online bonito","• Receber pedidos automaticamente","• Compartilhar link do seu site","• Integrar com WhatsApp"],dicasImportantes:["⏳ Aguarde o lançamento desta funcionalidade","📸 Vá tirando fotos bonitas dos seus produtos","📝 Prepare descrições atrativas","💳 Pense nas formas de pagamento que vai aceitar"],exemplo:"Em breve: www.docecalc.com/loja/seunome - seus clientes poderão ver todos seus produtos e fazer pedidos diretamente online!"}];return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Como Usar o DoceCalc 📚"}),s.jsx("p",{className:"text-gray-600",children:"Guia completo para dominar todas as ferramentas e vender mais"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 rounded-lg text-white p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(qS,{className:"h-8 w-8"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Bem-vinda ao DoceCalc!"})]}),s.jsx("p",{className:"text-lg mb-4",children:"Este guia completo vai te ensinar a dominar cada ferramenta e transformar sua confeitaria num negócio mais lucrativo e organizado."}),s.jsxs("div",{className:"bg-white/20 rounded-lg p-4 mb-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"🎯 Por onde começar:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"1º:"})," Ingredientes (cadastre tudo com preços atuais)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"2º:"})," Calculadora (crie suas receitas principais)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"3º:"})," Use as outras conforme precisa"]})]}),s.jsx("div",{className:"bg-white/10 rounded-lg p-3",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"💡 Dica de ouro:"})," Leia cada seção com atenção. Uma hora investida aqui vai te economizar semanas de dúvidas!"]})})]}),s.jsx("div",{className:"space-y-4",children:n.map(a=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("button",{onClick:()=>r(a.id),className:"w-full p-6 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`${a.cor} p-3 rounded-lg text-white`,children:a.icone}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a.nome}),s.jsx("p",{className:"text-gray-600",children:a.resumo})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(re,{to:`/${a.id}`,onClick:i=>i.stopPropagation(),className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-md text-sm hover:bg-blue-200 transition-colors",children:"Usar Agora"}),e===a.id?s.jsx(hM,{className:"h-5 w-5 text-gray-400"}):s.jsx(mM,{className:"h-5 w-5 text-gray-400"})]})]}),e===a.id&&s.jsx("div",{className:"px-6 pb-6 border-t border-gray-100",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center space-x-2",children:[s.jsx(gd,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{children:"O que é?"})]}),s.jsx("p",{className:"text-gray-700",children:a.oQueE})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center space-x-2",children:[s.jsx(Qn,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{children:"Para que serve?"})]}),s.jsx("p",{className:"text-gray-700",children:a.paraque})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"💡 Dicas Importantes:"}),s.jsx("ul",{className:"space-y-2 text-sm text-yellow-700",children:a.dicasImportantes.map((i,o)=>s.jsx("li",{children:i},o))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[s.jsx(VS,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Como usar (passo a passo):"})]}),s.jsx("ol",{className:"space-y-2",children:a.comoFunciona.map((i,o)=>s.jsx("li",{className:"text-gray-700 text-sm",children:i},o))})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"📝 Exemplo Prático:"}),s.jsx("p",{className:"text-sm text-blue-700",children:a.exemplo})]})]})]})})]},a.id))}),s.jsxs("div",{className:"mt-12 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"🚀 Plano de Ação: Seus Primeiros Passos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-blue-900 mb-3",children:"🗓️ Primeiro Dia"}),s.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[s.jsx("li",{children:"✅ Cadastre 10 ingredientes básicos"}),s.jsx("li",{children:"✅ Crie sua primeira receita"}),s.jsx("li",{children:"✅ Teste a calculadora de custos"}),s.jsx("li",{children:"✅ Adicione 2-3 clientes"})]})]}),s.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-green-900 mb-3",children:"📅 Primeira Semana"}),s.jsxs("ul",{className:"space-y-2 text-green-800 text-sm",children:[s.jsx("li",{children:"✅ Complete 20+ ingredientes"}),s.jsx("li",{children:"✅ Crie 5 receitas principais"}),s.jsx("li",{children:"✅ Faça 3 orçamentos de teste"}),s.jsx("li",{children:"✅ Configure seu perfil completo"})]})]}),s.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-purple-900 mb-3",children:"🎯 Primeiro Mês"}),s.jsxs("ul",{className:"space-y-2 text-purple-800 text-sm",children:[s.jsx("li",{children:"✅ Use todos os relatórios"}),s.jsx("li",{children:"✅ Participe da comunidade"}),s.jsx("li",{children:"✅ Domine todas as ferramentas"}),s.jsx("li",{children:"✅ Considere plano Professional"})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg text-white p-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"⚠️ Erros Comuns que Custam Caro"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"❌ NÃO faça:"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:'• Precificar "no olho" sem calcular'}),s.jsx("li",{children:"• Esquecer de incluir sua mão de obra"}),s.jsx("li",{children:"• Usar preços desatualizados"}),s.jsx("li",{children:"• Margem de lucro menor que 30%"}),s.jsx("li",{children:"• Não anotar gastos extras (gás, luz)"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"✅ SEMPRE faça:"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"• Use a calculadora para tudo"}),s.jsx("li",{children:"• Atualize preços mensalmente"}),s.jsx("li",{children:"• Inclua 100% dos custos"}),s.jsx("li",{children:"• Mantenha margem mínima de 40%"}),s.jsx("li",{children:"• Registre todos os gastos"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"💬 Precisa de Ajuda?"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"🤝 Na Comunidade:"}),s.jsx("p",{className:"text-gray-700 text-sm mb-3",children:"Milhares de confeiteiras dispostas a ajudar! Faça perguntas, tire dúvidas e compartilhe experiências."}),s.jsx(re,{to:"/comunidade",className:"inline-block bg-blue-100 text-blue-700 px-4 py-2 rounded-md text-sm hover:bg-blue-200 transition-colors",children:"Ir para Comunidade"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"🎓 Dicas Diárias:"}),s.jsx("p",{className:"text-gray-700 text-sm mb-3",children:"Use o sistema todo dia por 10 minutos. Em 1 mês você será expert e seu negócio estará organizado!"}),s.jsx(re,{to:"/dashboard",className:"inline-block bg-pink-100 text-pink-700 px-4 py-2 rounded-md text-sm hover:bg-pink-200 transition-colors",children:"Começar Agora"})]})]})]})]})]})})}function PX(){const{user:e,profile:t,updatePerfil:r}=Ie(),[n,a]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState({nomeFantasia:"",whatsapp:"",instagram:"",endereco:"",descricao:""}),[u,d]=p.useState(!1),[f,h]=p.useState(!1),[m,g]=p.useState(!1);p.useEffect(()=>{if(e){const y=se("doce_receitas",[]).filter(v=>v.usuario_id===e.id&&v.ativo),b=se(`produtos_catalogo_${e.id}`,[]),j=se(`dados_confeitaria_${e.id}`,{nomeFantasia:(t==null?void 0:t.nome)||"",whatsapp:"",instagram:"",endereco:"",descricao:""});a(y),o(b),c(j),d(!1)}},[e]);const x=()=>{const y=`${window.location.origin}/catalogo/${e==null?void 0:e.id}`;navigator.clipboard.writeText(y),alert("Link copiado para a área de transferência!")};return i.filter(y=>y.ativo),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[s.jsx(mg,{className:"h-8 w-8 text-blue-600"}),s.jsx("span",{children:"Meu Catálogo"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Configure seu catálogo público para receber encomendas online"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:x,className:"flex items-center space-x-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-200 transition-colors",children:[s.jsx(zl,{className:"h-4 w-4"}),s.jsx("span",{children:"Copiar Link"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 bg-purple-100 text-purple-700 px-4 py-2 rounded-lg hover:bg-purple-200 transition-colors",children:[s.jsx(rn,{className:"h-4 w-4"}),s.jsx("span",{children:"QR Code"})]}),s.jsxs(re,{to:`/catalogo/${e==null?void 0:e.id}`,target:"_blank",className:"flex items-center space-x-2 bg-green-100 text-green-700 px-4 py-2 rounded-lg hover:bg-green-200 transition-colors",children:[s.jsx(zS,{className:"h-4 w-4"}),s.jsx("span",{children:"Visualizar"})]})]})]})}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(mg,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Catálogo Online"}),s.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Em breve!"}),s.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Estamos preparando uma funcionalidade incrível para você criar e gerenciar seu catálogo online de produtos."})]})})]})})}function AX(){const{userId:e}=d3(),[t,r]=p.useState([]),[n,a]=p.useState(null),[i,o]=p.useState(!0);p.useEffect(()=>{if(e){const d=se("catalogo_produtos",[]).filter(m=>m.usuario_id===e&&m.ativo);r(d);const h=se("catalogo_branding",[]).find(m=>m.usuario_id===e);a(h||null),o(!1)}},[e]);const l=u=>{const d=u.replace(/\D/g,"");return d.length===11?`https://wa.me/55${d}`:`https://wa.me/${d}`},c=u=>{if(!(n!=null&&n.configuracoes.contato_whatsapp))return;let d=`Olá! Gostaria de saber mais sobre os produtos da ${n.nome_confeitaria}.`;u&&(d=`Olá! Tenho interesse no produto: *${u.nome}*. Gostaria de saber mais informações!`);const f=l(n.configuracoes.contato_whatsapp);window.open(`${f}?text=${encodeURIComponent(d)}`,"_blank")};return i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando catálogo..."})]})}):n?s.jsxs("div",{className:"min-h-screen",style:{backgroundColor:n.cor_secundaria,fontFamily:n.fonte==="serif"?"serif":n.fonte==="mono"?"monospace":"sans-serif"},children:[s.jsx("div",{className:"bg-white shadow-sm border-b-2",style:{borderBottomColor:n.cor_primaria},children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"text-center",children:[n.logo_url&&s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsx("img",{src:n.logo_url,alt:n.nome_confeitaria,className:"w-24 h-24 object-cover rounded-full shadow-lg border-4",style:{borderColor:n.cor_primaria}})}),s.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:n.cor_primaria},children:n.nome_confeitaria}),s.jsx("p",{className:"text-lg text-gray-600 mb-6",children:n.configuracoes.texto_cabecalho}),n.configuracoes.contato_whatsapp&&s.jsxs("button",{onClick:()=>c(),className:"inline-flex items-center space-x-2 text-white px-6 py-3 rounded-full font-medium shadow-lg hover:shadow-xl transition-all transform hover:scale-105",style:{backgroundColor:n.cor_primaria},children:[s.jsx(xn,{className:"h-5 w-5"}),s.jsx("span",{children:"Fale Conosco no WhatsApp"})]})]})})}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:t.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Zt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Nenhum produto disponível"}),s.jsx("p",{className:"text-gray-500",children:"Os produtos serão exibidos aqui quando forem adicionados ao catálogo."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Nossos Produtos"}),n.elementos_visuais.separadores&&s.jsx("div",{className:"w-24 h-1 mx-auto rounded-full",style:{backgroundColor:n.cor_primaria}})]}),s.jsx("div",{className:`grid gap-6 ${n.layout==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":n.layout==="lista"?"grid-cols-1 max-w-2xl mx-auto":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4"}`,children:t.map(u=>s.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow ${n.elementos_visuais.bordas_decorativas?"border-2":"border"}`,style:{borderColor:n.elementos_visuais.bordas_decorativas?n.cor_primaria:"#e5e7eb"},children:[s.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:u.foto?s.jsx("img",{src:u.foto,alt:u.nome,className:"w-full h-full object-cover"}):s.jsx(Zt,{className:"h-16 w-16 text-gray-400"})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 flex-1",children:u.nome}),n.elementos_visuais.icones_tematicos&&s.jsx(US,{className:"h-5 w-5 text-gray-400 hover:text-red-500 cursor-pointer transition-colors"})]}),u.categoria&&s.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[u.categoria," • ",u.serve]}),n.configuracoes.mostrar_descricoes&&u.descricao_publica&&s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:u.descricao_publica}),s.jsxs("div",{className:"flex items-center justify-between",children:[n.configuracoes.mostrar_precos&&s.jsxs("div",{className:"text-xl font-bold",style:{color:n.cor_primaria},children:["R$ ",u.preco_publico.toFixed(2)]}),s.jsxs("button",{onClick:()=>c(u),className:"flex items-center space-x-1 text-white px-4 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition-opacity",style:{backgroundColor:n.cor_primaria},children:[s.jsx(xn,{className:"h-4 w-4"}),s.jsx("span",{children:"Pedir"})]})]}),u.prazo_entrega&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["📅 Prazo: ",u.prazo_entrega]})]})]},u.id))})]})}),s.jsx("div",{className:"bg-white border-t border-gray-200 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-4",children:[n.logo_url&&s.jsx("img",{src:n.logo_url,alt:n.nome_confeitaria,className:"w-8 h-8 object-cover rounded"}),s.jsx("h3",{className:"text-lg font-semibold",style:{color:n.cor_primaria},children:n.nome_confeitaria})]}),n.configuracoes.contato_whatsapp&&s.jsxs("p",{className:"text-gray-600 text-sm",children:["Entre em contato: ",n.configuracoes.contato_whatsapp]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Catálogo criado com DoceCalc 💜"})})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Catálogo não encontrado"}),s.jsx("p",{className:"text-gray-600",children:"Este catálogo pode ter sido removido ou não existe."})]})})}function OX(){const{user:e}=Ie(),[t,r]=p.useState([]),[n,a]=p.useState([]),[i,o]=p.useState("todas");return p.useEffect(()=>{if(e){const l=se(`encomendas_${e.id}`,[]),c=se(`produtos_catalogo_${e.id}`,[]),u=l.sort((d,f)=>new Date(f.data_encomenda).getTime()-new Date(d.data_encomenda).getTime());r(u),a(c)}},[e]),i==="todas"||t.filter(l=>l.status===i),s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx(re,{to:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[s.jsx(Zt,{className:"h-8 w-8 text-blue-600"}),s.jsx("span",{children:"Encomendas"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie as encomendas recebidas através do seu catálogo"})]})]})}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zt,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Gestão de Encomendas"}),s.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Em breve!"}),s.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Estamos desenvolvendo um sistema completo para gerenciar todas as suas encomendas de forma organizada e eficiente."})]})})]})})}function TX(){const{user:e,profile:t}=Ie(),[r,n]=p.useState([]),[a,i]=p.useState("todos"),[o,l]=p.useState(""),[c,u]=p.useState({titulo:"",conteudo:"",categoria:"dica"}),[d,f]=p.useState(!1),[h,m]=p.useState({}),[g,x]=p.useState({}),[y,b]=p.useState([]),[j,v]=p.useState([]),[w,N]=p.useState("posts");p.useEffect(()=>{const E=se("receitas_compartilhadas",[]),k=se(le.RECEITAS,[]);b(E.filter(B=>B.ativo)),v(k),n([{id:"1",autor:"Maria Silva",titulo:"Dica: Como calcular o preço ideal para brigadeiros gourmet",conteudo:"Pessoal, descobri uma técnica incrível para precificar brigadeiros gourmet! Sempre multiplico o custo dos ingredientes por 3.5 e adiciono R$ 0,50 por unidade de mão de obra. Tem funcionado super bem!",categoria:"dica",curtidas:15,comentarios:[{id:"1-1",autor:"Pedro Santos",conteudo:"Ótima dica! Vou testar na minha confeitaria.",data:"2025-09-18"},{id:"1-2",autor:"Ana Costa",conteudo:"Funcionou comigo também! Obrigada por compartilhar.",data:"2025-09-18"}],data:"2025-09-18",jaInteragiu:!1},{id:"2",autor:"Ana Costa",titulo:"Ajuda: Massa de bolo murcha depois de assada",conteudo:"Gente, preciso de ajuda! Minha massa de bolo fica linda no forno, mas depois murcha. Já tentei várias receitas e sempre acontece isso. Alguém tem alguma dica?",categoria:"pergunta",curtidas:3,comentarios:[{id:"2-1",autor:"João",conteudo:"Pode ser excesso de fermento ou abertura do forno antes da hora. Deixa assar uns 40min sem abrir!",data:"2025-09-17"}],data:"2025-09-17",jaInteragiu:!1},{id:"3",autor:"João Santos",titulo:"Receita: Brownie que nunca falha",conteudo:"Compartilhando com vocês minha receita secreta de brownie! 200g chocolate meio amargo, 100g manteiga, 2 ovos, 100g açúcar cristal, 50g farinha. Assa 180°C por 25min. Sucesso garantido!",categoria:"receita",curtidas:28,comentarios:[],data:"2025-09-16",jaInteragiu:!0},{id:"4",autor:"Carla Lima",titulo:"Negócio: Como aumentei minhas vendas em 300%",conteudo:"Pessoal, quero compartilhar minha estratégia que triplicou minhas vendas em 6 meses: focar em nichos específicos (casamentos), criar pacotes, usar redes sociais estrategicamente e sempre entregar mais que o esperado!",categoria:"negocio",curtidas:42,comentarios:[],data:"2025-09-15",jaInteragiu:!1}])},[]);const _=E=>{n(r.map(k=>k.id===E?{...k,curtidas:k.jaInteragiu?k.curtidas-1:k.curtidas+1,jaInteragiu:!k.jaInteragiu}:k))},S=()=>{if(!c.titulo.trim()||!c.conteudo.trim())return;const E={id:Date.now().toString(),autor:(t==null?void 0:t.nome)||"Usuário",titulo:c.titulo,conteudo:c.conteudo,categoria:c.categoria,curtidas:0,comentarios:[],data:new Date().toISOString().split("T")[0],jaInteragiu:!1};n([E,...r]),u({titulo:"",conteudo:"",categoria:"dica"}),f(!1)},C=E=>{var V,X;const k=(V=g[E])==null?void 0:V.trim();if(!k||!e)return;const R=((X=t==null?void 0:t.nome)==null?void 0:X.split(" ")[0])||"Usuário",B={id:Date.now().toString(),autor:R,conteudo:k,data:new Date().toISOString().split("T")[0]};n(r.map(Q=>Q.id===E?{...Q,comentarios:[...Q.comentarios,B]}:Q)),x({...g,[E]:""})},T=E=>{m({...h,[E]:!h[E]})},O=E=>{if(!e)return;const k=y.map(R=>R.id===E?{...R,curtidas:R.curtidas+1}:R);b(k),ft("receitas_compartilhadas",k)},P=E=>{if(!e)return;const k=j.find(X=>X.id===E.receita_id);if(!k)return;const R={...k,id:Date.now().toString(),usuario_id:e.id,nome:`${k.nome} (da comunidade)`,criado_em:new Date().toISOString(),atualizado_em:new Date().toISOString()},B=se(le.RECEITAS,[]);ft(le.RECEITAS,[...B,R]);const V=y.map(X=>X.id===E.id?{...X,salvamentos:X.salvamentos+1}:X);b(V),ft("receitas_compartilhadas",V),alert("✅ Receita adicionada às suas receitas!")},A=(E,k)=>{var V;if(!e||!k.trim())return;const R={id:Date.now().toString(),receita_compartilhada_id:E,usuario_id:e.id,autor_nome:(t==null?void 0:t.nome)||((V=e.email)==null?void 0:V.split("@")[0])||"Confeiteiro",conteudo:k.trim(),data:new Date().toISOString(),curtidas:0},B=y.map(X=>X.id===E?{...X,comentarios:[...X.comentarios,R]}:X);b(B),ft("receitas_compartilhadas",B)},F=E=>j.find(k=>k.id===E);let z=r;a!=="todos"&&(z=z.filter(E=>E.categoria===a)),o.trim()&&(z=z.filter(E=>E.titulo.toLowerCase().includes(o.toLowerCase())||E.conteudo.toLowerCase().includes(o.toLowerCase())||E.autor.toLowerCase().includes(o.toLowerCase())));const q={dica:{nome:"Dicas",cor:"bg-blue-100 text-blue-800",icon:Jn},pergunta:{nome:"Perguntas",cor:"bg-yellow-100 text-yellow-800",icon:Aw},receita:{nome:"Receitas",cor:"bg-green-100 text-green-800",icon:xn},negocio:{nome:"Negócio",cor:"bg-purple-100 text-purple-800",icon:vn}};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 lg:mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-1 lg:mb-2",children:"Comunidade DoceCalc 👥"}),s.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Conecte-se com outros confeiteiros, compartilhe experiências e aprenda juntos!"})]})]})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow-md p-1",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>N("posts"),className:`flex-1 py-3 px-6 rounded-md transition-colors text-sm font-medium ${w==="posts"?"bg-pink-500 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:"💬 Posts da Comunidade"}),s.jsxs("button",{onClick:()=>N("receitas"),className:`flex-1 py-3 px-6 rounded-md transition-colors text-sm font-medium ${w==="receitas"?"bg-pink-500 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:["🍰 Receitas Compartilhadas (",y.length,")"]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(vn,{className:"h-10 w-10 text-blue-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 filter blur-sm select-none",children:"1.234"}),s.jsx("p",{className:"text-gray-600",children:"Confeiteiros ativos"})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(xn,{className:"h-10 w-10 text-green-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 filter blur-sm select-none",children:"567"}),s.jsx("p",{className:"text-gray-600",children:"Posts este mês"})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Iw,{className:"h-10 w-10 text-pink-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 filter blur-sm select-none",children:"2.891"}),s.jsx("p",{className:"text-gray-600",children:"Interações hoje"})]})]})})]}),s.jsx("div",{className:"mb-6 lg:mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4 lg:h-5 lg:w-5"}),s.jsx("input",{type:"text",placeholder:"Pesquisar posts, autores ou conteúdo...",value:o,onChange:E=>l(E.target.value),className:"w-full pl-10 pr-4 py-2 lg:py-3 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring bg-background text-foreground"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categorias"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>i("todos"),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${a==="todos"?"bg-pink-100 text-pink-800":"hover:bg-gray-100"}`,children:"Todos os posts"}),Object.entries(q).map(([E,k])=>s.jsx("button",{onClick:()=>i(E),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${a===E?"bg-pink-100 text-pink-800":"hover:bg-gray-100"}`,children:k.nome},E))]})]}),s.jsx("button",{onClick:()=>f(!d),className:"w-full bg-pink-500 hover:bg-pink-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"+ Criar Novo Post"})]}),s.jsxs("div",{className:"lg:col-span-3",children:[d&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Criar Novo Post"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria"}),s.jsxs("select",{value:c.categoria,onChange:E=>u({...c,categoria:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500",children:[s.jsx("option",{value:"dica",children:"Dica"}),s.jsx("option",{value:"pergunta",children:"Pergunta"}),s.jsx("option",{value:"receita",children:"Receita"}),s.jsx("option",{value:"negocio",children:"Negócio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título"}),s.jsx("input",{type:"text",value:c.titulo,onChange:E=>u({...c,titulo:E.target.value}),placeholder:"Digite o título do seu post...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conteúdo"}),s.jsx("textarea",{value:c.conteudo,onChange:E=>u({...c,conteudo:E.target.value}),placeholder:"Compartilhe seu conhecimento com a comunidade...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:S,className:"flex-1 bg-pink-500 hover:bg-pink-600 text-white py-2 px-4 rounded-md transition-colors",children:"Publicar"}),s.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-md transition-colors",children:"Cancelar"})]})]})]}),w==="posts"?s.jsx("div",{className:"space-y-6",children:z.map(E=>{const k=q[E.categoria],R=k.icon;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-pink-600 font-semibold",children:E.autor.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:E.autor}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${k.cor}`,children:k.nome}),s.jsx("span",{className:"text-gray-500 text-sm",children:E.data})]})]})]}),s.jsx(R,{className:"h-5 w-5 text-gray-400"})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:E.titulo}),s.jsx("p",{className:"text-gray-700 mb-4",children:E.conteudo}),s.jsxs("div",{className:"flex items-center space-x-6 text-gray-500 border-t pt-4",children:[s.jsxs("button",{onClick:()=>_(E.id),className:`flex items-center space-x-2 hover:text-pink-500 transition-colors ${E.jaInteragiu?"text-pink-500":""}`,children:[s.jsx(Iw,{className:"h-4 w-4"}),s.jsx("span",{children:E.curtidas})]}),s.jsxs("button",{onClick:()=>T(E.id),className:"flex items-center space-x-2 hover:text-pink-500 transition-colors",children:[s.jsx(Aw,{className:"h-4 w-4"}),s.jsxs("span",{children:[E.comentarios.length," respostas"]})]})]}),h[E.id]&&s.jsxs("div",{className:"mt-4 border-t pt-4",children:[E.comentarios.length>0&&s.jsx("div",{className:"space-y-3 mb-4",children:E.comentarios.map(B=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 bg-pink-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-pink-600 font-semibold text-xs",children:B.autor.charAt(0)})}),s.jsx("span",{className:"font-medium text-gray-900 text-sm",children:B.autor}),s.jsx("span",{className:"text-gray-500 text-xs",children:B.data})]}),s.jsx("p",{className:"text-gray-700 text-sm",children:B.conteudo})]},B.id))}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-pink-600 font-semibold text-sm",children:t!=null&&t.nome?t.nome.split(" ")[0].charAt(0):"U"})}),s.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[s.jsx("input",{type:"text",placeholder:"Escreva uma resposta...",value:g[E.id]||"",onChange:B=>x({...g,[E.id]:B.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm",onKeyDown:B=>{B.key==="Enter"&&C(E.id)}}),s.jsx("button",{onClick:()=>C(E.id),className:"bg-pink-500 hover:bg-pink-600 text-white px-3 py-2 rounded-md transition-colors",children:s.jsx(Ti,{className:"h-4 w-4"})})]})]})]})]},E.id)})}):s.jsx("div",{className:"space-y-6",children:y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🍰"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Nenhuma receita compartilhada ainda"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Seja o primeiro a compartilhar uma receita com a comunidade!"}),s.jsx("p",{className:"text-sm text-gray-400",children:'Vá em "Receitas" → clique no ícone de compartilhar ao lado de suas receitas'})]}):y.map(E=>{var R,B;const k=F(E.receita_id);return k?s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold",children:E.autor_nome.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:E.autor_nome}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(E.data_compartilhamento).toLocaleDateString()})]})]}),s.jsx("div",{className:"text-pink-500",children:s.jsx(zl,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"h-80 bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 flex items-center justify-center relative",children:[k.foto_principal?s.jsx("img",{src:k.foto_principal,alt:k.nome,className:"w-full h-full object-cover"}):s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-8xl mb-4",children:"🍰"}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:k.nome})]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4 text-white",children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:k.nome}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ns,{className:"h-4 w-4"}),s.jsxs("span",{children:[k.tempo_preparo_mins,"min"]})]}),s.jsx("span",{children:"•"}),s.jsx("span",{children:k.rendimento})]})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>O(E.id),className:"flex items-center space-x-2 text-gray-700 hover:text-red-500 transition-colors",children:[s.jsx(US,{className:"h-6 w-6"}),s.jsx("span",{className:"font-medium",children:E.curtidas})]}),s.jsxs("button",{onClick:()=>T(`receita-${E.id}`),className:"flex items-center space-x-2 text-gray-700 hover:text-blue-500 transition-colors",children:[s.jsx(xn,{className:"h-6 w-6"}),s.jsx("span",{className:"font-medium",children:E.comentarios.length})]})]}),s.jsxs("button",{onClick:()=>P(E),className:"flex items-center space-x-2 bg-pink-500 text-white px-4 py-2 rounded-lg hover:bg-pink-600 transition-colors",children:[s.jsx(cM,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Salvar Receita"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[s.jsxs("span",{className:"font-medium",children:[E.curtidas," curtidas"]}),E.salvamentos>0&&s.jsxs("span",{className:"ml-2",children:[E.salvamentos," salvamentos"]})]}),s.jsxs("div",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:E.autor_nome}),s.jsx("span",{className:"ml-2",children:k.descricao||"Receita deliciosa compartilhada pela comunidade!"})]}),k.tags&&k.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:k.tags.slice(0,5).map(V=>s.jsxs("span",{className:"text-blue-600 text-sm",children:["#",V]},V))}),h[`receita-${E.id}`]&&s.jsxs("div",{className:"border-t mt-4 pt-4",children:[E.comentarios.length>0&&s.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:E.comentarios.map(V=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white font-semibold text-xs",children:V.autor_nome.charAt(0)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-sm",children:V.autor_nome}),s.jsx("span",{className:"text-gray-500 text-xs",children:new Date(V.data).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-700 text-sm mt-1",children:V.conteudo})]})]},V.id))}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-semibold text-xs",children:((R=t==null?void 0:t.nome)==null?void 0:R.charAt(0))||((B=e==null?void 0:e.email)==null?void 0:B.charAt(0))||"U"})}),s.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[s.jsx("input",{type:"text",placeholder:"Adicione um comentário...",value:g[`receita-${E.id}`]||"",onChange:V=>x({...g,[`receita-${E.id}`]:V.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-pink-500 text-sm",onKeyDown:V=>{V.key==="Enter"&&(A(E.id,g[`receita-${E.id}`]),x({...g,[`receita-${E.id}`]:""}))}}),s.jsx("button",{onClick:()=>{A(E.id,g[`receita-${E.id}`]),x({...g,[`receita-${E.id}`]:""})},className:"text-pink-500 hover:text-pink-600 transition-colors",children:s.jsx(Ti,{className:"h-4 w-4"})})]})]})]})]})]},E.id):null})})]})]})]})})}function IX(){const{user:e,profile:t}=Ie(),[r,n]=p.useState(!1),[a,i]=p.useState(null),o=()=>{var u;try{const d={usuario:{id:e==null?void 0:e.id,nome:t==null?void 0:t.nome,email:e==null?void 0:e.email,plano:t==null?void 0:t.plano},receitas:se(le.RECEITAS,[]),ingredientes:se(le.INGREDIENTES_USUARIO,[]),clientes:se(le.CLIENTES,[]),orcamentos:se(le.ORCAMENTOS,[]),categorias:se(le.CATEGORIAS,[]),configuracoes:se(le.CONFIGURACOES,{}),dataBackup:new Date().toISOString(),versao:"1.0"},f=JSON.stringify(d,null,2),h=new Blob([f],{type:"application/json"}),m=URL.createObjectURL(h),g=document.createElement("a");g.href=m,g.download=`backup-docecalc-${(u=t==null?void 0:t.nome)==null?void 0:u.replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(m),i({tipo:"sucesso",texto:"Backup local criado e baixado com sucesso!"})}catch(d){console.error("Erro ao gerar backup:",d),i({tipo:"erro",texto:"Erro ao gerar backup local. Tente novamente."})}},l=async()=>{if(!e){i({tipo:"erro",texto:"Usuário não está logado."});return}n(!0);try{const u={receitas:se(le.RECEITAS,[]),ingredientes:se(le.INGREDIENTES_USUARIO,[]),clientes:se(le.CLIENTES,[]),orcamentos:se(le.ORCAMENTOS,[]),categorias:se(le.CATEGORIAS,[]),configuracoes:se(le.CONFIGURACOES,{}),dataBackup:new Date().toISOString(),versao:"1.0"},{error:d}=await te.from("backups_usuarios").insert({usuario_email:e.email||"",dados:u,dispositivo:navigator.userAgent,versao:"1.0",observacoes:"Backup emergencial criado pelo usuário"});if(d)throw d;i({tipo:"sucesso",texto:"Backup enviado para o servidor com sucesso! Seus dados estão seguros."})}catch(u){console.error("Erro ao enviar backup:",u),i({tipo:"erro",texto:"Erro ao enviar backup para o servidor. Seus dados locais continuam seguros."})}finally{n(!1)}},c=u=>{var h;const d=(h=u.target.files)==null?void 0:h[0];if(!d)return;const f=new FileReader;f.onload=m=>{var g;try{const x=JSON.parse((g=m.target)==null?void 0:g.result);if(!x.dataBackup||!x.versao)throw new Error("Arquivo de backup inválido");if(!window.confirm("ATENÇÃO: Esta ação sobrescreverá todos os seus dados atuais. Deseja continuar?"))return;x.receitas&&ft(le.RECEITAS,x.receitas),x.ingredientes&&ft(le.INGREDIENTES_USUARIO,x.ingredientes),x.clientes&&ft(le.CLIENTES,x.clientes),x.orcamentos&&ft(le.ORCAMENTOS,x.orcamentos),x.categorias&&ft(le.CATEGORIAS,x.categorias),x.configuracoes&&ft(le.CONFIGURACOES,x.configuracoes),i({tipo:"sucesso",texto:"Backup restaurado com sucesso! Recarregue a página para ver as alterações."}),setTimeout(()=>{window.location.reload()},3e3)}catch(x){console.error("Erro ao restaurar backup:",x),i({tipo:"erro",texto:"Erro ao restaurar backup. Verifique se o arquivo está correto."})}},f.readAsText(d)};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(hg,{className:"h-10 w-10 text-red-500"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Backup Emergencial"}),s.jsx("p",{className:"text-gray-600",children:"Proteja seus dados importantes"})]})]}),s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx(Iu,{className:"h-5 w-5 text-yellow-400"}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-yellow-700",children:[s.jsx("strong",{children:"Importante:"})," Faça backups regulares dos seus dados. Recomendamos fazer backup semanal ou antes de atualizações importantes."]})})]})})]}),a&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${a.tipo==="sucesso"?"bg-green-50 border border-green-200":a.tipo==="erro"?"bg-red-50 border border-red-200":"bg-blue-50 border border-blue-200"}`,children:s.jsxs("div",{className:"flex",children:[a.tipo==="sucesso"&&s.jsx(fM,{className:"h-5 w-5 text-green-500"}),a.tipo==="erro"&&s.jsx(Iu,{className:"h-5 w-5 text-red-500"}),a.tipo==="info"&&s.jsx(gM,{className:"h-5 w-5 text-blue-500"}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:`text-sm ${a.tipo==="sucesso"?"text-green-700":a.tipo==="erro"?"text-red-700":"text-blue-700"}`,children:a.texto})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Criar Backup"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(go,{className:"h-6 w-6 text-blue-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup Local"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Baixe um arquivo com todos os seus dados para guardar no seu computador ou nuvem pessoal."}),s.jsx("button",{onClick:o,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:"Baixar Backup Local"}),s.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[s.jsx("p",{children:"✓ Inclui: receitas, ingredientes, clientes, orçamentos"}),s.jsx("p",{children:"✓ Formato: arquivo JSON"}),s.jsx("p",{children:"✓ Segurança: dados ficam apenas com você"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(hg,{className:"h-6 w-6 text-green-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Backup Automático no Servidor"})]}),s.jsxs("p",{className:"text-gray-600 mb-4",children:[s.jsx("strong",{children:"Faça backup automático"})," dos seus dados atuais para nossos servidores seguros. Não precisa selecionar arquivo - seus dados serão coletados automaticamente!"]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Como funciona:"})," Clique no botão abaixo e seus dados atuais (receitas, ingredientes, clientes, orçamentos) serão automaticamente enviados e salvos com segurança em nossos servidores."]})}),s.jsx("button",{onClick:l,disabled:r,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:r?"Enviando dados...":"🚀 Fazer Backup Automático"}),s.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[s.jsx("p",{children:"✓ Backup automático dos dados atuais"}),s.jsx("p",{children:"✓ Segurança: criptografado e protegido"}),s.jsx("p",{children:"✓ Acesso: apenas você e equipe técnica"}),s.jsx("p",{children:"✓ Não precisa selecionar arquivos"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Restaurar Backup"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx(Lr,{className:"h-6 w-6 text-purple-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Restaurar do Arquivo"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Selecione um arquivo de backup para restaurar seus dados."}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:".json",onChange:c,className:"hidden",id:"backup-file"}),s.jsxs("label",{htmlFor:"backup-file",className:"cursor-pointer",children:[s.jsx(Lr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"Clique para selecionar arquivo de backup"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Apenas arquivos .json são aceitos"})]})]}),s.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex",children:[s.jsx(Iu,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Atenção:"})," Restaurar um backup irá sobrescrever todos os seus dados atuais. Esta ação não pode ser desfeita."]})})]})})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Dicas de Segurança"}),s.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[s.jsx("li",{children:"• Faça backups regulares (semanal ou quinzenal)"}),s.jsx("li",{children:"• Guarde backups em locais seguros (nuvem, HD externo)"}),s.jsx("li",{children:"• Teste a restauração periodicamente"}),s.jsx("li",{children:"• Mantenha múltiplas versões de backup"}),s.jsx("li",{children:"• Nunca compartilhe arquivos de backup"})]})]})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo dos Seus Dados"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:se(le.RECEITAS,[]).filter(u=>u.usuario_id===(e==null?void 0:e.id)).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receitas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:se(le.INGREDIENTES_USUARIO,[]).filter(u=>u.usuario_id===(e==null?void 0:e.id)).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Ingredientes"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:se(le.CLIENTES,[]).filter(u=>u.usuario_id===(e==null?void 0:e.id)).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Clientes"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-pink-600",children:se(le.ORCAMENTOS,[]).filter(u=>u.usuario_id===(e==null?void 0:e.id)).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Orçamentos"})]})]})]})]})})}const h0={gratuito:10,profissional:100,premium:9999},UN=(e="gratuito")=>{const t=new Date;return t.setMonth(t.getMonth()+1,1),t.setHours(0,0,0,0),{planType:e,creditsIA:h0[e],creditsUsedThisMonth:0,resetDate:t.toISOString()}};function Ly(){const{user:e}=Ie(),[t,r]=p.useState({plan:UN(),loading:!0,error:null});p.useEffect(()=>{e&&n()},[e]);const n=async()=>{if(e)try{r(x=>({...x,loading:!0,error:null}));const{data:h,error:m}=await te.from("creditos_ia").select("*").eq("user_id",e.id).single();if(m&&m.code!=="PGRST116")throw m;let g;h?(g={planType:h.plano,creditsIA:h.creditos_totais,creditsUsedThisMonth:h.creditos_usados,resetDate:h.data_reset},i(g)&&(g=await o(g))):(g=UN(),await a(g)),r({plan:g,loading:!1,error:null})}catch(h){console.error("Erro ao carregar plano:",h),r(m=>({...m,loading:!1,error:"Erro ao carregar dados do plano"}))}},a=async h=>{if(!e)return;const{error:m}=await te.from("creditos_ia").insert({user_id:e.id,plano:h.planType,creditos_totais:h.creditsIA,creditos_usados:h.creditsUsedThisMonth,data_reset:h.resetDate});if(m)throw m},i=h=>{const m=new Date,g=new Date(h.resetDate);return m>=g},o=async h=>{if(!e)return h;const m=new Date;m.setMonth(m.getMonth()+1,1),m.setHours(0,0,0,0);const g={...h,creditsIA:h0[h.planType],creditsUsedThisMonth:0,resetDate:m.toISOString()};return await te.from("creditos_ia").update({creditos_totais:g.creditsIA,creditos_usados:0,data_reset:g.resetDate}).eq("user_id",e.id),g},l=async()=>{if(!e)return!1;try{if(t.plan.planType==="premium")return!0;if(t.plan.creditsIA-t.plan.creditsUsedThisMonth<=0)return!1;const m=t.plan.creditsUsedThisMonth+1,{error:g}=await te.from("creditos_ia").update({creditos_usados:m}).eq("user_id",e.id);if(g)throw g;const x={...t.plan,creditsUsedThisMonth:m};return r(y=>({...y,plan:x})),!0}catch(h){return console.error("Erro ao usar crédito:",h),r(m=>({...m,error:"Erro ao processar crédito"})),!1}},c=()=>t.plan.planType==="premium"?!0:t.plan.creditsIA-t.plan.creditsUsedThisMonth>0,u=async h=>{if(e)try{const m={...t.plan,planType:h,creditsIA:h0[h]},{error:g}=await te.from("creditos_ia").update({plano:h,creditos_totais:m.creditsIA}).eq("user_id",e.id);if(g)throw g;r(x=>({...x,plan:m}))}catch(m){console.error("Erro ao fazer upgrade:",m),r(g=>({...g,error:"Erro ao atualizar plano"}))}},d=()=>{n()},f=h=>h.planType==="premium"?9999:Math.max(0,h.creditsIA-h.creditsUsedThisMonth);return{plan:t.plan,remainingCredits:f(t.plan),loading:t.loading,error:t.error,useCredit:l,canUseIA:c,upgradePlanType:u,refreshPlan:d}}const tp="doce_calc_chat_session";function MX(){const[e,t]=p.useState([]),[r,n]=p.useState(!1),{canUseIA:a,useCredit:i}=Ly();p.useEffect(()=>{const u=localStorage.getItem(tp);if(u)try{const d=JSON.parse(u);t(d.messages)}catch(d){console.error("Erro ao carregar chat:",d)}},[]);const o=u=>{const d={id:"current",messages:u,createdAt:new Date,updatedAt:new Date};localStorage.setItem(tp,JSON.stringify(d))};return{messages:e,isLoading:r,sendMessage:async u=>{if(!u.trim()||!a())return;const d={id:`user_${Date.now()}`,sender:"user",content:u.trim(),timestamp:new Date},f={id:`ai_${Date.now()}`,sender:"ai",content:"",timestamp:new Date,isLoading:!0},h=[...e,d,f];t(h),n(!0);try{if(!i())throw new Error("Falha ao processar crédito");const{data:g,error:x}=await te.functions.invoke("docebot-chat",{body:{message:u.trim(),context:"confeitaria"}});if(x)throw console.error("Erro na chamada da API:",x),new Error("Erro ao conectar com o DoceBot Pro");const y=(g==null?void 0:g.response)||"Desculpe, não consegui processar sua pergunta. Tente novamente.",b=(g==null?void 0:g.confidence)||null,j=(g==null?void 0:g.related_questions)||[],v={id:`ai_${Date.now()}`,sender:"ai",content:y,timestamp:new Date,confidence:b,relatedQuestions:j.slice(0,3)},w=[...e,d,v];t(w),o(w)}catch(m){console.error("Erro ao processar mensagem:",m);const g={id:`ai_${Date.now()}`,sender:"ai",content:m instanceof Error&&m.message.includes("crédito")?"Seus créditos se esgotaram. Faça upgrade para continuar usando o DoceBot Pro!":"Desculpe, estou com dificuldades técnicas no momento. Tente novamente em alguns instantes. 🤖✨",timestamp:new Date},x=[...e,d,g];t(x),o(x)}finally{n(!1)}},clearChat:()=>{t([]),localStorage.removeItem(tp)},hasCredits:a()}}const RX=[{id:"precificacao",name:"Precificação",icon:"💰",color:"text-green-600",questions:["Como calcular preço de brigadeiro?","Qual margem ideal para doces?","Preço por peso ou unidade?","Como precificar bolo de festa?","Como calcular custo de mão de obra?"]},{id:"tecnicas",name:"Técnicas",icon:"👩‍🍳",color:"text-blue-600",questions:["Por que massa de bolo murcha?","Como fazer chantilly perfeito?","Chocolate derreteu, e agora?","Bolo ressecou, como evitar?","Como temperar chocolate corretamente?"]},{id:"ingredientes",name:"Ingredientes",icon:"🥄",color:"text-purple-600",questions:["Posso substituir manteiga por margarina?","Como conservar chocolate?","Leite condensado caseiro vs industrializado?","Qual açúcar usar em cada doce?","Como escolher ovos para confeitaria?"]},{id:"marketing",name:"Marketing",icon:"📱",color:"text-pink-600",questions:["Como fotografar doces?","Onde divulgar minha confeitaria?","Como precificar para delivery?","Como criar cardápio atrativo?","Como fazer promoções que vendem?"]}],DX=[{id:"gratuito",name:"Gratuito",price:"R$ 0",period:"/mês",credits:"10 consultas",icon:s.jsx(Ki,{className:"h-6 w-6"}),color:"gray",popular:!1,features:["Calculadora básica de preços","10 consultas IA por mês","Até 20 receitas","Relatórios básicos","Suporte por email"]},{id:"profissional",name:"Profissional",price:"R$ 47",period:"/mês",credits:"100 consultas",icon:s.jsx(Yn,{className:"h-6 w-6"}),color:"blue",popular:!0,features:["Tudo do plano Gratuito","100 consultas IA por mês","Receitas ilimitadas","Análise de cenários avançada","Catálogo personalizado","Relatórios avançados","Integração com marketplace","Suporte prioritário"]},{id:"premium",name:"Premium",price:"R$ 97",period:"/mês",credits:"Ilimitado",icon:s.jsx(Qn,{className:"h-6 w-6"}),color:"purple",popular:!1,features:["Tudo do plano Profissional","Consultas IA ilimitadas","AI Assistant personalizado","Análise de fotos de ingredientes","Automação de processos","API para integrações","Mentor exclusivo","Suporte 24/7"]}];function EO({isOpen:e,onClose:t,onUpgrade:r,currentPlan:n,trigger:a="manual"}){const[i,o]=p.useState(null),[l,c]=p.useState(!1);if(!e)return null;const u=()=>{switch(a){case"no_credits":return"🚫 Ops! Créditos esgotados";case"low_credits":return"⚠️ Poucos créditos restantes";default:return"🚀 Potencialize sua confeitaria"}},d=()=>{switch(a){case"no_credits":return"Você usou todos os seus créditos IA deste mês. Faça upgrade para continuar usando o DoceBot Pro!";case"low_credits":return"Seus créditos estão acabando. Que tal garantir mais consultas com a IA?";default:return"Escolha o plano ideal para levar sua confeitaria ao próximo nível com recursos avançados"}},f=async g=>{g!==n&&(c(!0),o(g),await new Promise(x=>setTimeout(x,2e3)),r(g),c(!1),t())},h=g=>g===n?"Plano Atual":l&&i===g?"Processando...":g==="gratuito"?"Manter Gratuito":"Escolher Plano",m=g=>g===n||l;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:u()}),s.jsx("p",{className:"text-gray-600 mt-1",children:d()})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:l,children:s.jsx(Lt,{className:"h-6 w-6 text-gray-500"})})]}),s.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:DX.map(g=>{const x=g.id===n,y=i===g.id,b=g.popular,j=l&&y;return s.jsxs("div",{className:`relative border-2 rounded-xl p-6 transition-all duration-200 ${x?"border-green-500 bg-green-50":b?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[b&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsxs("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1",children:[s.jsx(KS,{className:"h-3 w-3"}),s.jsx("span",{children:"Mais Popular"})]})}),x&&s.jsx("div",{className:"absolute -top-3 right-4",children:s.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Atual"})}),s.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full mb-4 ${g.color==="blue"?"bg-blue-100 text-blue-600":g.color==="purple"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:g.icon}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:g.name}),s.jsxs("div",{className:"flex items-baseline mb-1",children:[s.jsx("span",{className:"text-3xl font-bold text-gray-900",children:g.price}),s.jsx("span",{className:"text-gray-600 ml-1",children:g.period})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[g.credits," de IA"]}),s.jsx("ul",{className:"space-y-2 mb-6",children:g.features.map((v,w)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx(Ps,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:v})]},w))}),s.jsxs("button",{onClick:()=>f(g.id),disabled:m(g.id),className:`w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 ${x?"bg-green-100 text-green-700 cursor-not-allowed":g.color==="blue"?"bg-blue-600 hover:bg-blue-700 text-white":g.color==="purple"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"} ${m(g.id)?"opacity-50 cursor-not-allowed":""}`,children:[j&&s.jsx(bM,{className:"h-4 w-4 mr-2 inline animate-spin"}),h(g.id)]})]},g.id)})}),s.jsx("div",{className:"p-6 border-t bg-gray-50",children:s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[s.jsx("p",{children:"✨ Todos os planos incluem:"}),s.jsx("p",{className:"mt-1",children:"Acesso total às receitas • Suporte técnico • Atualizações gratuitas"}),s.jsx("p",{className:"mt-2 text-xs",children:"💡 Cancelamento a qualquer momento • Sem fidelidade"})]})})]})})}function $X({className:e=""}){const{plan:t,remainingCredits:r,loading:n,upgradePlanType:a}=Ly(),[i,o]=p.useState(!1);if(n)return s.jsx("div",{className:`flex items-center space-x-2 ${e}`,children:s.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded animate-pulse"})});const l=t.creditsIA,c=t.creditsUsedThisMonth,d=100-(l>0?c/l*100:0),f=()=>d>50?"bg-green-500":d>20?"bg-yellow-500":"bg-red-500",h=()=>d>50?"text-green-600":d>20?"text-yellow-600":"text-red-600",m=()=>{switch(t.planType){case"gratuito":return"Gratuito";case"profissional":return"Pro";case"premium":return"Premium";default:return"Gratuito"}},g=()=>{switch(t.planType){case"premium":return s.jsx(Yn,{className:"h-4 w-4 text-yellow-500"});case"profissional":return s.jsx(Yn,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(Ki,{className:"h-4 w-4 text-gray-500"})}},x=r<=2&&t.planType!=="premium",y=j=>{a(j),o(!1)},b=()=>{o(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex items-center space-x-3 ${e}`,children:[s.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-gray-100 rounded-full",children:[g(),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:m()})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ki,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:`text-sm font-medium ${h()}`,children:t.planType==="premium"?"Ilimitado":`${r}/${l}`})]}),t.planType!=="premium"&&s.jsx("div",{className:"w-16 h-1.5 bg-gray-200 rounded-full overflow-hidden mt-1",children:s.jsx("div",{className:`h-full transition-all duration-300 ${f()}`,style:{width:`${Math.max(0,d)}%`}})}),s.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:t.planType==="premium"?"Consultas IA":"consultas restantes"})]}),x&&s.jsxs("button",{onClick:b,className:"flex items-center space-x-1 px-3 py-1.5 bg-gradient-to-r from-pink-500 to-purple-600 text-white text-xs font-medium rounded-full hover:from-pink-600 hover:to-purple-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[s.jsx(iM,{className:"h-3 w-3"}),s.jsx("span",{children:"Upgrade"})]})]}),s.jsx(EO,{isOpen:i,onClose:()=>o(!1),onUpgrade:y,currentPlan:t.planType,trigger:r===0?"no_credits":"low_credits"})]})}function LX(){const{messages:e,isLoading:t,sendMessage:r,clearChat:n,hasCredits:a}=MX(),{plan:i,remainingCredits:o,upgradePlanType:l}=Ly(),[c,u]=p.useState(""),[d,f]=p.useState(null),[h,m]=p.useState(!1),g=p.useRef(null),x=p.useRef(null);p.useEffect(()=>{var N;(N=g.current)==null||N.scrollIntoView({behavior:"smooth"})},[e]),p.useEffect(()=>{var N;(N=x.current)==null||N.focus()},[]);const y=async()=>{if(!c.trim()||t)return;if(!a){m(!0);return}const N=c;u(""),await r(N)},b=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),y())},j=N=>{var _;u(N),(_=x.current)==null||_.focus()},v=N=>{l(N),m(!1)},w=N=>new Date(N).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ve,{className:"h-5 w-5 text-gray-600"})}),s.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Limpar conversa",children:s.jsx(nn,{className:"h-4 w-4 text-gray-600"})})]}),s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(Es,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"DoceBot Pro"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Seu assistente de confeitaria"})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:s.jsx($X,{className:"justify-center"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(KS,{className:"h-4 w-4 mr-2"}),"Categorias de Ajuda"]}),s.jsx("div",{className:"space-y-3",children:RX.map(N=>s.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[s.jsx("button",{onClick:()=>f(d===N.id?null:N.id),className:"w-full p-3 text-left hover:bg-gray-50 transition-colors rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-lg",children:N.icon}),s.jsx("span",{className:"font-medium text-gray-900",children:N.name})]}),s.jsx(Jn,{className:`h-4 w-4 transition-transform ${d===N.id?"rotate-90":""} ${N.color}`})]})}),d===N.id&&s.jsx("div",{className:"px-3 pb-3",children:s.jsx("div",{className:"space-y-2",children:N.questions.map((_,S)=>s.jsx("button",{onClick:()=>j(_),className:"w-full text-left p-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded transition-colors",children:_},S))})})]},N.id))})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Chat com DoceBot Pro"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Pergunte qualquer coisa sobre confeitaria"})]}),s.jsx("div",{className:"text-sm text-gray-500",children:e.length>0?`${Math.floor(e.length/2)} perguntas`:"Nova conversa"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center mb-4",children:s.jsx(Es,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Olá! Sou o DoceBot Pro 🍰"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Estou aqui para te ajudar com tudo sobre confeitaria: preços, técnicas, ingredientes e marketing. O que você gostaria de saber?"}),s.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-lg",children:["Como calcular preço de brigadeiro?","Por que massa de bolo murcha?","Como conservar chocolate?","Como fotografar doces?"].map(N=>s.jsx("button",{onClick:()=>j(N),className:"p-3 bg-white border border-gray-200 rounded-lg hover:border-pink-300 hover:bg-pink-50 transition-colors text-sm text-left",children:N},N))})]}):s.jsxs("div",{className:"space-y-4",children:[e.map(N=>s.jsx("div",{className:`flex ${N.sender==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`flex items-start space-x-2 max-w-xs lg:max-w-md ${N.sender==="user"?"flex-row-reverse space-x-reverse":""}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${N.sender==="user"?"bg-blue-500":"bg-gradient-to-br from-pink-500 to-purple-600"}`,children:N.sender==="user"?s.jsx(Tr,{className:"h-4 w-4 text-white"}):s.jsx(Es,{className:"h-4 w-4 text-white"})}),s.jsx("div",{className:`rounded-lg p-4 max-w-full ${N.sender==="user"?"bg-blue-500 text-white":"bg-white border border-gray-200 text-gray-900 shadow-sm"}`,children:N.isLoading?s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(hn,{className:"h-4 w-4 animate-spin text-pink-500"}),s.jsx("span",{className:"text-sm",children:"DoceBot está pensando..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"whitespace-pre-line text-sm leading-relaxed",children:N.content}),s.jsxs("div",{className:`flex items-center justify-between mt-3 pt-2 border-t text-xs ${N.sender==="user"?"text-blue-100 border-blue-400":"text-gray-400 border-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ns,{className:"h-3 w-3"}),s.jsx("span",{children:w(N.timestamp)})]}),N.confidence&&s.jsxs("span",{children:["Precisão: ",N.confidence,"%"]})]}),N.relatedQuestions&&N.relatedQuestions.length>0&&s.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-100",children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"💡 Perguntas relacionadas:"}),s.jsx("div",{className:"space-y-1",children:N.relatedQuestions.slice(0,2).map((_,S)=>s.jsxs("button",{onClick:()=>j(_),className:"block w-full text-left text-xs text-gray-600 hover:text-pink-600 hover:bg-pink-50 p-2 rounded transition-colors",children:["• ",_]},S))})]})]})})]})},N.id)),s.jsx("div",{ref:g})]})}),s.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[a?null:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-900",children:"Créditos esgotados"}),s.jsx("p",{className:"text-sm text-red-700",children:"Você usou todos os seus créditos IA deste mês."})]}),s.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Fazer Upgrade"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{ref:x,type:"text",value:c,onChange:N=>u(N.target.value),onKeyPress:b,placeholder:a?"Digite sua pergunta sobre confeitaria...":"Sem créditos disponíveis",disabled:!a||t,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"})}),s.jsx("button",{onClick:y,disabled:!c.trim()||!a||t,className:"px-4 py-3 bg-pink-500 text-white rounded-lg hover:bg-pink-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:s.jsx(Ti,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Pressione Enter para enviar • ",o," consultas restantes este mês"]})]})]}),s.jsx(EO,{isOpen:h,onClose:()=>m(!1),onUpgrade:v,currentPlan:i.planType,trigger:"no_credits"})]})}function FX(){return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 flex items-center space-x-4",children:[s.jsx(re,{to:"/dashboard",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:s.jsx(Ve,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Marketplace 🛒"}),s.jsx("p",{className:"text-gray-600",children:"E-books e cursos especializados para confeiteiros"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Zt,{className:"h-12 w-12 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Marketplace em Desenvolvimento"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Estamos preparando uma seleção incrível de e-books, cursos e materiais exclusivos para turbinar seu negócio de confeitaria!"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[s.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Qn,{className:"h-6 w-6 text-blue-600"})}),s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"E-books Exclusivos"}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Receitas secretas, técnicas avançadas e guias de negócio"})]}),s.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[s.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(ns,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Cursos Online"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Videoaulas passo a passo com confeiteiros renomados"})]}),s.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[s.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Zt,{className:"h-6 w-6 text-purple-600"})}),s.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"Materiais Premium"}),s.jsx("p",{className:"text-purple-700 text-sm",children:"Templates, planilhas e ferramentas para seu negócio"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg p-6 text-white mb-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"🚀 Lançamento em Breve!"}),s.jsx("p",{className:"mb-4",children:"Enquanto preparamos o marketplace, aproveite todas as ferramentas gratuitas do DoceCalc"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[s.jsx(re,{to:"/calculadora",className:"bg-white text-orange-600 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors",children:"Calculadora"}),s.jsx(re,{to:"/receitas",className:"bg-white text-orange-600 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors",children:"Receitas"}),s.jsx(re,{to:"/comunidade",className:"bg-white text-orange-600 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-100 transition-colors",children:"Comunidade"})]})]}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Quer ser notificado quando o marketplace estiver pronto?",s.jsx(re,{to:"/perfil",className:"text-blue-600 hover:underline ml-1",children:"Atualize seu perfil"})," e receba as novidades em primeira mão!"]})]})]})})}function BX(){const[e,t]=p.useState(null),[r,n]=p.useState(!1),[a,i]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState({name:"",ingredients:10,laborHours:2,overhead:25,desiredMargin:30,estimatedDemand:50}),d=x=>{var b;const y=(b=x.target.files)==null?void 0:b[0];y&&(t(y),f())},f=async x=>{n(!0),await new Promise(b=>setTimeout(b,3e3)),i({recognizedItems:["Brigadeiro","Chocolate","Leite Condensado"],estimatedComplexity:"Médio",suggestedIngredients:[{name:"Leite condensado",quantity:"1 lata",cost:4.5},{name:"Chocolate em pó",quantity:"3 colheres",cost:2},{name:"Manteiga",quantity:"1 colher",cost:1.5},{name:"Chocolate granulado",quantity:"100g",cost:3}],totalIngredientCost:11,estimatedPreparationTime:1.5,difficultyLevel:"Iniciante",suggestedSellingPrice:18.5}),n(!1)},h=()=>{const x=c.ingredients,y=c.laborHours*15,b=(x+y)*(c.overhead/100),j=x+y+b,v=j*(1+c.desiredMargin/100),w=v*c.estimatedDemand;return{profitMargin:(v-j)/v*100,monthlyRevenue:w,unitCost:j,suggestedPrice:v}},m=()=>{if(!c.name){alert("Digite um nome para o cenário");return}const x=h(),y={id:Date.now().toString(),name:c.name,description:`${c.estimatedDemand} unidades/mês, margem ${c.desiredMargin}%`,results:x};l([...o,y]),u(b=>({...b,name:""}))},g=h();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(re,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900",children:[s.jsx(Ve,{className:"h-5 w-5 mr-2"}),"Voltar"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Calculadora Avançada"})]})})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Ga,{className:"h-6 w-6 text-orange-600 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Análise por Foto (IA)"})]}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:e?s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Arquivo: ",e.name]}),r?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600 mx-auto mb-2"}),s.jsx("p",{className:"text-orange-600",children:"Analisando imagem..."})]}):a&&s.jsxs("div",{className:"text-left bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Análise Concluída:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Itens reconhecidos:"})," ",a.recognizedItems.join(", ")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Complexidade:"})," ",a.estimatedComplexity]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Custo estimado:"})," R$ ",a.totalIngredientCost.toFixed(2)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Tempo preparo:"})," ",a.estimatedPreparationTime,"h"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Preço sugerido:"})," R$ ",a.suggestedSellingPrice.toFixed(2)]})]})]}):s.jsxs("div",{children:[s.jsx(Ga,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Envie uma foto do doce para análise automática"}),s.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden",id:"photo-upload"}),s.jsx("label",{htmlFor:"photo-upload",className:"bg-orange-600 text-white px-4 py-2 rounded-lg cursor-pointer hover:bg-orange-700",children:"Escolher Foto"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(md,{className:"h-6 w-6 text-orange-600 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Cenários de Negócio"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Nome do cenário",value:c.name,onChange:x=>u(y=>({...y,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custo ingredientes (R$)"}),s.jsx("input",{type:"number",value:c.ingredients,onChange:x=>u(y=>({...y,ingredients:Number(x.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas de trabalho"}),s.jsx("input",{type:"number",step:"0.5",value:c.laborHours,onChange:x=>u(y=>({...y,laborHours:Number(x.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Overhead (%)"}),s.jsx("input",{type:"number",value:c.overhead,onChange:x=>u(y=>({...y,overhead:Number(x.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Margem desejada (%)"}),s.jsx("input",{type:"number",value:c.desiredMargin,onChange:x=>u(y=>({...y,desiredMargin:Number(x.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Demanda estimada (unidades/mês)"}),s.jsx("input",{type:"number",value:c.estimatedDemand,onChange:x=>u(y=>({...y,estimatedDemand:Number(x.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Resultado do Cenário:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Custo unitário:"}),s.jsxs("span",{className:"font-semibold ml-2",children:["R$ ",g.unitCost.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Preço sugerido:"}),s.jsxs("span",{className:"font-semibold ml-2",children:["R$ ",g.suggestedPrice.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Margem de lucro:"}),s.jsxs("span",{className:"font-semibold ml-2",children:[g.profitMargin.toFixed(1),"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Receita mensal:"}),s.jsxs("span",{className:"font-semibold ml-2",children:["R$ ",g.monthlyRevenue.toFixed(2)]})]})]})]}),s.jsxs("button",{onClick:m,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 flex items-center justify-center",children:[s.jsx(Bl,{className:"h-4 w-4 mr-2"}),"Salvar Cenário"]})]})]})]}),o.length>0&&s.jsxs("div",{className:"mt-8 bg-white rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Jn,{className:"h-6 w-6 text-orange-600 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Cenários Comparativos"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(x=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:x.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:x.description}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Preço:"}),s.jsxs("span",{className:"font-semibold",children:["R$ ",x.results.suggestedPrice.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Margem:"}),s.jsxs("span",{className:"font-semibold",children:[x.results.profitMargin.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Receita/mês:"}),s.jsxs("span",{className:"font-semibold",children:["R$ ",x.results.monthlyRevenue.toFixed(2)]})]})]})]},x.id))})]}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(qS,{className:"h-6 w-6 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Dicas Inteligentes"})]}),s.jsxs("div",{className:"space-y-2 text-blue-800",children:[s.jsx("p",{children:"• Considere aumentar a margem de lucro em produtos sazonais"}),s.jsx("p",{children:"• Analise a concorrência antes de definir o preço final"}),s.jsx("p",{children:"• Monitore seus custos mensalmente para manter a rentabilidade"}),s.jsx("p",{children:"• Teste diferentes cenários para encontrar o ponto ótimo de vendas"})]})]})]})]})}function zX({url:e,title:t,onClose:r,isOpen:n}){const[a,i]=p.useState(""),[o,l]=p.useState(!1);p.useEffect(()=>{n&&e&&c()},[n,e]);const c=async()=>{l(!0);try{const h=await xo.toDataURL(e,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"});i(h)}catch(h){console.error("Erro ao gerar QR Code:",h)}finally{l(!1)}},u=()=>{if(!a)return;const h=document.createElement("a");h.download=`catalogo-qr-${t.replace(/\s+/g,"-").toLowerCase()}.png`,h.href=a,document.body.appendChild(h),h.click(),document.body.removeChild(h)},d=async()=>{try{await navigator.clipboard.writeText(e),alert("Link copiado para a área de transferência!")}catch(h){console.error("Erro ao copiar link:",h),alert("Erro ao copiar link")}},f=async()=>{if(navigator.share)try{await navigator.share({title:`Catálogo - ${t}`,text:"Confira nossos produtos deliciosos!",url:e})}catch(h){console.error("Erro ao compartilhar:",h)}else d()};return n?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 animate-fade-in",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 animate-scale-in",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"QR Code do Catálogo"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Lt,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-4",children:o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500"})}):a?s.jsx("img",{src:a,alt:"QR Code do Catálogo",className:"mx-auto max-w-full h-auto"}):s.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Erro ao gerar QR Code"})}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.jsx("strong",{children:t})}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:e})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:u,disabled:!a,className:"w-full bg-pink-500 text-white py-3 px-4 rounded-lg hover:bg-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[s.jsx(go,{className:"h-4 w-4"}),s.jsx("span",{children:"Baixar QR Code"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:d,className:"bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(BS,{className:"h-4 w-4"}),s.jsx("span",{children:"Copiar Link"})]}),s.jsxs("button",{onClick:f,className:"bg-blue-100 text-blue-700 py-3 px-4 rounded-lg hover:bg-blue-200 transition-colors flex items-center justify-center space-x-2",children:[s.jsx(zl,{className:"h-4 w-4"}),s.jsx("span",{children:"Compartilhar"})]})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"💡 Como usar:"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:"• Imprima o QR Code e cole no seu estabelecimento"}),s.jsx("li",{children:"• Compartilhe nas redes sociais"}),s.jsx("li",{children:"• Adicione em cartões de visita"}),s.jsx("li",{children:"• Clientes escaneiam e acessam seu catálogo"})]})]})]})}):null}const UX=[{id:"inter",nome:"Moderna",classe:"font-sans"},{id:"serif",nome:"Elegante",classe:"font-serif"},{id:"rounded",nome:"Divertida",classe:"font-mono"},{id:"times",nome:"Clássica",classe:"font-serif"},{id:"handwritten",nome:"Artesanal",classe:"font-mono"},{id:"clean",nome:"Clean",classe:"font-sans"}],qX=["#FF6B9D","#FF8E3C","#FFD23F","#06FFA5","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8"];function WX(){const{user:e,profile:t}=Ie(),[r,n]=p.useState("design"),[a,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState("primaria"),[g,x]=p.useState("#FF6B9D"),[y,b]=p.useState(!1),j=P=>{var z;const A=(z=P.target.files)==null?void 0:z[0];if(!A)return;if(!A.type.startsWith("image/")){alert("Por favor, selecione apenas arquivos de imagem");return}if(A.size>2*1024*1024){alert("O arquivo deve ter no máximo 2MB");return}const F=new FileReader;F.onload=q=>{var k;const E=(k=q.target)==null?void 0:k.result;w(R=>({...R,logo_url:E}))},F.readAsDataURL(A)},[v,w]=p.useState({id:"",usuario_id:(e==null?void 0:e.id)||"",nome_confeitaria:(t==null?void 0:t.nome_negocio)||"Minha Confeitaria",cor_primaria:"#FF6B9D",cor_secundaria:"#FFF",fonte:"inter",layout:"grid",elementos_visuais:{bordas_decorativas:!1,icones_tematicos:!0,patterns_fundo:!1,separadores:!0},configuracoes:{mostrar_precos:!0,mostrar_descricoes:!0,contato_whatsapp:(t==null?void 0:t.whatsapp)||"",texto_cabecalho:"Confira nossos deliciosos produtos!"},criado_em:new Date().toISOString(),atualizado_em:new Date().toISOString()});p.useEffect(()=>{if(e){const P=se(le.RECEITAS,[]);i(P.filter(q=>q.usuario_id===e.id&&q.ativo));const F=se("catalogo_branding",[]).find(q=>q.usuario_id===e.id);F&&w(F);const z=se("catalogo_produtos",[]);l(z.filter(q=>q.usuario_id===e.id))}},[e,t]);const N=()=>{if(!e)return;const P={...v,id:v.id||Date.now().toString(),usuario_id:e.id,atualizado_em:new Date().toISOString()};w(P);const F=se("catalogo_branding",[]).filter(z=>z.usuario_id!==e.id);ft("catalogo_branding",[...F,P]),alert("✅ Configurações de branding salvas!")},_=P=>{const A=a.find(z=>z.id===P);if(!A||!e)return;if(o.find(z=>z.receita_id===P)){const z=o.map(k=>k.receita_id===P?{...k,ativo:!k.ativo}:k);l(z);const E=se("catalogo_produtos",[]).filter(k=>k.usuario_id!==e.id);ft("catalogo_produtos",[...E,...z])}else{const z={id:Date.now().toString(),usuario_id:e.id,receita_id:P,nome:A.nome,foto:A.foto_principal||"",preco_publico:0,descricao_publica:"",categoria:A.categoria||"Doces",serve:A.rendimento,prazo_entrega:"2-3 dias",ativo:!0,personalizavel:!1,criado_em:new Date().toISOString()},q=[...o,z];l(q);const k=se("catalogo_produtos",[]).filter(R=>R.usuario_id!==e.id);ft("catalogo_produtos",[...k,...q])}},S=(P,A,F)=>{const z=o.map(q=>q.id===P?{...q,[A]:F}:q);if(l(z),e){const E=se("catalogo_produtos",[]).filter(k=>k.usuario_id!==e.id);ft("catalogo_produtos",[...E,...z])}},C=()=>{w(P=>({...P,[h==="primaria"?"cor_primaria":"cor_secundaria"]:g})),f(!1)},T=()=>`${window.location.origin}/catalogo-publico?user=${e==null?void 0:e.id}`,O=o.filter(P=>P.ativo);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(re,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900",children:[s.jsx(Ve,{className:"h-5 w-5 mr-2"}),"Voltar"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Catálogo Personalizado"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>b(!0),className:"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:[s.jsx(fg,{className:"h-4 w-4"}),s.jsx("span",{children:"Preview"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:[s.jsx(rn,{className:"h-4 w-4"}),s.jsx("span",{children:"QR Code"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg max-w-md",children:[s.jsxs("button",{onClick:()=>n("design"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${r==="design"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(jx,{className:"h-4 w-4 inline mr-2"}),"Personalização"]}),s.jsxs("button",{onClick:()=>n("produtos"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${r==="produtos"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Zt,{className:"h-4 w-4 inline mr-2"}),"Produtos"]})]})}),r==="design"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informações Básicas"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo da Confeitaria"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:v.logo_url?s.jsx("img",{src:v.logo_url,alt:"Logo",className:"w-full h-full object-cover rounded-lg"}):s.jsx(Lr,{className:"h-8 w-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"logo-upload"}),s.jsxs("label",{htmlFor:"logo-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),v.logo_url?"Trocar Logo":"Adicionar Logo"]}),v.logo_url&&s.jsx("button",{onClick:()=>w(P=>({...P,logo_url:""})),className:"ml-2 text-red-500 hover:text-red-700 text-sm",children:"Remover"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG até 2MB. Recomendado: 200x200px"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Confeitaria"}),s.jsx("input",{type:"text",value:v.nome_confeitaria,onChange:P=>w(A=>({...A,nome_confeitaria:P.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Cabeçalho"}),s.jsx("textarea",{value:v.configuracoes.texto_cabecalho,onChange:P=>w(A=>({...A,configuracoes:{...A.configuracoes,texto_cabecalho:P.target.value}})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp para Contato"}),s.jsx("input",{type:"text",value:v.configuracoes.contato_whatsapp,onChange:P=>w(A=>({...A,configuracoes:{...A.configuracoes,contato_whatsapp:P.target.value}})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"(11) 99999-9999"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cores"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Primária"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-gray-300 cursor-pointer",style:{backgroundColor:v.cor_primaria},onClick:()=>{m("primaria"),x(v.cor_primaria),f(!0)}}),s.jsx("div",{className:"flex flex-wrap gap-2",children:qX.map(P=>s.jsx("div",{className:"w-8 h-8 rounded cursor-pointer border-2 border-gray-200 hover:scale-110 transition-transform",style:{backgroundColor:P},onClick:()=>w(A=>({...A,cor_primaria:P}))},P))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cor Secundária"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg border-2 border-gray-300 cursor-pointer",style:{backgroundColor:v.cor_secundaria},onClick:()=>{m("secundaria"),x(v.cor_secundaria),f(!0)}}),s.jsx("input",{type:"text",value:v.cor_secundaria,onChange:P=>w(A=>({...A,cor_secundaria:P.target.value})),className:"px-3 py-2 border border-gray-300 rounded text-sm",placeholder:"#FFFFFF"})]})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tipografia"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:UX.map(P=>s.jsxs("button",{onClick:()=>w(A=>({...A,fonte:P.id})),className:`p-4 rounded-lg border-2 text-left transition-all ${v.fonte===P.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:`font-bold ${P.classe}`,children:P.nome}),s.jsx("div",{className:`text-sm text-gray-600 ${P.classe}`,children:"Exemplo de texto"})]},P.id))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Elementos Visuais"}),s.jsx("div",{className:"space-y-3",children:Object.entries(v.elementos_visuais).map(([P,A])=>{const F={bordas_decorativas:"Bordas Decorativas",icones_tematicos:"Ícones Temáticos",patterns_fundo:"Patterns de Fundo",separadores:"Separadores"};return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:F[P]}),s.jsx("button",{onClick:()=>w(z=>({...z,elementos_visuais:{...z.elementos_visuais,[P]:!A}})),className:"focus:outline-none",children:A?s.jsx(Rw,{className:"h-6 w-6 text-purple-500"}):s.jsx(Mw,{className:"h-6 w-6 text-gray-400"})})]},P)})})]}),s.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center space-x-2 bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600",children:[s.jsx(Bl,{className:"h-5 w-5"}),s.jsx("span",{children:"Salvar Configurações"})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview do Catálogo"}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 min-h-96",style:{backgroundColor:v.cor_secundaria,borderColor:v.cor_primaria},children:[s.jsxs("div",{className:"text-center mb-6",children:[v.logo_url&&s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsx("img",{src:v.logo_url,alt:v.nome_confeitaria,className:"w-16 h-16 object-cover rounded-lg shadow-sm"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:v.cor_primaria},children:v.nome_confeitaria}),s.jsx("p",{className:"text-gray-600",children:v.configuracoes.texto_cabecalho})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:O.slice(0,4).map(P=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[s.jsx("div",{className:"bg-gray-100 rounded h-20 mb-2 flex items-center justify-center",children:s.jsx(Zt,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h4",{className:"font-medium text-sm",children:P.nome}),v.configuracoes.mostrar_precos&&s.jsxs("p",{className:"text-sm font-bold",style:{color:v.cor_primaria},children:["R$ ",P.preco_publico.toFixed(2)]})]},P.id))}),O.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Zt,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:'Adicione produtos na aba "Produtos"'})]})]})]})]}),r==="produtos"&&s.jsx("div",{children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Gerenciar Produtos do Catálogo"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Ative/desative receitas no catálogo e configure informações específicas"})]}),s.jsxs("div",{className:"divide-y divide-gray-200",children:[a.map(P=>{const A=o.find(q=>q.receita_id===P.id),F=(A==null?void 0:A.ativo)||!1,z=!!A;return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-16 h-16 rounded-lg flex items-center justify-center ${F?"bg-green-100":"bg-gray-100"}`,children:s.jsx(Zt,{className:`h-8 w-8 ${F?"text-green-500":"text-gray-400"}`})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:P.nome}),F&&s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Ativo"}),z&&!F&&s.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:"Inativo"})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[P.categoria," • ",P.rendimento]}),z&&A&&s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço Público"}),s.jsx("input",{type:"number",step:"0.01",value:A.preco_publico,onChange:q=>S(A.id,"preco_publico",parseFloat(q.target.value)||0),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prazo de Entrega"}),s.jsx("input",{type:"text",value:A.prazo_entrega,onChange:q=>S(A.id,"prazo_entrega",q.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500",placeholder:"2-3 dias"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição Pública"}),s.jsx("textarea",{value:A.descricao_publica,onChange:q=>S(A.id,"descricao_publica",q.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500",rows:2,placeholder:"Descrição que aparecerá no catálogo público"})]})]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("button",{onClick:()=>_(P.id),className:"focus:outline-none",title:F?"Desativar do catálogo":"Ativar no catálogo",children:F?s.jsx(Rw,{className:"h-8 w-8 text-green-500"}):s.jsx(Mw,{className:"h-8 w-8 text-gray-400"})})})]})},P.id)}),a.length===0&&s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Zt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma receita encontrada"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Crie algumas receitas primeiro para adicioná-las ao catálogo"}),s.jsxs(re,{to:"/receitas",className:"inline-flex items-center px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:[s.jsx(gr,{className:"h-4 w-4 mr-2"}),"Criar Primeira Receita"]})]})]})]})})]}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Escolher Cor ",h==="primaria"?"Primária":"Secundária"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor Personalizada"}),s.jsx("input",{type:"color",value:g,onChange:P=>x(P.target.value),className:"w-full h-12 rounded border border-gray-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código Hex"}),s.jsx("input",{type:"text",value:g,onChange:P=>x(P.target.value),className:"w-full p-2 border border-gray-300 rounded",placeholder:"#FF6B9D"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:C,className:"flex-1 bg-purple-500 text-white py-2 rounded hover:bg-purple-600",children:"Aplicar"}),s.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded hover:bg-gray-400",children:"Cancelar"})]})]})]})}),s.jsx(zX,{isOpen:c,onClose:()=>u(!1),url:T(),title:v.nome_confeitaria})]})}const Fy="-",VX=e=>{const t=GX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Fy);return l[0]===""&&l.length!==1&&l.shift(),PO(l,t)||KX(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},PO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?PO(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Fy);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},qN=/^\[(.+)\]$/,KX=e=>{if(qN.test(e)){const t=qN.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},GX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return YX(Object.entries(e.classGroups),r).forEach(([i,o])=>{m0(o,n,i,t)}),n},m0=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:WN(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(HX(a)){m0(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{m0(o,WN(t,i),r,n)})})},WN=(e,t)=>{let r=e;return t.split(Fy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},HX=e=>e.isThemeGetter,YX=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,XX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},AO="!",QX=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===a&&(n||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(AO),g=m?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},JX=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZX=e=>({cache:XX(e.cacheSize),parseClassName:QX(e),...VX(e)}),eQ=/\s+/,tQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(eQ);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,x=n(g?h.substring(0,m):h);if(!x){if(!g){l=u+(l.length>0?" "+l:l);continue}if(x=n(h),!x){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=JX(d).join(":"),b=f?y+AO:y,j=b+x;if(i.includes(j))continue;i.push(j);const v=a(x,g);for(let w=0;w<v.length;++w){const N=v[w];i.push(b+N)}l=u+(l.length>0?" "+l:l)}return l};function rQ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=OO(t))&&(n&&(n+=" "),n+=r);return n}const OO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=OO(e[n]))&&(r&&(r+=" "),r+=t);return r};function nQ(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=ZX(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=tQ(c,r);return a(c,d),d}return function(){return i(rQ.apply(null,arguments))}}const Me=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},TO=/^\[(?:([a-z-]+):)?(.+)\]$/i,aQ=/^\d+\/\d+$/,sQ=new Set(["px","full","screen"]),iQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cn=e=>$i(e)||sQ.has(e)||aQ.test(e),ga=e=>Po(e,"length",vQ),$i=e=>!!e&&!Number.isNaN(Number(e)),rp=e=>Po(e,"number",$i),Yo=e=>!!e&&Number.isInteger(Number(e)),dQ=e=>e.endsWith("%")&&$i(e.slice(0,-1)),ue=e=>TO.test(e),xa=e=>iQ.test(e),fQ=new Set(["length","size","percentage"]),hQ=e=>Po(e,fQ,IO),mQ=e=>Po(e,"position",IO),pQ=new Set(["image","url"]),gQ=e=>Po(e,pQ,bQ),xQ=e=>Po(e,"",yQ),Xo=()=>!0,Po=(e,t,r)=>{const n=TO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},vQ=e=>oQ.test(e)&&!lQ.test(e),IO=()=>!1,yQ=e=>cQ.test(e),bQ=e=>uQ.test(e),wQ=()=>{const e=Me("colors"),t=Me("spacing"),r=Me("blur"),n=Me("brightness"),a=Me("borderColor"),i=Me("borderRadius"),o=Me("borderSpacing"),l=Me("borderWidth"),c=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),f=Me("invert"),h=Me("gap"),m=Me("gradientColorStops"),g=Me("gradientColorStopPositions"),x=Me("inset"),y=Me("margin"),b=Me("opacity"),j=Me("padding"),v=Me("saturate"),w=Me("scale"),N=Me("sepia"),_=Me("skew"),S=Me("space"),C=Me("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ue,t],A=()=>[ue,t],F=()=>["",Cn,ga],z=()=>["auto",$i,ue],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ue],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[$i,ue];return{cacheSize:500,separator:":",theme:{colors:[Xo],spacing:[Cn,ga],blur:["none","",xa,ue],brightness:X(),borderColor:[e],borderRadius:["none","","full",xa,ue],borderSpacing:A(),borderWidth:F(),contrast:X(),grayscale:B(),hueRotate:X(),invert:B(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[dQ,ga],inset:P(),margin:P(),opacity:X(),padding:A(),saturate:X(),scale:X(),sepia:B(),skew:X(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[xa]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ue]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yo,ue]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Yo,ue]}],"grid-cols":[{"grid-cols":[Xo]}],"col-start-end":[{col:["auto",{span:["full",Yo,ue]},ue]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Xo]}],"row-start-end":[{row:["auto",{span:[Yo,ue]},ue]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,t]}],"min-w":[{"min-w":[ue,t,"min","max","fit"]}],"max-w":[{"max-w":[ue,t,"none","full","min","max","fit","prose",{screen:[xa]},xa]}],h:[{h:[ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xa,ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rp]}],"font-family":[{font:[Xo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",$i,rp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cn,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cn,ga]}],"underline-offset":[{"underline-offset":["auto",Cn,ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),mQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gQ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:E()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[Cn,ue]}],"outline-w":[{outline:[Cn,ga]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Cn,ga]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xa,xQ]}],"shadow-color":[{shadow:[Xo]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xa,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Yo,ue]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cn,ga,rp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jQ=nQ(wQ);function jr(...e){return jQ(me(e))}const Yt=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:jr("rounded-lg border bg-card text-card-foreground shadow-sm card-doce",e),...t}));Yt.displayName="Card";const ya=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:jr("flex flex-col space-y-1.5 p-6",e),...t}));ya.displayName="CardHeader";const ba=p.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:jr("text-2xl font-semibold leading-none tracking-tight",e),...t}));ba.displayName="CardTitle";const NQ=p.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:jr("text-sm text-muted-foreground",e),...t}));NQ.displayName="CardDescription";const Kr=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:jr("p-6 pt-0",e),...t}));Kr.displayName="CardContent";const _Q=p.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:jr("flex items-center p-6 pt-0",e),...t}));_Q.displayName="CardFooter";function Wn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function By(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,x=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=p.useMemo(()=>g,Object.values(g));return s.jsx(x.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var x;const m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,SQ(a,...t)]}function SQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function VN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function MO(...e){return t=>{let r=!1;const n=e.map(a=>{const i=VN(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():VN(e[a],null)}}}}function of(...e){return p.useCallback(MO(...e),e)}function lf(e){const t=kQ(e),r=p.forwardRef((n,a)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(PQ);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var CQ=lf("Slot");function kQ(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const o=OQ(a),l=AQ(i,a.props);return a.type!==p.Fragment&&(l.ref=n?MO(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EQ=Symbol("radix.slottable");function PQ(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EQ}function AQ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function OQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function TQ(e){const t=e+"CollectionProvider",[r,n]=By(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:y,children:b}=x,j=En.useRef(null),v=En.useRef(new Map).current;return s.jsx(a,{scope:y,itemMap:v,collectionRef:j,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=lf(l),u=En.forwardRef((x,y)=>{const{scope:b,children:j}=x,v=i(l,b),w=of(y,v.collectionRef);return s.jsx(c,{ref:w,children:j})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=lf(d),m=En.forwardRef((x,y)=>{const{scope:b,children:j,...v}=x,w=En.useRef(null),N=of(y,w),_=i(d,b);return En.useEffect(()=>(_.itemMap.set(w,{ref:w,...v}),()=>void _.itemMap.delete(w))),s.jsx(h,{[f]:"",ref:N,children:j})});m.displayName=d;function g(x){const y=i(e+"CollectionConsumer",x);return En.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const v=Array.from(j.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((_,S)=>v.indexOf(_.ref.current)-v.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var cf=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},IQ=df[" useId ".trim().toString()]||(()=>{}),MQ=0;function RO(e){const[t,r]=p.useState(IQ());return cf(()=>{r(n=>n??String(MQ++))},[e]),t?`radix-${t}`:""}var RQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ei=RQ.reduce((e,t)=>{const r=lf(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function DQ(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var $Q=df[" useInsertionEffect ".trim().toString()]||cf;function DO({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=LQ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{var f;if(l){const h=FQ(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function LQ({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),i=p.useRef(t);return $Q(()=>{i.current=t},[t]),p.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function FQ(e){return typeof e=="function"}var BQ=p.createContext(void 0);function $O(e){const t=p.useContext(BQ);return e||t||"ltr"}var np="rovingFocusGroup.onEntryFocus",zQ={bubbles:!1,cancelable:!0},Tc="RovingFocusGroup",[p0,LO,UQ]=TQ(Tc),[qQ,FO]=By(Tc,[UQ]),[WQ,VQ]=qQ(Tc),BO=p.forwardRef((e,t)=>s.jsx(p0.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(p0.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(KQ,{...e,ref:t})})}));BO.displayName=Tc;var KQ=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=of(t,h),g=$O(i),[x,y]=DO({prop:o,defaultProp:l??null,onChange:c,caller:Tc}),[b,j]=p.useState(!1),v=DQ(u),w=LO(r),N=p.useRef(!1),[_,S]=p.useState(0);return p.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(np,v),()=>C.removeEventListener(np,v)},[v]),s.jsx(WQ,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:x,onItemFocus:p.useCallback(C=>y(C),[y]),onItemShiftTab:p.useCallback(()=>j(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>S(C=>C-1),[]),children:s.jsx(ei.div,{tabIndex:b||_===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Wn(e.onMouseDown,()=>{N.current=!0}),onFocus:Wn(e.onFocus,C=>{const T=!N.current;if(C.target===C.currentTarget&&T&&!b){const O=new CustomEvent(np,zQ);if(C.currentTarget.dispatchEvent(O),!O.defaultPrevented){const P=w().filter(E=>E.focusable),A=P.find(E=>E.active),F=P.find(E=>E.id===x),q=[A,F,...P].filter(Boolean).map(E=>E.ref.current);qO(q,d)}}N.current=!1}),onBlur:Wn(e.onBlur,()=>j(!1))})})}),zO="RovingFocusGroupItem",UO=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=RO(),u=i||c,d=VQ(zO,r),f=d.currentTabStopId===u,h=LO(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:x}=d;return p.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),s.jsx(p0.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(ei.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Wn(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Wn(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Wn(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=YQ(y,d.orientation,d.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=h().filter(w=>w.focusable).map(w=>w.ref.current);if(b==="last")v.reverse();else if(b==="prev"||b==="next"){b==="prev"&&v.reverse();const w=v.indexOf(y.currentTarget);v=d.loop?XQ(v,w+1):v.slice(w+1)}setTimeout(()=>qO(v))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});UO.displayName=zO;var GQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YQ(e,t,r){const n=HQ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return GQ[n]}function qO(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function XQ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var QQ=BO,JQ=UO;function ZQ(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var WO=e=>{const{present:t,children:r}=e,n=eJ(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=of(n.ref,tJ(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:i}):null};WO.displayName="Presence";function eJ(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ZQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=bu(n.current);i.current=l==="mounted"?u:"none"},[l]),cf(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=bu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),cf(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const x=bu(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&x&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=bu(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function bu(e){return(e==null?void 0:e.animationName)||"none"}function tJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Dh="Tabs",[rJ]=By(Dh,[FO]),VO=FO(),[nJ,zy]=rJ(Dh),KO=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=$O(l),[f,h]=DO({prop:n,onChange:a,defaultProp:i??"",caller:Dh});return s.jsx(nJ,{scope:r,baseId:RO(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(ei.div,{dir:d,"data-orientation":o,...u,ref:t})})});KO.displayName=Dh;var GO="TabsList",HO=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=zy(GO,r),o=VO(r);return s.jsx(QQ,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(ei.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});HO.displayName=GO;var YO="TabsTrigger",XO=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=zy(YO,r),l=VO(r),c=ZO(o.baseId,n),u=e4(o.baseId,n),d=n===o.value;return s.jsx(JQ,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(ei.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Wn(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Wn(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Wn(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});XO.displayName=YO;var QO="TabsContent",JO=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=zy(QO,r),c=ZO(l.baseId,n),u=e4(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(WO,{present:a||d,children:({present:h})=>s.jsx(ei.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});JO.displayName=QO;function ZO(e,t){return`${e}-trigger-${t}`}function e4(e,t){return`${e}-content-${t}`}var aJ=KO,t4=HO,r4=XO,n4=JO;const a4=aJ,Uy=p.forwardRef(({className:e,...t},r)=>s.jsx(t4,{ref:r,className:jr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Uy.displayName=t4.displayName;const Ia=p.forwardRef(({className:e,...t},r)=>s.jsx(r4,{ref:r,className:jr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ia.displayName=r4.displayName;const Ma=p.forwardRef(({className:e,...t},r)=>s.jsx(n4,{ref:r,className:jr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ma.displayName=n4.displayName;const KN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GN=me,qy=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return GN(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=KN(d)||KN(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[x,y]=g;return Array.isArray(y)?y.includes({...i,...l}[x]):{...i,...l}[x]===y})?[...u,f,h]:u},[]);return GN(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},sJ=qy("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",doce:"bg-gradient-doce text-white hover:shadow-lg hover:shadow-doce-500/25 hover:scale-105 active:scale-95",success:"bg-green-600 text-white hover:bg-green-700",warning:"bg-yellow-600 text-white hover:bg-yellow-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Et=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?CQ:"button";return s.jsx(o,{className:jr(sJ({variant:t,size:r,className:e})),ref:i,...a})});Et.displayName="Button";const tt=p.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:jr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 input-focus",e),ref:n,...r}));tt.displayName="Input";var iJ="Label",s4=p.forwardRef((e,t)=>s.jsx(ei.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));s4.displayName=iJ;var i4=s4;const oJ=qy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=p.forwardRef(({className:e,...t},r)=>s.jsx(i4,{ref:r,className:jr(oJ(),e),...t}));ve.displayName=i4.displayName;const lJ=qy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200"}},defaultVariants:{variant:"default"}});function ui({className:e,variant:t,...r}){return s.jsx("div",{className:jr(lJ({variant:t}),e),...r})}function cJ({onUploadReceita:e,onUploadDespesa:t,onManualReceita:r,onManualDespesa:n,onGastoPlanejado:a}){const[i,o]=p.useState(!1),[l,c]=p.useState(!1);return s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>o(!i),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),"+ Receita",s.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&s.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border z-20",children:s.jsxs("div",{className:"py-2",children:[s.jsxs("button",{onClick:()=>{e(),o(!1)},className:"w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100 flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-3 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"📄 Upload Comprovante"}),s.jsx("div",{className:"text-xs text-gray-500",children:"IA extrai dados automaticamente"})]})]}),s.jsxs("button",{onClick:()=>{r(),o(!1)},className:"w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100 flex items-center",children:[s.jsx(Bn,{className:"h-4 w-4 mr-3 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"✏️ Preencher Manual"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Digite os dados diretamente"})]})]})]})}),i&&s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>c(!l),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center",children:[s.jsx(pg,{className:"h-4 w-4 mr-2"}),"+ Despesa",s.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&s.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border z-20",children:s.jsxs("div",{className:"py-2",children:[s.jsxs("button",{onClick:()=>{t(),c(!1)},className:"w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100 flex items-center",children:[s.jsx(Lr,{className:"h-4 w-4 mr-3 text-red-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"📄 Upload Comprovante"}),s.jsx("div",{className:"text-xs text-gray-500",children:"IA extrai dados automaticamente"})]})]}),s.jsxs("button",{onClick:()=>{n(),c(!1)},className:"w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100 flex items-center",children:[s.jsx(Bn,{className:"h-4 w-4 mr-3 text-red-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"✏️ Preencher Manual"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Digite os dados diretamente"})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)})]}),s.jsx("button",{onClick:a,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center",children:"🎯 + Gasto Planejado"})]})}function uJ(){const{user:e}=Ie(),{toast:t}=Xs(),[r,n]=p.useState([]),[a,i]=p.useState([]),[o,l]=p.useState(!0),[c,u]=p.useState(null),d=async()=>{if(e!=null&&e.id)try{const{data:v,error:w}=await te.from("transacoes_financeiras").select("*").eq("user_id",e.id).order("data_transacao",{ascending:!1});if(w)throw w;n(v||[])}catch(v){console.error("Erro ao carregar transações:",v),u(v.message)}},f=async()=>{if(e!=null&&e.id)try{const{data:v,error:w}=await te.from("gastos_planejados").select("*").eq("user_id",e.id).order("data_vencimento",{ascending:!0});if(w)throw w;i(v||[])}catch(v){console.error("Erro ao carregar gastos planejados:",v),u(v.message)}};p.useEffect(()=>{e!=null&&e.id&&(l(!0),Promise.all([d(),f()]).finally(()=>l(!1)))},[e==null?void 0:e.id]);const h=async v=>{if(!(e!=null&&e.id))return null;try{const{data:w,error:N}=await te.from("transacoes_financeiras").insert({...v,user_id:e.id}).select().single();if(N)throw N;return n(_=>[w,..._]),t({title:"✅ Transação salva",description:`${v.tipo==="receita"?"Receita":"Despesa"} de R$ ${v.valor.toFixed(2)} adicionada`}),w}catch(w){return console.error("Erro ao adicionar transação:",w),t({title:"❌ Erro",description:"Erro ao salvar transação: "+w.message,variant:"destructive"}),null}},m=async(v,w)=>{if(!(e!=null&&e.id))return!1;try{const{error:N}=await te.from("transacoes_financeiras").update(w).eq("id",v).eq("user_id",e.id);if(N)throw N;return n(_=>_.map(S=>S.id===v?{...S,...w}:S)),t({title:"✅ Transação atualizada",description:"Transação foi atualizada com sucesso"}),!0}catch(N){return console.error("Erro ao atualizar transação:",N),t({title:"❌ Erro",description:"Erro ao atualizar transação: "+N.message,variant:"destructive"}),!1}},g=async v=>{if(!(e!=null&&e.id))return!1;try{const{error:w}=await te.from("transacoes_financeiras").delete().eq("id",v).eq("user_id",e.id);if(w)throw w;return n(N=>N.filter(_=>_.id!==v)),t({title:"✅ Transação removida",description:"Transação foi removida com sucesso"}),!0}catch(w){return console.error("Erro ao deletar transação:",w),t({title:"❌ Erro",description:"Erro ao deletar transação: "+w.message,variant:"destructive"}),!1}},x=async v=>{if(!(e!=null&&e.id))return null;try{const{data:w,error:N}=await te.from("gastos_planejados").insert({...v,user_id:e.id}).select().single();if(N)throw N;return i(_=>[..._,w]),t({title:"✅ Gasto planejado salvo",description:`Gasto "${v.nome}" de R$ ${v.valor_estimado.toFixed(2)} adicionado`}),w}catch(w){return console.error("Erro ao adicionar gasto planejado:",w),t({title:"❌ Erro",description:"Erro ao salvar gasto planejado: "+w.message,variant:"destructive"}),null}},y=async(v,w)=>{if(!(e!=null&&e.id))return!1;try{const{error:N}=await te.from("gastos_planejados").update(w).eq("id",v).eq("user_id",e.id);if(N)throw N;return i(_=>_.map(S=>S.id===v?{...S,...w}:S)),t({title:"✅ Gasto planejado atualizado",description:"Gasto planejado foi atualizado com sucesso"}),!0}catch(N){return console.error("Erro ao atualizar gasto planejado:",N),t({title:"❌ Erro",description:"Erro ao atualizar gasto planejado: "+N.message,variant:"destructive"}),!1}},b=async v=>{if(!(e!=null&&e.id))return!1;try{const{error:w}=await te.from("gastos_planejados").delete().eq("id",v).eq("user_id",e.id);if(w)throw w;return i(N=>N.filter(_=>_.id!==v)),t({title:"✅ Gasto planejado removido",description:"Gasto planejado foi removido com sucesso"}),!0}catch(w){return console.error("Erro ao deletar gasto planejado:",w),t({title:"❌ Erro",description:"Erro ao deletar gasto planejado: "+w.message,variant:"destructive"}),!1}},j={receitas:r.filter(v=>v.tipo==="receita").reduce((v,w)=>v+w.valor,0),despesas:r.filter(v=>v.tipo==="despesa").reduce((v,w)=>v+w.valor,0),saldo:r.reduce((v,w)=>v+(w.tipo==="receita"?w.valor:-w.valor),0),gastosPlanejadosTotal:a.filter(v=>!v.pago).reduce((v,w)=>v+w.valor_estimado,0)};return{transacoes:r,gastosPlanejados:a,loading:o,error:c,totais:j,addTransacao:h,updateTransacao:m,deleteTransacao:g,addGastoPlanejado:x,updateGastoPlanejado:y,deleteGastoPlanejado:b,refreshTransacoes:d,refreshGastosPlanejados:f}}function dJ(e){return{vendasMensais:[{name:"Jan",vendas:4e3,gastos:2400,lucro:1600},{name:"Fev",vendas:3e3,gastos:1398,lucro:1602},{name:"Mar",vendas:2e3,gastos:2800,lucro:-800},{name:"Abr",vendas:2780,gastos:3908,lucro:-1128},{name:"Mai",vendas:1890,gastos:4800,lucro:-2910},{name:"Jun",vendas:2390,gastos:3800,lucro:-1410}],gastosCategoria:[{name:"Ingredientes",value:30,color:"#8884d8"},{name:"Embalagens",value:25,color:"#82ca9d"},{name:"Equipamentos",value:20,color:"#ffc658"},{name:"Marketing",value:15,color:"#ff7300"},{name:"Outros",value:10,color:"#0088FE"}],receitasPopulares:[{name:"Bolos",value:4e3},{name:"Docinhos",value:3e3},{name:"Tortas",value:2e3},{name:"Cupcakes",value:2780},{name:"Salgados",value:1890}],crescimentoMensal:[{name:"Jan",value:12},{name:"Fev",value:15},{name:"Mar",value:-8},{name:"Abr",value:18},{name:"Mai",value:22},{name:"Jun",value:28}]}}function fJ(){const{toast:e}=Xs(),t=p.useRef(null),{transacoes:r,gastosPlanejados:n,loading:a,totais:i,addTransacao:o,deleteTransacao:l,addGastoPlanejado:c,updateGastoPlanejado:u,deleteGastoPlanejado:d}=uJ(),[f,h]=p.useState(!1),[m,g]=p.useState(!1),[x,y]=p.useState(null),[b,j]=p.useState(!1),[v,w]=p.useState(null),[N,_]=p.useState(!1),[S,C]=p.useState({tipo:"receita",categoria:"",valor:0,descricao:"",data:new Date().toISOString().split("T")[0],metodo_pagamento:""}),[T,O]=p.useState({nome:"",valor_estimado:0,data_vencimento:"",categoria:"Outros",observacoes:""}),P=dJ(),A=async()=>{if(!S.categoria||!S.valor||!S.data){e({title:"❌ Campos obrigatórios",description:"Preencha categoria, valor e data",variant:"destructive"});return}await o({tipo:S.tipo,categoria:S.categoria,valor:S.valor,descricao:S.descricao,data_transacao:S.data,metodo_pagamento:S.metodo_pagamento})&&(C({tipo:"receita",categoria:"",valor:0,descricao:"",data:new Date().toISOString().split("T")[0],metodo_pagamento:""}),g(!1))},F=async()=>{if(!T.nome||!T.valor_estimado){e({title:"❌ Campos obrigatórios",description:"Preencha nome e valor estimado",variant:"destructive"});return}await c({nome:T.nome,valor_estimado:T.valor_estimado,data_vencimento:T.data_vencimento||void 0,categoria:T.categoria,observacoes:T.observacoes,pago:!1})&&(O({nome:"",valor_estimado:0,data_vencimento:"",categoria:"Outros",observacoes:""}),_(!1))},z=async()=>{if(!v||!v.valor||!v.categoria){e({title:"❌ Dados incompletos",description:"Valor e categoria são obrigatórios",variant:"destructive"});return}await o({tipo:x,categoria:v.categoria,valor:parseFloat(v.valor),descricao:v.descricao||"",data_transacao:v.data||new Date().toISOString().split("T")[0],metodo_pagamento:v.metodo_pagamento||"",comprovante_url:v.comprovante_url||"",dados_ocr:v})&&(h(!1),y(null),w(null))},q=async E=>{var R;const k=(R=E.target.files)==null?void 0:R[0];if(k){if(k.size>10*1024*1024){e({title:"❌ Arquivo muito grande",description:"O arquivo deve ter no máximo 10MB",variant:"destructive"});return}j(!0);try{const B=new FormData;B.append("file",k),B.append("tipo",x||"");const V=await fetch("/api/supabase/functions/process-financial-document",{method:"POST",body:B});if(!V.ok)throw new Error("Erro ao processar documento");const X=await V.json();w(X.dados),e({title:"✅ Documento processado",description:"Dados extraídos com sucesso! Revise e confirme."})}catch(B){console.error("Erro no OCR:",B),e({title:"❌ Erro no processamento",description:"Não foi possível extrair os dados do documento.",variant:"destructive"})}finally{j(!1)}}};return a?s.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(hn,{className:"h-12 w-12 animate-spin mx-auto text-blue-600 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Carregando dados financeiros..."}),s.jsx("p",{className:"text-gray-600",children:"Aguarde enquanto carregamos suas informações"})]})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[s.jsxs(re,{to:"/dashboard",className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[s.jsx(Ve,{className:"h-5 w-5 mr-2"}),"Voltar ao Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(re,{to:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(Ve,{className:"h-5 w-5 mr-2"}),"Voltar"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:"💰 Controle Financeiro"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie receitas, despesas e planejamento financeiro"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Yt,{children:[s.jsxs(ya,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ba,{className:"text-sm font-medium",children:"💰 Receitas"}),s.jsx(Jn,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(Kr,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",i.receitas.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.filter(E=>E.tipo==="receita").length," transação(ões)"]})]})]}),s.jsxs(Yt,{children:[s.jsxs(ya,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ba,{className:"text-sm font-medium",children:"💸 Despesas"}),s.jsx(pg,{className:"h-4 w-4 text-red-600"})]}),s.jsxs(Kr,{children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["R$ ",i.despesas.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.filter(E=>E.tipo==="despesa").length," transação(ões)"]})]})]}),s.jsxs(Yt,{children:[s.jsxs(ya,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ba,{className:"text-sm font-medium",children:"💳 Saldo Atual"}),s.jsx(_M,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(Kr,{children:[s.jsxs("div",{className:`text-2xl font-bold ${i.saldo>=0?"text-green-600":"text-red-600"}`,children:["R$ ",i.saldo.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.saldo>=0?"Saldo positivo":"Saldo negativo"})]})]}),s.jsxs(Yt,{children:[s.jsxs(ya,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ba,{className:"text-sm font-medium",children:"🎯 Gastos Planejados"}),s.jsx(gd,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs(Kr,{children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["R$ ",i.gastosPlanejadosTotal.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.filter(E=>!E.pago).length," pendente(s)"]})]})]})]}),s.jsx(cJ,{onUploadReceita:()=>{y("receita"),h(!0)},onUploadDespesa:()=>{y("despesa"),h(!0)},onManualReceita:()=>{C(E=>({...E,tipo:"receita"})),g(!0)},onManualDespesa:()=>{C(E=>({...E,tipo:"despesa"})),g(!0)},onGastoPlanejado:()=>_(!0)}),s.jsxs(a4,{defaultValue:"visao-geral",className:"space-y-6",children:[s.jsxs(Uy,{className:"grid w-full grid-cols-4",children:[s.jsx(Ia,{value:"visao-geral",children:"📊 Visão Geral"}),s.jsx(Ia,{value:"receitas",children:"💰 Receitas"}),s.jsx(Ia,{value:"despesas",children:"💸 Despesas"}),s.jsx(Ia,{value:"planejamento",children:"🎯 Planejamento"})]}),s.jsx(Ma,{value:"visao-geral",children:s.jsx(kO,{...P})}),s.jsx(Ma,{value:"receitas",children:s.jsxs(Yt,{children:[s.jsx(ya,{children:s.jsx(ba,{className:"flex items-center",children:"💰 Receitas Registradas"})}),s.jsx(Kr,{children:s.jsx("div",{className:"space-y-4",children:a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hn,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando receitas..."})]}):r.filter(E=>E.tipo==="receita").length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(sn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhuma receita registrada ainda."})]}):r.filter(E=>E.tipo==="receita").map(E=>s.jsx(Yt,{className:"border-l-4 border-l-green-500",children:s.jsx(Kr,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(ui,{variant:"outline",className:"text-green-600 border-green-200",children:E.categoria}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(E.data_transacao).toLocaleDateString("pt-BR")})]}),s.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["R$ ",E.valor.toFixed(2)]}),E.descricao&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.descricao}),E.metodo_pagamento&&s.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[s.jsx(Ow,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{className:"text-xs text-gray-500",children:E.metodo_pagamento})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[E.dados_ocr&&s.jsxs(ui,{variant:"secondary",className:"text-xs",children:[s.jsx(Ga,{className:"h-3 w-3 mr-1"}),"OCR"]}),s.jsx(Et,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>E.id&&l(E.id),children:s.jsx(nn,{className:"h-4 w-4"})})]})]})})},E.id))})})]})}),s.jsx(Ma,{value:"despesas",children:s.jsxs(Yt,{children:[s.jsx(ya,{children:s.jsx(ba,{className:"flex items-center",children:"💸 Despesas Registradas"})}),s.jsx(Kr,{children:s.jsx("div",{className:"space-y-4",children:a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hn,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando despesas..."})]}):r.filter(E=>E.tipo==="despesa").length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(pg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhuma despesa registrada ainda."})]}):r.filter(E=>E.tipo==="despesa").map(E=>s.jsx(Yt,{className:"border-l-4 border-l-red-500",children:s.jsx(Kr,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(ui,{variant:"outline",className:"text-red-600 border-red-200",children:E.categoria}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(E.data_transacao).toLocaleDateString("pt-BR")})]}),s.jsxs("p",{className:"text-lg font-semibold text-red-600",children:["R$ ",E.valor.toFixed(2)]}),E.descricao&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.descricao}),E.metodo_pagamento&&s.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[s.jsx(Ow,{className:"h-3 w-3 text-gray-400"}),s.jsx("span",{className:"text-xs text-gray-500",children:E.metodo_pagamento})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[E.dados_ocr&&s.jsxs(ui,{variant:"secondary",className:"text-xs",children:[s.jsx(Ga,{className:"h-3 w-3 mr-1"}),"OCR"]}),s.jsx(Et,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>E.id&&l(E.id),children:s.jsx(nn,{className:"h-4 w-4"})})]})]})})},E.id))})})]})}),s.jsx(Ma,{value:"planejamento",children:s.jsxs(Yt,{children:[s.jsx(ya,{children:s.jsxs(ba,{className:"flex items-center justify-between",children:["🎯 Gastos Planejados",s.jsxs(Et,{onClick:()=>_(!0),size:"sm",className:"bg-orange-600 hover:bg-orange-700",children:[s.jsx(gr,{className:"h-4 w-4 mr-2"}),"Adicionar Gasto"]})]})}),s.jsx(Kr,{children:s.jsx("div",{className:"space-y-4",children:a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hn,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando gastos planejados..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(gd,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum gasto planejado ainda."})]}):n.map(E=>s.jsx(Yt,{className:`border-l-4 ${E.pago?"border-l-green-500":"border-l-orange-500"}`,children:s.jsx(Kr,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(ui,{variant:"outline",className:E.pago?"text-green-600 border-green-200":"text-orange-600 border-orange-200",children:E.categoria}),E.data_vencimento&&s.jsxs("span",{className:"text-sm text-gray-500",children:[s.jsx(If,{className:"h-3 w-3 inline mr-1"}),new Date(E.data_vencimento).toLocaleDateString("pt-BR")]}),s.jsx(ui,{variant:E.pago?"default":"secondary",children:E.pago?"✅ Pago":"⏰ Pendente"})]}),s.jsx("h4",{className:"font-semibold text-gray-900",children:E.nome}),s.jsxs("p",{className:`text-lg font-semibold ${E.pago?"text-green-600":"text-orange-600"}`,children:["R$ ",E.valor_estimado.toFixed(2)]}),E.observacoes&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.observacoes})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Et,{size:"sm",variant:E.pago?"secondary":"default",onClick:()=>E.id&&u(E.id,{pago:!E.pago}),children:E.pago?"Marcar Pendente":"Marcar Pago"}),s.jsx(Et,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>E.id&&d(E.id),children:s.jsx(nn,{className:"h-4 w-4"})})]})]})})},E.id))})})]})})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:x==="receita"?"📸 Upload Receita":"📸 Upload Despesa"}),s.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>{h(!1),y(null),w(null)},children:s.jsx(Lt,{className:"h-4 w-4"})})]}),v?s.jsxs("div",{children:[s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(je,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("p",{className:"text-sm text-green-800",children:"Dados extraídos com sucesso!"})]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Revise e edite se necessário"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),s.jsx("input",{type:"number",step:"0.01",value:v.valor||0,onChange:E=>w(k=>({...k,valor:parseFloat(E.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),s.jsx("input",{type:"text",value:v.descricao||"",onChange:E=>w(k=>({...k,descricao:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),s.jsx("input",{type:"date",value:v.data||"",onChange:E=>w(k=>({...k,data:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),s.jsx("select",{value:v.categoria||"",onChange:E=>w(k=>({...k,categoria:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:x==="receita"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Vendas Bolos",children:"Vendas Bolos"}),s.jsx("option",{value:"Vendas Docinhos",children:"Vendas Docinhos"}),s.jsx("option",{value:"Vendas Tortas",children:"Vendas Tortas"}),s.jsx("option",{value:"Encomendas",children:"Encomendas"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Ingredientes",children:"Ingredientes"}),s.jsx("option",{value:"Equipamentos",children:"Equipamentos"}),s.jsx("option",{value:"Embalagens",children:"Embalagens"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Outros",children:"Outros"})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Voltar"}),s.jsx("button",{onClick:z,className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Confirmar Transação"})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Faça upload da foto da nota fiscal, comprovante ou extrato para extrair os dados automaticamente com IA."}),b?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hn,{className:"h-8 w-8 animate-spin mx-auto text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"🤖 IA processando documento..."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Analisando dados da imagem"})]}):s.jsxs("div",{onClick:()=>{var E;return(E=t.current)==null?void 0:E.click()},className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[s.jsx(Lr,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Clique para fazer upload"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG até 10MB"})]}),s.jsx("input",{ref:t,type:"file",accept:"image/*",onChange:q,className:"hidden"}),s.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:s.jsx("button",{onClick:()=>{h(!1),y(null),w(null)},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"})})]})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:S.tipo==="receita"?"💰 Nova Receita":"💸 Nova Despesa"}),s.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>g(!1),children:s.jsx(Lt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"categoria",children:"Categoria *"}),s.jsxs("select",{id:"categoria",value:S.categoria,onChange:E=>C(k=>({...k,categoria:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),S.tipo==="receita"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Vendas Bolos",children:"Vendas Bolos"}),s.jsx("option",{value:"Vendas Docinhos",children:"Vendas Docinhos"}),s.jsx("option",{value:"Vendas Tortas",children:"Vendas Tortas"}),s.jsx("option",{value:"Encomendas",children:"Encomendas"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Ingredientes",children:"Ingredientes"}),s.jsx("option",{value:"Equipamentos",children:"Equipamentos"}),s.jsx("option",{value:"Embalagens",children:"Embalagens"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Outros",children:"Outros"})]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"valor",children:"Valor *"}),s.jsx(tt,{id:"valor",type:"number",step:"0.01",value:S.valor,onChange:E=>C(k=>({...k,valor:parseFloat(E.target.value)||0})),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"descricao",children:"Descrição"}),s.jsx(tt,{id:"descricao",type:"text",value:S.descricao,onChange:E=>C(k=>({...k,descricao:E.target.value})),placeholder:"Descreva a transação"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"data",children:"Data *"}),s.jsx(tt,{id:"data",type:"date",value:S.data,onChange:E=>C(k=>({...k,data:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"metodo_pagamento",children:"Método de Pagamento"}),s.jsxs("select",{id:"metodo_pagamento",value:S.metodo_pagamento,onChange:E=>C(k=>({...k,metodo_pagamento:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"Dinheiro",children:"Dinheiro"}),s.jsx("option",{value:"PIX",children:"PIX"}),s.jsx("option",{value:"Cartão de Débito",children:"Cartão de Débito"}),s.jsx("option",{value:"Cartão de Crédito",children:"Cartão de Crédito"}),s.jsx("option",{value:"Transferência",children:"Transferência"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(Et,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),s.jsx(Et,{onClick:A,disabled:!S.categoria||!S.valor||!S.data,className:"bg-blue-600 hover:bg-blue-700",children:"Salvar Transação"})]})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"🎯 Novo Gasto Planejado"}),s.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>_(!1),children:s.jsx(Lt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"nome",children:"Nome do Gasto *"}),s.jsx(tt,{id:"nome",type:"text",value:T.nome,onChange:E=>O(k=>({...k,nome:E.target.value})),placeholder:"Ex: Ingredientes do mês"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"valor_estimado",children:"Valor Estimado *"}),s.jsx(tt,{id:"valor_estimado",type:"number",step:"0.01",value:T.valor_estimado,onChange:E=>O(k=>({...k,valor_estimado:parseFloat(E.target.value)||0})),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"data_vencimento",children:"Data de Vencimento"}),s.jsx(tt,{id:"data_vencimento",type:"date",value:T.data_vencimento,onChange:E=>O(k=>({...k,data_vencimento:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"categoria_gasto",children:"Categoria"}),s.jsxs("select",{id:"categoria_gasto",value:T.categoria,onChange:E=>O(k=>({...k,categoria:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"Ingredientes",children:"Ingredientes"}),s.jsx("option",{value:"Equipamentos",children:"Equipamentos"}),s.jsx("option",{value:"Embalagens",children:"Embalagens"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Outros",children:"Outros"})]})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"observacoes",children:"Observações"}),s.jsx(tt,{id:"observacoes",type:"text",value:T.observacoes,onChange:E=>O(k=>({...k,observacoes:E.target.value})),placeholder:"Observações adicionais"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx(Et,{variant:"outline",onClick:()=>_(!1),children:"Cancelar"}),s.jsx(Et,{onClick:F,disabled:!T.nome||!T.valor_estimado,className:"bg-blue-600 hover:bg-blue-700",children:"Salvar Gasto Planejado"})]})]})})]})}function hJ(){var _,S;const{user:e,profile:t,updateProfile:r}=Ie(),{toast:n}=Xs(),a=on(),[i,o]=p.useState(!1),[l,c]=p.useState({}),[u,d]=p.useState({}),[f,h]=p.useState({nome:"",nome_negocio:"",telefone:"",whatsapp:"",instagram:"",endereco:"",cidade:"",estado:"",cep:"",bio:""});p.useEffect(()=>{t&&(h({nome:t.nome||"",nome_negocio:t.nome_negocio||"",telefone:t.telefone||"",whatsapp:t.whatsapp||"",instagram:t.instagram||"",endereco:t.endereco||"",cidade:t.cidade||"",estado:t.estado||"",cep:t.cep||"",bio:t.bio||""}),m())},[t]);const m=async()=>{if(e)try{const{data:C,error:T}=await te.from("configuracoes_usuario").select("*").eq("user_id",e.id).single();C&&!T&&c({custo_hora_trabalho:C.custo_hora_trabalho||25,margem_padrao:C.margem_padrao||30,moeda:C.moeda||"BRL",fuso_horario:C.fuso_horario||"America/Sao_Paulo",notificacoes_email:C.notificacoes_email??!0,notificacoes_whatsapp:C.notificacoes_whatsapp??!0})}catch(C){console.error("Erro ao carregar configurações:",C)}},g=(C,T)=>{h(O=>({...O,[C]:T}))},x=(C,T)=>{c(O=>({...O,[C]:T}))},y=(C,T)=>{d(O=>({...O,[C]:T}))},b=C=>{const T=C.replace(/\D/g,"");return T.length<=10?T.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):T.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},j=C=>C.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),v=async C=>{const T=C.replace(/\D/g,"");if(T.length===8)try{const P=await(await fetch(`https://viacep.com.br/ws/${T}/json/`)).json();P.erro||h(A=>({...A,endereco:P.logradouro||"",cidade:P.localidade||"",estado:P.uf||""}))}catch(O){console.error("Erro ao buscar CEP:",O)}},w=async()=>{if(e){o(!0);try{await r(f);const{error:C}=await te.from("configuracoes_usuario").upsert({user_id:e.id,...l,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(C)throw C;n({title:"Perfil salvo!",description:"Suas informações foram atualizadas com sucesso."})}catch(C){n({title:"Erro ao salvar",description:C.message,variant:"destructive"})}finally{o(!1)}}},N=()=>{n({title:"Upload de foto",description:"Funcionalidade será implementada em breve com Cloudinary."})};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(Et,{variant:"outline",size:"sm",onClick:()=>a("/dashboard"),className:"flex items-center gap-2",children:[s.jsx(Ve,{className:"w-4 h-4"}),"Voltar"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Perfil"}),s.jsx("p",{className:"text-gray-600",children:"Gerencie suas informações pessoais e do negócio"})]})]}),s.jsxs(a4,{defaultValue:"pessoais",className:"w-full",children:[s.jsxs(Uy,{className:"grid w-full grid-cols-3",children:[s.jsxs(Ia,{value:"pessoais",className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"w-4 h-4"}),"Dados Pessoais"]}),s.jsxs(Ia,{value:"negocio",className:"flex items-center gap-2",children:[s.jsx(uM,{className:"w-4 h-4"}),"Negócio"]}),s.jsxs(Ia,{value:"configuracoes",className:"flex items-center gap-2",children:[s.jsx(jM,{className:"w-4 h-4"}),"Configurações"]})]}),s.jsx(Ma,{value:"pessoais",children:s.jsx(Yt,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 bg-purple-100 rounded-full flex items-center justify-center",children:t!=null&&t.foto_perfil?s.jsx("img",{src:t.foto_perfil,alt:"Foto do perfil",className:"w-24 h-24 rounded-full object-cover"}):s.jsx(Tr,{className:"w-12 h-12 text-purple-600"})}),s.jsxs(Et,{variant:"outline",onClick:N,className:"flex items-center gap-2",children:[s.jsx(Lr,{className:"w-4 h-4"}),"Alterar Foto"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"nome",children:"Nome Completo *"}),s.jsx(tt,{id:"nome",value:f.nome,onChange:C=>g("nome",C.target.value),placeholder:"Seu nome completo"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"telefone",children:"Telefone"}),s.jsx(tt,{id:"telefone",value:f.telefone,onChange:C=>g("telefone",b(C.target.value)),placeholder:"(11) 99999-9999",maxLength:15})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"whatsapp",children:"WhatsApp"}),s.jsx(tt,{id:"whatsapp",value:f.whatsapp,onChange:C=>g("whatsapp",b(C.target.value)),placeholder:"(11) 99999-9999",maxLength:15})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"instagram",children:"Instagram"}),s.jsx(tt,{id:"instagram",value:f.instagram,onChange:C=>g("instagram",C.target.value),placeholder:"@seuusuario"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"cep",children:"CEP"}),s.jsx(tt,{id:"cep",value:f.cep,onChange:C=>{const T=j(C.target.value);g("cep",T),T.length===9&&v(T)},placeholder:"00000-000",maxLength:9})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"endereco",children:"Endereço"}),s.jsx(tt,{id:"endereco",value:f.endereco,onChange:C=>g("endereco",C.target.value),placeholder:"Rua, número, bairro"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"cidade",children:"Cidade"}),s.jsx(tt,{id:"cidade",value:f.cidade,onChange:C=>g("cidade",C.target.value),placeholder:"Sua cidade"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"estado",children:"Estado"}),s.jsx(tt,{id:"estado",value:f.estado,onChange:C=>g("estado",C.target.value),placeholder:"UF",maxLength:2})]})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"bio",children:"Biografia / Apresentação"}),s.jsx("textarea",{id:"bio",value:f.bio,onChange:C=>g("bio",C.target.value),placeholder:"Conte um pouco sobre você e sua paixão pela confeitaria...",className:"w-full min-h-24 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:500}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f.bio.length,"/500 caracteres"]})]})]})})}),s.jsx(Ma,{value:"negocio",children:s.jsx(Yt,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"nome_negocio",children:"Nome da Confeitaria *"}),s.jsx(tt,{id:"nome_negocio",value:f.nome_negocio,onChange:C=>g("nome_negocio",C.target.value),placeholder:"Nome do seu negócio"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"tipo_negocio",children:"Tipo de Negócio"}),s.jsxs("select",{id:"tipo_negocio",value:u.tipo_negocio||"",onChange:C=>y("tipo_negocio",C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"",children:"Selecione"}),s.jsx("option",{value:"hobby",children:"Hobby / Diversão"}),s.jsx("option",{value:"mei",children:"MEI / Microempreendedor"}),s.jsx("option",{value:"empresa",children:"Empresa / Confeitaria"})]})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"tempo_experiencia",children:"Tempo de Experiência (anos)"}),s.jsx(tt,{id:"tempo_experiencia",type:"number",min:"0",max:"50",value:u.tempo_experiencia||"",onChange:C=>y("tempo_experiencia",parseInt(C.target.value)||0),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"numero_funcionarios",children:"Número de Funcionários"}),s.jsx(tt,{id:"numero_funcionarios",type:"number",min:"0",value:u.numero_funcionarios||"",onChange:C=>y("numero_funcionarios",parseInt(C.target.value)||0),placeholder:"0"})]})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"especialidades",children:"Especialidades"}),s.jsx("textarea",{id:"especialidades",value:((_=u.especialidades)==null?void 0:_.join(", "))||"",onChange:C=>y("especialidades",C.target.value.split(",").map(T=>T.trim()).filter(Boolean)),placeholder:"Ex: Bolos personalizados, Brigadeiros gourmet, Tortas geladas, Docinhos finos...",className:"w-full min-h-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Separe por vírgulas"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"principais_produtos",children:"Principais Produtos"}),s.jsx("textarea",{id:"principais_produtos",value:((S=u.principais_produtos)==null?void 0:S.join(", "))||"",onChange:C=>y("principais_produtos",C.target.value.split(",").map(T=>T.trim()).filter(Boolean)),placeholder:"Ex: Bolo de chocolate, Brigadeiro tradicional, Torta de limão...",className:"w-full min-h-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Separe por vírgulas"})]})]})})}),s.jsx(Ma,{value:"configuracoes",children:s.jsx(Yt,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Configurações do Negócio"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"custo_hora",children:"Custo por Hora de Trabalho (R$)"}),s.jsx(tt,{id:"custo_hora",type:"number",min:"0",step:"0.01",value:l.custo_hora_trabalho||"",onChange:C=>x("custo_hora_trabalho",parseFloat(C.target.value)||0),placeholder:"25.00"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"margem_padrao",children:"Margem de Lucro Padrão (%)"}),s.jsx(tt,{id:"margem_padrao",type:"number",min:"0",max:"100",value:l.margem_padrao||"",onChange:C=>x("margem_padrao",parseFloat(C.target.value)||0),placeholder:"30"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Notificações"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{id:"notif_email",type:"checkbox",checked:l.notificacoes_email||!1,onChange:C=>x("notificacoes_email",C.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),s.jsx(ve,{htmlFor:"notif_email",children:"Receber notificações por email"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{id:"notif_whats",type:"checkbox",checked:l.notificacoes_whatsapp||!1,onChange:C=>x("notificacoes_whatsapp",C.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),s.jsx(ve,{htmlFor:"notif_whats",children:"Receber notificações por WhatsApp"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Plano Atual"}),s.jsx("div",{className:"p-4 bg-purple-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Plano ",(t==null?void 0:t.plano)==="professional"?"Profissional":"Gratuito"]}),s.jsx("p",{className:"text-sm text-gray-600",children:(t==null?void 0:t.plano)==="professional"?"Acesso a todas as funcionalidades premium":"Funcionalidades básicas disponíveis"})]}),(t==null?void 0:t.plano)==="free"&&s.jsx(Et,{variant:"outline",onClick:()=>a("/upgrade"),className:"text-purple-600 border-purple-600 hover:bg-purple-50",children:"Fazer Upgrade"})]})})]})]})})})]}),s.jsx("div",{className:"fixed bottom-6 right-6",children:s.jsxs(Et,{onClick:w,disabled:i,size:"lg",className:"bg-purple-600 hover:bg-purple-700 shadow-lg flex items-center gap-2",children:[s.jsx(Bl,{className:"w-4 h-4"}),i?"Salvando...":"Salvar Alterações"]})})]})})}function mJ(){return s.jsx("div",{className:"w-full min-h-screen bg-background text-foreground",children:s.jsxs(k3,{children:[s.jsx(ye,{path:"/",element:s.jsx(CM,{})}),s.jsx(ye,{path:"/login",element:s.jsx(kM,{})}),s.jsx(ye,{path:"/reset-password",element:s.jsx(SM,{})}),s.jsx(ye,{path:"/dashboard",element:s.jsx(ze,{children:s.jsx(EM,{})})}),s.jsx(ye,{path:"/calculadora",element:s.jsx(ze,{children:s.jsx(AM,{})})}),s.jsx(ye,{path:"/receitas",element:s.jsx(ze,{children:s.jsx($M,{})})}),s.jsx(ye,{path:"/ingredientes",element:s.jsx(ze,{children:s.jsx(LM,{})})}),s.jsx(ye,{path:"/clientes",element:s.jsx(ze,{children:s.jsx(BM,{})})}),s.jsx(ye,{path:"/orcamentos",element:s.jsx(ze,{children:s.jsx(ER,{})})}),s.jsx(ye,{path:"/relatorios-avancados",element:s.jsx(ze,{requiresPro:!0,children:s.jsx(bX,{})})}),s.jsx(ye,{path:"/ferramentas",element:s.jsx(ze,{children:s.jsx(jX,{})})}),s.jsx(ye,{path:"/upgrade",element:s.jsx(ze,{children:s.jsx(NX,{})})}),s.jsx(ye,{path:"/upgrade/pix",element:s.jsx(ze,{children:s.jsx(_X,{})})}),s.jsx(ye,{path:"/upgrade/stripe",element:s.jsx(ze,{children:s.jsx(SX,{})})}),s.jsx(ye,{path:"/upgrade-success",element:s.jsx(ze,{children:s.jsx(CX,{})})}),s.jsx(ye,{path:"/subscription",element:s.jsx(ze,{children:s.jsx(kX,{})})}),s.jsx(ye,{path:"/como-usar",element:s.jsx(ze,{children:s.jsx(EX,{})})}),s.jsx(ye,{path:"/meu-catalogo",element:s.jsx(ze,{children:s.jsx(PX,{})})}),s.jsx(ye,{path:"/catalogo/:userId",element:s.jsx(AX,{})}),s.jsx(ye,{path:"/encomendas",element:s.jsx(ze,{children:s.jsx(OX,{})})}),s.jsx(ye,{path:"/comunidade",element:s.jsx(ze,{children:s.jsx(TX,{})})}),s.jsx(ye,{path:"/backup-emergencial",element:s.jsx(ze,{children:s.jsx(IX,{})})}),s.jsx(ye,{path:"/ai-assistant",element:s.jsx(ze,{children:s.jsx(LX,{})})}),s.jsx(ye,{path:"/marketplace",element:s.jsx(ze,{children:s.jsx(FX,{})})}),s.jsx(ye,{path:"/advanced-calculator",element:s.jsx(ze,{children:s.jsx(BX,{})})}),s.jsx(ye,{path:"/custom-catalog",element:s.jsx(ze,{children:s.jsx(WX,{})})}),s.jsx(ye,{path:"/financeiro",element:s.jsx(ze,{children:s.jsx(fJ,{})})}),s.jsx(ye,{path:"/perfil",element:s.jsx(ze,{children:s.jsx(hJ,{})})})]})})}function pJ(){return s.jsx(R3,{children:s.jsx(nM,{children:s.jsx(mJ,{})})})}ap.createRoot(document.getElementById("root")).render(s.jsx(En.StrictMode,{children:s.jsx(pJ,{})}));
